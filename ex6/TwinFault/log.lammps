LAMMPS (2 Aug 2023 - Update 3)
#####################################################################################################################
# Course: Theory, Modelling, and Simulation of Microstructures (TMS)
# Tutors: Dr. Arun Prakash
# Description: Input file for Twin Fault Energy (TFE) of your element
# Originally created by Richard Glaze, 2014. Modified by S. Roy, 2018
######################################################################################################################

# --------------------- INITIALIZAITION ---------------------


clear
units		metal
dimension	3
boundary	p p s
atom_style	atomic
variable 	latparam1 equal 4.09000014545435    ### provide the lattice constant from your calculation
variable 	x_displace equal -1*(${latparam1}/sqrt(6))
variable 	x_displace equal -1*(4.09000014545435/sqrt(6))
variable 	xdim equal ${latparam1}*sqrt(6)/2*10
variable 	xdim equal 4.09000014545435*sqrt(6)/2*10
variable 	ydim equal ${latparam1}*sqrt(2)/2*10
variable 	ydim equal 4.09000014545435*sqrt(2)/2*10
variable 	atomjiggle equal 1.0e-5
variable 	Bx_displace equal 1.0

# --------------------- ATOM DEFINITION ---------------------
lattice		fcc ${latparam1}
lattice		fcc 4.09000014545435
Lattice spacing in x,y,z = 4.0900001 4.0900001 4.0900001
region		1 block -.001 ${xdim} -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 28.9206683790474 -.001 16.5 units box
region 		2 block -.001 ${xdim} -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 28.9206683790474 16.5 36.5808 units box
region 		3 block -.001 ${xdim} -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 28.9206683790474 19.5 36.5808 units box
region		whole block 0 ${xdim} 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 28.9206683790474 0 36.5808 units box
#the -.001 in the -x and -y and lower limit of region 1 are only to overcome a simple numerical issue but can be considered 0
create_box 	1 whole
Created orthogonal box = (0 0 0) to (50.092067 28.920668 36.5808)
  1 by 1 by 1 MPI processor grid
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms	1 region 1
Created 1400 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms 	1 region 2
Created 1800 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds

# --------------------- FORCE FIELDS ---------------------
#Provide potential
pair_style      eam/alloy ### --> TYPE OF POTENTIAL (eam (OR) eam/alloy)
pair_coeff      *  *  CuAg.eam.alloy Ag  ### POTENTIAL FILENAME


# --------------------- SETTINGS ---------------------

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.411 | 5.411 | 5.411 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press          Volume    
         0   0             -8963.0005      0             -8963.0005     -5973.3391      51324.051    
        30   0             -8964.0763      0             -8964.0763     -3443.7334      51324.051    
Loop time of 0.301633 on 1 procs for 30 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -8963.00049826424  -8964.07633391507  -8964.07633391507
  Force two-norm initial, final = 3.47643 4.9599618e-07
  Force max component initial, final = 0.12627393 1.6676942e-08
  Final line search alpha, max atom move = 0.5 8.3384712e-09
  Iterations, force evaluations = 30 60

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.29699    | 0.29699    | 0.29699    |   0.0 | 98.46
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00096692 | 0.00096692 | 0.00096692 |   0.0 |  0.32
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0.00056731 | 0.00056731 | 0.00056731 |   0.0 |  0.19
Other   |            | 0.003109   |            |       |  1.03

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0

compute 	peratom all pe/atom
compute 	eatoms all reduce sum c_peratom
compute 	csym all centro/atom fcc
thermo 		10
thermo_style 	custom step temp pe c_eatoms pxx pyy pzz lx ly lz fnorm
#dump 		1 all custom 1 dump.relax.1.* id type xs ys zs c_peratom c_csym
run 0
WARNING: No fixes with time integration, atoms won't move (../verlet.cpp:60)
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 9
  2 neighbor lists, perpetual/occasional/extra = 1 1 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
  (2) compute centro/atom, occasional
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.042 | 5.042 | 5.042 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8964.0763     -8964.0763     -5177.9056     -5177.9056     -0.0070721536   50.092067      28.920668      35.343537      4.9599618e-07
Loop time of 1.046e-06 on 1 procs for 0 steps with 3200 atoms

191.2% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0          | 0          | 0          |   0.0 |  0.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0          | 0          | 0          |   0.0 |  0.00
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.046e-06  |            |       |100.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0
#this command creates a model of the script before the displacement and minimization occur
variable 	E equal "c_eatoms"
variable 	Eo equal $E
variable 	Eo equal -8964.07633391985
#variable 	E equal "c_eatoms" computes the initial energy of the model before any sliding is done
#E is necessary to store the initial energy in Eo

group 		bot region 1
1400 atoms in group bot
group 		top region 2
1800 atoms in group top
group 		top2 region 3
1400 atoms in group top2

displace_atoms 	top move ${x_displace} 0.0 0.0 units box
displace_atoms 	top move -1.66973556737869 0.0 0.0 units box
Displacing atoms ...

#displace_atoms is the command neccessary to move atoms into the next stacking arrangement (ie: A -> B)

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8962.3211     -8962.3211     -5591.7202     -5591.7202     -1576.99        50.092067      28.920668      35.343537      0.73964576   
        40   0             -8962.4682     -8962.4682     -4916.0068     -4916.0068     -147.92622      50.092067      28.920668      35.343537      0.079250389  
        50   0             -8962.4707     -8962.4707     -4849.2612     -4849.2612      2.0166763      50.092067      28.920668      35.343537      0.00021490913
        60   0             -8962.4707     -8962.4707     -4850.1594     -4850.1594      0.0068087804   50.092067      28.920668      35.343537      8.3903308e-06
        70   0             -8962.4707     -8962.4707     -4850.1627     -4850.1627     -0.0011681215   50.092067      28.920668      35.343537      1.9069354e-07
        76   0             -8962.4707     -8962.4707     -4850.1622     -4850.1622      1.4367245e-06  50.092067      28.920668      35.343537      8.8399799e-09
Loop time of 0.478683 on 1 procs for 46 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.32106258411  -8962.47074017725   -8962.4707401783
  Force two-norm initial, final = 0.73964576 8.8399799e-09
  Force max component initial, final = 0.026316509 2.9932082e-10
  Final line search alpha, max atom move = 1 2.9932082e-10
  Iterations, force evaluations = 46 92

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.47141    | 0.47141    | 0.47141    |   0.0 | 98.48
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0014635  | 0.0014635  | 0.0014635  |   0.0 |  0.31
Output  | 0.00023725 | 0.00023725 | 0.00023725 |   0.0 |  0.05
Modify  | 0.00085978 | 0.00085978 | 0.00085978 |   0.0 |  0.18
Other   |            | 0.004712   |            |       |  0.98

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

displace_atoms 	all random ${atomjiggle} ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 1e-05 87287 units box
Displacing atoms ...
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        76   0             -8962.4707     -8962.4707     -4855.1497     -4855.1298     -0.00096622144  50.092067      28.920668      35.307298      0.0018569171 
        80   0             -8962.4707     -8962.4707     -4855.1555     -4855.1356     -0.011779125    50.092067      28.920668      35.307298      6.5723427e-05
        90   0             -8962.4707     -8962.4707     -4855.1531     -4855.1332     -0.0063900344   50.092067      28.920668      35.307298      5.3695965e-06
       100   0             -8962.4707     -8962.4707     -4855.1507     -4855.1309     -0.0011512521   50.092067      28.920668      35.307298      5.7223554e-07
       110   0             -8962.4707     -8962.4707     -4855.1503     -4855.1304     -0.00012465594  50.092067      28.920668      35.307298      9.0409633e-08
       119   0             -8962.4707     -8962.4707     -4855.1502     -4855.1304     -6.5769993e-06  50.092067      28.920668      35.307298      8.8373301e-09
Loop time of 0.457927 on 1 procs for 43 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.47073941504  -8962.47073971322  -8962.47073971329
  Force two-norm initial, final = 0.0018569171 8.8373301e-09
  Force max component initial, final = 9.7625584e-05 5.3059648e-10
  Final line search alpha, max atom move = 1 5.3059648e-10
  Iterations, force evaluations = 43 86

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.45112    | 0.45112    | 0.45112    |   0.0 | 98.51
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0013688  | 0.0013688  | 0.0013688  |   0.0 |  0.30
Output  | 0.00023274 | 0.00023274 | 0.00023274 |   0.0 |  0.05
Modify  | 0.00080052 | 0.00080052 | 0.00080052 |   0.0 |  0.17
Other   |            | 0.004409   |            |       |  0.96

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Ef equal "c_eatoms"
variable 	Efo equal $Ef
variable 	Efo equal -8962.47073971326f
variable	Cf equal 1.60217657e-16
variable 	A equal (${xdim}*${ydim})*1e-20
variable 	A equal (50.0920670213607*${ydim})*1e-20
variable 	A equal (50.0920670213607*28.9206683790474)*1e-20
variable 	SFE equal ((${Ef}-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/1.44869605874579e-17
variable 	Efomj equal ${Ef}*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/1.44869605874579e-17

####################################
print "Initial energy of atoms = ${Eo} eV"
Initial energy of atoms = -8964.07633391985 eV
print "Initial energy before twinning Efo = ${Ef} $Efomj" # in SFE in mJ/m^2"
Initial energy before twinning Efo = -8962.47073971326 -8962.47073971326fomj

#----------- for twin fault energy -----------------------
variable	Ndiscrt equal 30
variable    	i loop ${Ndiscrt}
variable    	i loop 30
label       	loop

variable 	xt_displace equal -1*(${latparam1}/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*1/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*1/30)
variable 	Bxt_displace equal 1.0+${i}/${Ndiscrt}
variable 	Bxt_displace equal 1.0+1/${Ndiscrt}
variable 	Bxt_displace equal 1.0+1/30

displace_atoms 	top2 move ${xt_displace} 0.0 0.0 units box
displace_atoms 	top2 move -0.0556578522459563 0.0 0.0 units box
Displacing atoms ...

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
       119   0             -8962.3246     -8962.3246     -5092.8599     -4622.0042      35.123256      50.092067      28.920668      35.307297      0.052827826  
       120   0             -8962.3247     -8962.3247     -5092.1858     -4622.4989      34.694584      50.092067      28.920668      35.307297      0.015764035  
       130   0             -8962.3248     -8962.3248     -5105.9705     -4636.6838      3.1641715      50.092067      28.920668      35.307297      0.0015831074 
       140   0             -8962.3248     -8962.3248     -5107.4207     -4638.1464     -0.0032899167   50.092067      28.920668      35.307297      3.5843659e-07
       143   0             -8962.3248     -8962.3248     -5107.4205     -4638.1462     -0.0027469241   50.092067      28.920668      35.307297      2.9148466e-07
Loop time of 0.260978 on 1 procs for 24 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -8962.32456681144  -8962.32479569987  -8962.32479569987
  Force two-norm initial, final = 0.052827826 2.9148466e-07
  Force max component initial, final = 0.0026432493 1.3475127e-08
  Final line search alpha, max atom move = 0.5 6.7375635e-09
  Iterations, force evaluations = 24 48

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.25708    | 0.25708    | 0.25708    |   0.0 | 98.51
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00076607 | 0.00076607 | 0.00076607 |   0.0 |  0.29
Output  | 0.00017493 | 0.00017493 | 0.00017493 |   0.0 |  0.07
Modify  | 0.0004537  | 0.0004537  | 0.0004537  |   0.0 |  0.17
Other   |            | 0.002503   |            |       |  0.96

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Eftwn equal "c_eatoms"
variable 	Eftwnmj equal ${Eftwn}*${Cf}/${A}
variable 	Eftwnmj equal -8962.3247956998*${Cf}/${A}
variable 	Eftwnmj equal -8962.3247956998*1.60217657e-16/${A}
variable 	Eftwnmj equal -8962.3247956998*1.60217657e-16/1.44869605874579e-17
variable 	TFEf equal ${Eftwnmj}-${Efomj}
variable 	TFEf equal -99118.2844304262-${Efomj}
variable 	TFEf equal -99118.2844304262--99119.8984893413

print 		"displacement and TFE = ${Bxt_displace} ${TFEf}" # in SFE in mJ/m^2"
displacement and TFE = 1.03333333333333 1.61405891510367

next 		i
jump		TFE_displacement1.lmpin
#####################################################################################################################
# Course: Theory, Modelling, and Simulation of Microstructures (TMS)
# Tutors: Dr. Arun Prakash
# Description: Input file for Twin Fault Energy (TFE) of your element
# Originally created by Richard Glaze, 2014. Modified by S. Roy, 2018
######################################################################################################################

# --------------------- INITIALIZAITION ---------------------


clear
units		metal
dimension	3
boundary	p p s
atom_style	atomic
variable 	latparam1 equal 4.09000014545435    ### provide the lattice constant from your calculation
variable 	x_displace equal -1*(${latparam1}/sqrt(6))
variable 	x_displace equal -1*(4.09000014545435/sqrt(6))
variable 	xdim equal ${latparam1}*sqrt(6)/2*10
variable 	xdim equal 4.09000014545435*sqrt(6)/2*10
variable 	ydim equal ${latparam1}*sqrt(2)/2*10
variable 	ydim equal 4.09000014545435*sqrt(2)/2*10
variable 	atomjiggle equal 1.0e-5
variable 	Bx_displace equal 1.0

# --------------------- ATOM DEFINITION ---------------------
lattice		fcc ${latparam1}
lattice		fcc 4.09000014545435
Lattice spacing in x,y,z = 4.0900001 4.0900001 4.0900001
region		1 block -.001 ${xdim} -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 28.9206683790474 -.001 16.5 units box
region 		2 block -.001 ${xdim} -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 28.9206683790474 16.5 36.5808 units box
region 		3 block -.001 ${xdim} -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 28.9206683790474 19.5 36.5808 units box
region		whole block 0 ${xdim} 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 28.9206683790474 0 36.5808 units box
#the -.001 in the -x and -y and lower limit of region 1 are only to overcome a simple numerical issue but can be considered 0
create_box 	1 whole
Created orthogonal box = (0 0 0) to (50.092067 28.920668 36.5808)
  1 by 1 by 1 MPI processor grid
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms	1 region 1
Created 1400 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms 	1 region 2
Created 1800 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds

# --------------------- FORCE FIELDS ---------------------
#Provide potential
pair_style      eam/alloy ### --> TYPE OF POTENTIAL (eam (OR) eam/alloy)
pair_coeff      *  *  CuAg.eam.alloy Ag  ### POTENTIAL FILENAME


# --------------------- SETTINGS ---------------------

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.411 | 5.411 | 5.411 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press          Volume    
         0   0             -8963.0005      0             -8963.0005     -5973.3391      51324.051    
        30   0             -8964.0763      0             -8964.0763     -3443.7334      51324.051    
Loop time of 0.298372 on 1 procs for 30 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -8963.00049826424  -8964.07633391507  -8964.07633391507
  Force two-norm initial, final = 3.47643 4.9599618e-07
  Force max component initial, final = 0.12627393 1.6676942e-08
  Final line search alpha, max atom move = 0.5 8.3384712e-09
  Iterations, force evaluations = 30 60

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.29381    | 0.29381    | 0.29381    |   0.0 | 98.47
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00096869 | 0.00096869 | 0.00096869 |   0.0 |  0.32
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0.00056332 | 0.00056332 | 0.00056332 |   0.0 |  0.19
Other   |            | 0.003026   |            |       |  1.01

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0

compute 	peratom all pe/atom
compute 	eatoms all reduce sum c_peratom
compute 	csym all centro/atom fcc
thermo 		10
thermo_style 	custom step temp pe c_eatoms pxx pyy pzz lx ly lz fnorm
#dump 		1 all custom 1 dump.relax.1.* id type xs ys zs c_peratom c_csym
run 0
WARNING: No fixes with time integration, atoms won't move (../verlet.cpp:60)
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 9
  2 neighbor lists, perpetual/occasional/extra = 1 1 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
  (2) compute centro/atom, occasional
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.042 | 5.042 | 5.042 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8964.0763     -8964.0763     -5177.9056     -5177.9056     -0.0070721536   50.092067      28.920668      35.343537      4.9599618e-07
Loop time of 1.001e-06 on 1 procs for 0 steps with 3200 atoms

99.9% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0          | 0          | 0          |   0.0 |  0.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0          | 0          | 0          |   0.0 |  0.00
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.001e-06  |            |       |100.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0
#this command creates a model of the script before the displacement and minimization occur
variable 	E equal "c_eatoms"
variable 	Eo equal $E
variable 	Eo equal -8964.07633391985
#variable 	E equal "c_eatoms" computes the initial energy of the model before any sliding is done
#E is necessary to store the initial energy in Eo

group 		bot region 1
1400 atoms in group bot
group 		top region 2
1800 atoms in group top
group 		top2 region 3
1400 atoms in group top2

displace_atoms 	top move ${x_displace} 0.0 0.0 units box
displace_atoms 	top move -1.66973556737869 0.0 0.0 units box
Displacing atoms ...

#displace_atoms is the command neccessary to move atoms into the next stacking arrangement (ie: A -> B)

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8962.3211     -8962.3211     -5591.7202     -5591.7202     -1576.99        50.092067      28.920668      35.343537      0.73964576   
        40   0             -8962.4682     -8962.4682     -4916.0068     -4916.0068     -147.92622      50.092067      28.920668      35.343537      0.079250389  
        50   0             -8962.4707     -8962.4707     -4849.2612     -4849.2612      2.0166763      50.092067      28.920668      35.343537      0.00021490913
        60   0             -8962.4707     -8962.4707     -4850.1594     -4850.1594      0.0068087804   50.092067      28.920668      35.343537      8.3903308e-06
        70   0             -8962.4707     -8962.4707     -4850.1627     -4850.1627     -0.0011681215   50.092067      28.920668      35.343537      1.9069354e-07
        76   0             -8962.4707     -8962.4707     -4850.1622     -4850.1622      1.4367245e-06  50.092067      28.920668      35.343537      8.8399799e-09
Loop time of 0.470048 on 1 procs for 46 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.32106258411  -8962.47074017725   -8962.4707401783
  Force two-norm initial, final = 0.73964576 8.8399799e-09
  Force max component initial, final = 0.026316509 2.9932082e-10
  Final line search alpha, max atom move = 1 2.9932082e-10
  Iterations, force evaluations = 46 92

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.46282    | 0.46282    | 0.46282    |   0.0 | 98.46
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0014326  | 0.0014326  | 0.0014326  |   0.0 |  0.30
Output  | 0.00023189 | 0.00023189 | 0.00023189 |   0.0 |  0.05
Modify  | 0.00086273 | 0.00086273 | 0.00086273 |   0.0 |  0.18
Other   |            | 0.004702   |            |       |  1.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

displace_atoms 	all random ${atomjiggle} ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 1e-05 87287 units box
Displacing atoms ...
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        76   0             -8962.4707     -8962.4707     -4855.1497     -4855.1298     -0.00096622144  50.092067      28.920668      35.307298      0.0018569171 
        80   0             -8962.4707     -8962.4707     -4855.1555     -4855.1356     -0.011779125    50.092067      28.920668      35.307298      6.5723427e-05
        90   0             -8962.4707     -8962.4707     -4855.1531     -4855.1332     -0.0063900344   50.092067      28.920668      35.307298      5.3695965e-06
       100   0             -8962.4707     -8962.4707     -4855.1507     -4855.1309     -0.0011512521   50.092067      28.920668      35.307298      5.7223554e-07
       110   0             -8962.4707     -8962.4707     -4855.1503     -4855.1304     -0.00012465594  50.092067      28.920668      35.307298      9.0409633e-08
       119   0             -8962.4707     -8962.4707     -4855.1502     -4855.1304     -6.5769993e-06  50.092067      28.920668      35.307298      8.8373301e-09
Loop time of 0.455067 on 1 procs for 43 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.47073941504  -8962.47073971322  -8962.47073971329
  Force two-norm initial, final = 0.0018569171 8.8373301e-09
  Force max component initial, final = 9.7625584e-05 5.3059648e-10
  Final line search alpha, max atom move = 1 5.3059648e-10
  Iterations, force evaluations = 43 86

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.44821    | 0.44821    | 0.44821    |   0.0 | 98.49
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0013752  | 0.0013752  | 0.0013752  |   0.0 |  0.30
Output  | 0.00023463 | 0.00023463 | 0.00023463 |   0.0 |  0.05
Modify  | 0.00080484 | 0.00080484 | 0.00080484 |   0.0 |  0.18
Other   |            | 0.004444   |            |       |  0.98

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Ef equal "c_eatoms"
variable 	Efo equal $Ef
variable 	Efo equal -8962.47073971326f
variable	Cf equal 1.60217657e-16
variable 	A equal (${xdim}*${ydim})*1e-20
variable 	A equal (50.0920670213607*${ydim})*1e-20
variable 	A equal (50.0920670213607*28.9206683790474)*1e-20
variable 	SFE equal ((${Ef}-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/1.44869605874579e-17
variable 	Efomj equal ${Ef}*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/1.44869605874579e-17

####################################
print "Initial energy of atoms = ${Eo} eV"
Initial energy of atoms = -8964.07633391985 eV
print "Initial energy before twinning Efo = ${Ef} $Efomj" # in SFE in mJ/m^2"
Initial energy before twinning Efo = -8962.47073971326 -8962.47073971326fomj

#----------- for twin fault energy -----------------------
variable	Ndiscrt equal 30
variable    	i loop ${Ndiscrt}
variable    	i loop 30
label       	loop

variable 	xt_displace equal -1*(${latparam1}/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*2/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*2/30)
variable 	Bxt_displace equal 1.0+${i}/${Ndiscrt}
variable 	Bxt_displace equal 1.0+2/${Ndiscrt}
variable 	Bxt_displace equal 1.0+2/30

displace_atoms 	top2 move ${xt_displace} 0.0 0.0 units box
displace_atoms 	top2 move -0.111315704491913 0.0 0.0 units box
Displacing atoms ...

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
       119   0             -8961.912      -8961.912      -5340.5536     -4387.4906      133.1174       50.092067      28.920668      35.307297      0.20050536   
       120   0             -8961.9144     -8961.9144     -5335.5474     -4391.4363      130.99122      50.092067      28.920668      35.307297      0.060298312  
       130   0             -8961.9153     -8961.9153     -5386.6443     -4445.4625      12.39561       50.092067      28.920668      35.307297      0.0067576406 
       140   0             -8961.9153     -8961.9153     -5392.2088     -4451.1316     -0.04027856     50.092067      28.920668      35.307297      7.9527707e-06
       150   0             -8961.9153     -8961.9153     -5392.191      -4451.1136     -8.6340708e-05  50.092067      28.920668      35.307297      1.9718982e-07
       160   0             -8961.9153     -8961.9153     -5392.191      -4451.1135     -1.5402724e-05  50.092067      28.920668      35.307297      6.7493158e-08
       168   0             -8961.9153     -8961.9153     -5392.1909     -4451.1135     -4.0682062e-06  50.092067      28.920668      35.307297      9.6938523e-09
Loop time of 0.518416 on 1 procs for 49 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8961.91202704704  -8961.91529939561  -8961.91529939568
  Force two-norm initial, final = 0.20050536 9.6938523e-09
  Force max component initial, final = 0.010029106 6.3681726e-10
  Final line search alpha, max atom move = 1 6.3681726e-10
  Iterations, force evaluations = 49 98

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.5107     | 0.5107     | 0.5107     |   0.0 | 98.51
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0015188  | 0.0015188  | 0.0015188  |   0.0 |  0.29
Output  | 0.00029026 | 0.00029026 | 0.00029026 |   0.0 |  0.06
Modify  | 0.00091649 | 0.00091649 | 0.00091649 |   0.0 |  0.18
Other   |            | 0.00499    |            |       |  0.96

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Eftwn equal "c_eatoms"
variable 	Eftwnmj equal ${Eftwn}*${Cf}/${A}
variable 	Eftwnmj equal -8961.91529939573*${Cf}/${A}
variable 	Eftwnmj equal -8961.91529939573*1.60217657e-16/${A}
variable 	Eftwnmj equal -8961.91529939573*1.60217657e-16/1.44869605874579e-17
variable 	TFEf equal ${Eftwnmj}-${Efomj}
variable 	TFEf equal -99113.7556310281-${Efomj}
variable 	TFEf equal -99113.7556310281--99119.8984893413

print 		"displacement and TFE = ${Bxt_displace} ${TFEf}" # in SFE in mJ/m^2"
displacement and TFE = 1.06666666666667 6.14285831319285

next 		i
jump		TFE_displacement1.lmpin
#####################################################################################################################
# Course: Theory, Modelling, and Simulation of Microstructures (TMS)
# Tutors: Dr. Arun Prakash
# Description: Input file for Twin Fault Energy (TFE) of your element
# Originally created by Richard Glaze, 2014. Modified by S. Roy, 2018
######################################################################################################################

# --------------------- INITIALIZAITION ---------------------


clear
units		metal
dimension	3
boundary	p p s
atom_style	atomic
variable 	latparam1 equal 4.09000014545435    ### provide the lattice constant from your calculation
variable 	x_displace equal -1*(${latparam1}/sqrt(6))
variable 	x_displace equal -1*(4.09000014545435/sqrt(6))
variable 	xdim equal ${latparam1}*sqrt(6)/2*10
variable 	xdim equal 4.09000014545435*sqrt(6)/2*10
variable 	ydim equal ${latparam1}*sqrt(2)/2*10
variable 	ydim equal 4.09000014545435*sqrt(2)/2*10
variable 	atomjiggle equal 1.0e-5
variable 	Bx_displace equal 1.0

# --------------------- ATOM DEFINITION ---------------------
lattice		fcc ${latparam1}
lattice		fcc 4.09000014545435
Lattice spacing in x,y,z = 4.0900001 4.0900001 4.0900001
region		1 block -.001 ${xdim} -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 28.9206683790474 -.001 16.5 units box
region 		2 block -.001 ${xdim} -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 28.9206683790474 16.5 36.5808 units box
region 		3 block -.001 ${xdim} -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 28.9206683790474 19.5 36.5808 units box
region		whole block 0 ${xdim} 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 28.9206683790474 0 36.5808 units box
#the -.001 in the -x and -y and lower limit of region 1 are only to overcome a simple numerical issue but can be considered 0
create_box 	1 whole
Created orthogonal box = (0 0 0) to (50.092067 28.920668 36.5808)
  1 by 1 by 1 MPI processor grid
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms	1 region 1
Created 1400 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms 	1 region 2
Created 1800 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds

# --------------------- FORCE FIELDS ---------------------
#Provide potential
pair_style      eam/alloy ### --> TYPE OF POTENTIAL (eam (OR) eam/alloy)
pair_coeff      *  *  CuAg.eam.alloy Ag  ### POTENTIAL FILENAME


# --------------------- SETTINGS ---------------------

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.411 | 5.411 | 5.411 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press          Volume    
         0   0             -8963.0005      0             -8963.0005     -5973.3391      51324.051    
        30   0             -8964.0763      0             -8964.0763     -3443.7334      51324.051    
Loop time of 0.299526 on 1 procs for 30 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -8963.00049826424  -8964.07633391507  -8964.07633391507
  Force two-norm initial, final = 3.47643 4.9599618e-07
  Force max component initial, final = 0.12627393 1.6676942e-08
  Final line search alpha, max atom move = 0.5 8.3384712e-09
  Iterations, force evaluations = 30 60

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.29498    | 0.29498    | 0.29498    |   0.0 | 98.48
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00096962 | 0.00096962 | 0.00096962 |   0.0 |  0.32
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0.00057133 | 0.00057133 | 0.00057133 |   0.0 |  0.19
Other   |            | 0.003001   |            |       |  1.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0

compute 	peratom all pe/atom
compute 	eatoms all reduce sum c_peratom
compute 	csym all centro/atom fcc
thermo 		10
thermo_style 	custom step temp pe c_eatoms pxx pyy pzz lx ly lz fnorm
#dump 		1 all custom 1 dump.relax.1.* id type xs ys zs c_peratom c_csym
run 0
WARNING: No fixes with time integration, atoms won't move (../verlet.cpp:60)
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 9
  2 neighbor lists, perpetual/occasional/extra = 1 1 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
  (2) compute centro/atom, occasional
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.042 | 5.042 | 5.042 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8964.0763     -8964.0763     -5177.9056     -5177.9056     -0.0070721536   50.092067      28.920668      35.343537      4.9599618e-07
Loop time of 9.5e-07 on 1 procs for 0 steps with 3200 atoms

105.3% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0          | 0          | 0          |   0.0 |  0.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0          | 0          | 0          |   0.0 |  0.00
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 9.5e-07    |            |       |100.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0
#this command creates a model of the script before the displacement and minimization occur
variable 	E equal "c_eatoms"
variable 	Eo equal $E
variable 	Eo equal -8964.07633391985
#variable 	E equal "c_eatoms" computes the initial energy of the model before any sliding is done
#E is necessary to store the initial energy in Eo

group 		bot region 1
1400 atoms in group bot
group 		top region 2
1800 atoms in group top
group 		top2 region 3
1400 atoms in group top2

displace_atoms 	top move ${x_displace} 0.0 0.0 units box
displace_atoms 	top move -1.66973556737869 0.0 0.0 units box
Displacing atoms ...

#displace_atoms is the command neccessary to move atoms into the next stacking arrangement (ie: A -> B)

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8962.3211     -8962.3211     -5591.7202     -5591.7202     -1576.99        50.092067      28.920668      35.343537      0.73964576   
        40   0             -8962.4682     -8962.4682     -4916.0068     -4916.0068     -147.92622      50.092067      28.920668      35.343537      0.079250389  
        50   0             -8962.4707     -8962.4707     -4849.2612     -4849.2612      2.0166763      50.092067      28.920668      35.343537      0.00021490913
        60   0             -8962.4707     -8962.4707     -4850.1594     -4850.1594      0.0068087804   50.092067      28.920668      35.343537      8.3903308e-06
        70   0             -8962.4707     -8962.4707     -4850.1627     -4850.1627     -0.0011681215   50.092067      28.920668      35.343537      1.9069354e-07
        76   0             -8962.4707     -8962.4707     -4850.1622     -4850.1622      1.4367245e-06  50.092067      28.920668      35.343537      8.8399799e-09
Loop time of 0.469522 on 1 procs for 46 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.32106258411  -8962.47074017725   -8962.4707401783
  Force two-norm initial, final = 0.73964576 8.8399799e-09
  Force max component initial, final = 0.026316509 2.9932082e-10
  Final line search alpha, max atom move = 1 2.9932082e-10
  Iterations, force evaluations = 46 92

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.46216    | 0.46216    | 0.46216    |   0.0 | 98.43
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0014943  | 0.0014943  | 0.0014943  |   0.0 |  0.32
Output  | 0.00023502 | 0.00023502 | 0.00023502 |   0.0 |  0.05
Modify  | 0.00086423 | 0.00086423 | 0.00086423 |   0.0 |  0.18
Other   |            | 0.004773   |            |       |  1.02

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

displace_atoms 	all random ${atomjiggle} ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 1e-05 87287 units box
Displacing atoms ...
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        76   0             -8962.4707     -8962.4707     -4855.1497     -4855.1298     -0.00096622144  50.092067      28.920668      35.307298      0.0018569171 
        80   0             -8962.4707     -8962.4707     -4855.1555     -4855.1356     -0.011779125    50.092067      28.920668      35.307298      6.5723427e-05
        90   0             -8962.4707     -8962.4707     -4855.1531     -4855.1332     -0.0063900344   50.092067      28.920668      35.307298      5.3695965e-06
       100   0             -8962.4707     -8962.4707     -4855.1507     -4855.1309     -0.0011512521   50.092067      28.920668      35.307298      5.7223554e-07
       110   0             -8962.4707     -8962.4707     -4855.1503     -4855.1304     -0.00012465594  50.092067      28.920668      35.307298      9.0409633e-08
       119   0             -8962.4707     -8962.4707     -4855.1502     -4855.1304     -6.5769993e-06  50.092067      28.920668      35.307298      8.8373301e-09
Loop time of 0.458007 on 1 procs for 43 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.47073941504  -8962.47073971322  -8962.47073971329
  Force two-norm initial, final = 0.0018569171 8.8373301e-09
  Force max component initial, final = 9.7625584e-05 5.3059648e-10
  Final line search alpha, max atom move = 1 5.3059648e-10
  Iterations, force evaluations = 43 86

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.45107    | 0.45107    | 0.45107    |   0.0 | 98.48
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.001402   | 0.001402   | 0.001402   |   0.0 |  0.31
Output  | 0.00023433 | 0.00023433 | 0.00023433 |   0.0 |  0.05
Modify  | 0.00081168 | 0.00081168 | 0.00081168 |   0.0 |  0.18
Other   |            | 0.004491   |            |       |  0.98

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Ef equal "c_eatoms"
variable 	Efo equal $Ef
variable 	Efo equal -8962.47073971326f
variable	Cf equal 1.60217657e-16
variable 	A equal (${xdim}*${ydim})*1e-20
variable 	A equal (50.0920670213607*${ydim})*1e-20
variable 	A equal (50.0920670213607*28.9206683790474)*1e-20
variable 	SFE equal ((${Ef}-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/1.44869605874579e-17
variable 	Efomj equal ${Ef}*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/1.44869605874579e-17

####################################
print "Initial energy of atoms = ${Eo} eV"
Initial energy of atoms = -8964.07633391985 eV
print "Initial energy before twinning Efo = ${Ef} $Efomj" # in SFE in mJ/m^2"
Initial energy before twinning Efo = -8962.47073971326 -8962.47073971326fomj

#----------- for twin fault energy -----------------------
variable	Ndiscrt equal 30
variable    	i loop ${Ndiscrt}
variable    	i loop 30
label       	loop

variable 	xt_displace equal -1*(${latparam1}/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*3/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*3/30)
variable 	Bxt_displace equal 1.0+${i}/${Ndiscrt}
variable 	Bxt_displace equal 1.0+3/${Ndiscrt}
variable 	Bxt_displace equal 1.0+3/30

displace_atoms 	top2 move ${xt_displace} 0.0 0.0 units box
displace_atoms 	top2 move -0.166973556737869 0.0 0.0 units box
Displacing atoms ...

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
       119   0             -8961.2736     -8961.2736     -5594.2531     -4154.5493      282.93107      50.092067      28.920668      35.307297      0.42649588   
       120   0             -8961.2844     -8961.2844     -5578.1134     -4167.1581      276.81511      50.092067      28.920668      35.307297      0.13019244   
       130   0             -8961.2881     -8961.2881     -5683.6517     -4281.5945      28.237555      50.092067      28.920668      35.307297      0.01522991   
       140   0             -8961.2882     -8961.2882     -5696.1368     -4294.3172     -0.12766813     50.092067      28.920668      35.307297      4.0929463e-05
       150   0             -8961.2882     -8961.2882     -5696.0817     -4294.261      -0.0026504749   50.092067      28.920668      35.307297      3.6584497e-06
       160   0             -8961.2882     -8961.2882     -5696.0804     -4294.2598      4.8052689e-05  50.092067      28.920668      35.307297      2.7186918e-07
       170   0             -8961.2882     -8961.2882     -5696.0804     -4294.2598     -1.2311773e-05  50.092067      28.920668      35.307297      2.1786692e-08
       172   0             -8961.2882     -8961.2882     -5696.0804     -4294.2598     -1.5006299e-05  50.092067      28.920668      35.307297      9.3438804e-09
Loop time of 0.564412 on 1 procs for 53 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8961.27357766295  -8961.28822641701  -8961.28822641701
  Force two-norm initial, final = 0.42649588 9.3438804e-09
  Force max component initial, final = 0.021331047 5.3294174e-10
  Final line search alpha, max atom move = 1 5.3294174e-10
  Iterations, force evaluations = 53 106

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.55579    | 0.55579    | 0.55579    |   0.0 | 98.47
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0017193  | 0.0017193  | 0.0017193  |   0.0 |  0.30
Output  | 0.00035289 | 0.00035289 | 0.00035289 |   0.0 |  0.06
Modify  | 0.0009994  | 0.0009994  | 0.0009994  |   0.0 |  0.18
Other   |            | 0.005554   |            |       |  0.98

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Eftwn equal "c_eatoms"
variable 	Eftwnmj equal ${Eftwn}*${Cf}/${A}
variable 	Eftwnmj equal -8961.28822641706*${Cf}/${A}
variable 	Eftwnmj equal -8961.28822641706*1.60217657e-16/${A}
variable 	Eftwnmj equal -8961.28822641706*1.60217657e-16/1.44869605874579e-17
variable 	TFEf equal ${Eftwnmj}-${Efomj}
variable 	TFEf equal -99106.8205556681-${Efomj}
variable 	TFEf equal -99106.8205556681--99119.8984893413

print 		"displacement and TFE = ${Bxt_displace} ${TFEf}" # in SFE in mJ/m^2"
displacement and TFE = 1.1 13.0779336731939

next 		i
jump		TFE_displacement1.lmpin
#####################################################################################################################
# Course: Theory, Modelling, and Simulation of Microstructures (TMS)
# Tutors: Dr. Arun Prakash
# Description: Input file for Twin Fault Energy (TFE) of your element
# Originally created by Richard Glaze, 2014. Modified by S. Roy, 2018
######################################################################################################################

# --------------------- INITIALIZAITION ---------------------


clear
units		metal
dimension	3
boundary	p p s
atom_style	atomic
variable 	latparam1 equal 4.09000014545435    ### provide the lattice constant from your calculation
variable 	x_displace equal -1*(${latparam1}/sqrt(6))
variable 	x_displace equal -1*(4.09000014545435/sqrt(6))
variable 	xdim equal ${latparam1}*sqrt(6)/2*10
variable 	xdim equal 4.09000014545435*sqrt(6)/2*10
variable 	ydim equal ${latparam1}*sqrt(2)/2*10
variable 	ydim equal 4.09000014545435*sqrt(2)/2*10
variable 	atomjiggle equal 1.0e-5
variable 	Bx_displace equal 1.0

# --------------------- ATOM DEFINITION ---------------------
lattice		fcc ${latparam1}
lattice		fcc 4.09000014545435
Lattice spacing in x,y,z = 4.0900001 4.0900001 4.0900001
region		1 block -.001 ${xdim} -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 28.9206683790474 -.001 16.5 units box
region 		2 block -.001 ${xdim} -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 28.9206683790474 16.5 36.5808 units box
region 		3 block -.001 ${xdim} -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 28.9206683790474 19.5 36.5808 units box
region		whole block 0 ${xdim} 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 28.9206683790474 0 36.5808 units box
#the -.001 in the -x and -y and lower limit of region 1 are only to overcome a simple numerical issue but can be considered 0
create_box 	1 whole
Created orthogonal box = (0 0 0) to (50.092067 28.920668 36.5808)
  1 by 1 by 1 MPI processor grid
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms	1 region 1
Created 1400 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms 	1 region 2
Created 1800 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds

# --------------------- FORCE FIELDS ---------------------
#Provide potential
pair_style      eam/alloy ### --> TYPE OF POTENTIAL (eam (OR) eam/alloy)
pair_coeff      *  *  CuAg.eam.alloy Ag  ### POTENTIAL FILENAME


# --------------------- SETTINGS ---------------------

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.411 | 5.411 | 5.411 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press          Volume    
         0   0             -8963.0005      0             -8963.0005     -5973.3391      51324.051    
        30   0             -8964.0763      0             -8964.0763     -3443.7334      51324.051    
Loop time of 0.300113 on 1 procs for 30 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -8963.00049826424  -8964.07633391507  -8964.07633391507
  Force two-norm initial, final = 3.47643 4.9599618e-07
  Force max component initial, final = 0.12627393 1.6676942e-08
  Final line search alpha, max atom move = 0.5 8.3384712e-09
  Iterations, force evaluations = 30 60

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.29549    | 0.29549    | 0.29549    |   0.0 | 98.46
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00095556 | 0.00095556 | 0.00095556 |   0.0 |  0.32
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0.00057782 | 0.00057782 | 0.00057782 |   0.0 |  0.19
Other   |            | 0.003085   |            |       |  1.03

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0

compute 	peratom all pe/atom
compute 	eatoms all reduce sum c_peratom
compute 	csym all centro/atom fcc
thermo 		10
thermo_style 	custom step temp pe c_eatoms pxx pyy pzz lx ly lz fnorm
#dump 		1 all custom 1 dump.relax.1.* id type xs ys zs c_peratom c_csym
run 0
WARNING: No fixes with time integration, atoms won't move (../verlet.cpp:60)
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 9
  2 neighbor lists, perpetual/occasional/extra = 1 1 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
  (2) compute centro/atom, occasional
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.042 | 5.042 | 5.042 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8964.0763     -8964.0763     -5177.9056     -5177.9056     -0.0070721536   50.092067      28.920668      35.343537      4.9599618e-07
Loop time of 9.26e-07 on 1 procs for 0 steps with 3200 atoms

108.0% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0          | 0          | 0          |   0.0 |  0.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0          | 0          | 0          |   0.0 |  0.00
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 9.26e-07   |            |       |100.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0
#this command creates a model of the script before the displacement and minimization occur
variable 	E equal "c_eatoms"
variable 	Eo equal $E
variable 	Eo equal -8964.07633391985
#variable 	E equal "c_eatoms" computes the initial energy of the model before any sliding is done
#E is necessary to store the initial energy in Eo

group 		bot region 1
1400 atoms in group bot
group 		top region 2
1800 atoms in group top
group 		top2 region 3
1400 atoms in group top2

displace_atoms 	top move ${x_displace} 0.0 0.0 units box
displace_atoms 	top move -1.66973556737869 0.0 0.0 units box
Displacing atoms ...

#displace_atoms is the command neccessary to move atoms into the next stacking arrangement (ie: A -> B)

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8962.3211     -8962.3211     -5591.7202     -5591.7202     -1576.99        50.092067      28.920668      35.343537      0.73964576   
        40   0             -8962.4682     -8962.4682     -4916.0068     -4916.0068     -147.92622      50.092067      28.920668      35.343537      0.079250389  
        50   0             -8962.4707     -8962.4707     -4849.2612     -4849.2612      2.0166763      50.092067      28.920668      35.343537      0.00021490913
        60   0             -8962.4707     -8962.4707     -4850.1594     -4850.1594      0.0068087804   50.092067      28.920668      35.343537      8.3903308e-06
        70   0             -8962.4707     -8962.4707     -4850.1627     -4850.1627     -0.0011681215   50.092067      28.920668      35.343537      1.9069354e-07
        76   0             -8962.4707     -8962.4707     -4850.1622     -4850.1622      1.4367245e-06  50.092067      28.920668      35.343537      8.8399799e-09
Loop time of 0.471428 on 1 procs for 46 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.32106258411  -8962.47074017725   -8962.4707401783
  Force two-norm initial, final = 0.73964576 8.8399799e-09
  Force max component initial, final = 0.026316509 2.9932082e-10
  Final line search alpha, max atom move = 1 2.9932082e-10
  Iterations, force evaluations = 46 92

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.46416    | 0.46416    | 0.46416    |   0.0 | 98.46
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0014647  | 0.0014647  | 0.0014647  |   0.0 |  0.31
Output  | 0.00023165 | 0.00023165 | 0.00023165 |   0.0 |  0.05
Modify  | 0.00086106 | 0.00086106 | 0.00086106 |   0.0 |  0.18
Other   |            | 0.004712   |            |       |  1.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

displace_atoms 	all random ${atomjiggle} ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 1e-05 87287 units box
Displacing atoms ...
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        76   0             -8962.4707     -8962.4707     -4855.1497     -4855.1298     -0.00096622144  50.092067      28.920668      35.307298      0.0018569171 
        80   0             -8962.4707     -8962.4707     -4855.1555     -4855.1356     -0.011779125    50.092067      28.920668      35.307298      6.5723427e-05
        90   0             -8962.4707     -8962.4707     -4855.1531     -4855.1332     -0.0063900344   50.092067      28.920668      35.307298      5.3695965e-06
       100   0             -8962.4707     -8962.4707     -4855.1507     -4855.1309     -0.0011512521   50.092067      28.920668      35.307298      5.7223554e-07
       110   0             -8962.4707     -8962.4707     -4855.1503     -4855.1304     -0.00012465594  50.092067      28.920668      35.307298      9.0409633e-08
       119   0             -8962.4707     -8962.4707     -4855.1502     -4855.1304     -6.5769993e-06  50.092067      28.920668      35.307298      8.8373301e-09
Loop time of 0.460644 on 1 procs for 43 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.47073941504  -8962.47073971322  -8962.47073971329
  Force two-norm initial, final = 0.0018569171 8.8373301e-09
  Force max component initial, final = 9.7625584e-05 5.3059648e-10
  Final line search alpha, max atom move = 1 5.3059648e-10
  Iterations, force evaluations = 43 86

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.45376    | 0.45376    | 0.45376    |   0.0 | 98.51
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0013745  | 0.0013745  | 0.0013745  |   0.0 |  0.30
Output  | 0.000235   | 0.000235   | 0.000235   |   0.0 |  0.05
Modify  | 0.00080915 | 0.00080915 | 0.00080915 |   0.0 |  0.18
Other   |            | 0.004464   |            |       |  0.97

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Ef equal "c_eatoms"
variable 	Efo equal $Ef
variable 	Efo equal -8962.47073971326f
variable	Cf equal 1.60217657e-16
variable 	A equal (${xdim}*${ydim})*1e-20
variable 	A equal (50.0920670213607*${ydim})*1e-20
variable 	A equal (50.0920670213607*28.9206683790474)*1e-20
variable 	SFE equal ((${Ef}-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/1.44869605874579e-17
variable 	Efomj equal ${Ef}*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/1.44869605874579e-17

####################################
print "Initial energy of atoms = ${Eo} eV"
Initial energy of atoms = -8964.07633391985 eV
print "Initial energy before twinning Efo = ${Ef} $Efomj" # in SFE in mJ/m^2"
Initial energy before twinning Efo = -8962.47073971326 -8962.47073971326fomj

#----------- for twin fault energy -----------------------
variable	Ndiscrt equal 30
variable    	i loop ${Ndiscrt}
variable    	i loop 30
label       	loop

variable 	xt_displace equal -1*(${latparam1}/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*4/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*4/30)
variable 	Bxt_displace equal 1.0+${i}/${Ndiscrt}
variable 	Bxt_displace equal 1.0+4/${Ndiscrt}
variable 	Bxt_displace equal 1.0+4/30

displace_atoms 	top2 move ${xt_displace} 0.0 0.0 units box
displace_atoms 	top2 move -0.222631408983825 0.0 0.0 units box
Displacing atoms ...

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
       119   0             -8960.4511     -8960.4511     -5849.578      -3926.1821      473.6598       50.092067      28.920668      35.307297      0.7142733    
       120   0             -8960.481      -8960.481      -5813.0009     -3954.0592      459.96346      50.092067      28.920668      35.307297      0.22309299   
       130   0             -8960.4914     -8960.4914     -5983.441      -4142.6603      53.179737      50.092067      28.920668      35.307297      0.026994222  
       140   0             -8960.4917     -8960.4917     -6006.4959     -4166.3222      0.18104435     50.092067      28.920668      35.307297      0.00011941681
       150   0             -8960.4917     -8960.4917     -6006.5662     -4166.3984      0.017845739    50.092067      28.920668      35.307297      1.4925887e-05
       160   0             -8960.4917     -8960.4917     -6006.5734     -4166.4067      0.00013011255  50.092067      28.920668      35.307297      1.9817846e-07
       170   0             -8960.4917     -8960.4917     -6006.5735     -4166.4068     -0.0001540535   50.092067      28.920668      35.307297      4.2830386e-08
       177   0             -8960.4917     -8960.4917     -6006.5735     -4166.4068     -6.0717083e-05  50.092067      28.920668      35.307297      9.3823827e-09
Loop time of 0.617973 on 1 procs for 58 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8960.45112408448  -8960.49165910738  -8960.49165910745
  Force two-norm initial, final = 0.7142733 9.3823827e-09
  Force max component initial, final = 0.035722657 5.5157949e-10
  Final line search alpha, max atom move = 1 5.5157949e-10
  Iterations, force evaluations = 58 116

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.60861    | 0.60861    | 0.60861    |   0.0 | 98.49
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0018416  | 0.0018416  | 0.0018416  |   0.0 |  0.30
Output  | 0.00034905 | 0.00034905 | 0.00034905 |   0.0 |  0.06
Modify  | 0.0010871  | 0.0010871  | 0.0010871  |   0.0 |  0.18
Other   |            | 0.006082   |            |       |  0.98

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0

variable 	Eftwn equal "c_eatoms"
variable 	Eftwnmj equal ${Eftwn}*${Cf}/${A}
variable 	Eftwnmj equal -8960.49165910751*${Cf}/${A}
variable 	Eftwnmj equal -8960.49165910751*1.60217657e-16/${A}
variable 	Eftwnmj equal -8960.49165910751*1.60217657e-16/1.44869605874579e-17
variable 	TFEf equal ${Eftwnmj}-${Efomj}
variable 	TFEf equal -99098.010968094-${Efomj}
variable 	TFEf equal -99098.010968094--99119.8984893413

print 		"displacement and TFE = ${Bxt_displace} ${TFEf}" # in SFE in mJ/m^2"
displacement and TFE = 1.13333333333333 21.8875212473067

next 		i
jump		TFE_displacement1.lmpin
#####################################################################################################################
# Course: Theory, Modelling, and Simulation of Microstructures (TMS)
# Tutors: Dr. Arun Prakash
# Description: Input file for Twin Fault Energy (TFE) of your element
# Originally created by Richard Glaze, 2014. Modified by S. Roy, 2018
######################################################################################################################

# --------------------- INITIALIZAITION ---------------------


clear
units		metal
dimension	3
boundary	p p s
atom_style	atomic
variable 	latparam1 equal 4.09000014545435    ### provide the lattice constant from your calculation
variable 	x_displace equal -1*(${latparam1}/sqrt(6))
variable 	x_displace equal -1*(4.09000014545435/sqrt(6))
variable 	xdim equal ${latparam1}*sqrt(6)/2*10
variable 	xdim equal 4.09000014545435*sqrt(6)/2*10
variable 	ydim equal ${latparam1}*sqrt(2)/2*10
variable 	ydim equal 4.09000014545435*sqrt(2)/2*10
variable 	atomjiggle equal 1.0e-5
variable 	Bx_displace equal 1.0

# --------------------- ATOM DEFINITION ---------------------
lattice		fcc ${latparam1}
lattice		fcc 4.09000014545435
Lattice spacing in x,y,z = 4.0900001 4.0900001 4.0900001
region		1 block -.001 ${xdim} -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 28.9206683790474 -.001 16.5 units box
region 		2 block -.001 ${xdim} -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 28.9206683790474 16.5 36.5808 units box
region 		3 block -.001 ${xdim} -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 28.9206683790474 19.5 36.5808 units box
region		whole block 0 ${xdim} 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 28.9206683790474 0 36.5808 units box
#the -.001 in the -x and -y and lower limit of region 1 are only to overcome a simple numerical issue but can be considered 0
create_box 	1 whole
Created orthogonal box = (0 0 0) to (50.092067 28.920668 36.5808)
  1 by 1 by 1 MPI processor grid
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms	1 region 1
Created 1400 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms 	1 region 2
Created 1800 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds

# --------------------- FORCE FIELDS ---------------------
#Provide potential
pair_style      eam/alloy ### --> TYPE OF POTENTIAL (eam (OR) eam/alloy)
pair_coeff      *  *  CuAg.eam.alloy Ag  ### POTENTIAL FILENAME


# --------------------- SETTINGS ---------------------

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.411 | 5.411 | 5.411 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press          Volume    
         0   0             -8963.0005      0             -8963.0005     -5973.3391      51324.051    
        30   0             -8964.0763      0             -8964.0763     -3443.7334      51324.051    
Loop time of 0.299199 on 1 procs for 30 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -8963.00049826424  -8964.07633391507  -8964.07633391507
  Force two-norm initial, final = 3.47643 4.9599618e-07
  Force max component initial, final = 0.12627393 1.6676942e-08
  Final line search alpha, max atom move = 0.5 8.3384712e-09
  Iterations, force evaluations = 30 60

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.29469    | 0.29469    | 0.29469    |   0.0 | 98.49
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00093396 | 0.00093396 | 0.00093396 |   0.0 |  0.31
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0.00056298 | 0.00056298 | 0.00056298 |   0.0 |  0.19
Other   |            | 0.00301    |            |       |  1.01

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0

compute 	peratom all pe/atom
compute 	eatoms all reduce sum c_peratom
compute 	csym all centro/atom fcc
thermo 		10
thermo_style 	custom step temp pe c_eatoms pxx pyy pzz lx ly lz fnorm
#dump 		1 all custom 1 dump.relax.1.* id type xs ys zs c_peratom c_csym
run 0
WARNING: No fixes with time integration, atoms won't move (../verlet.cpp:60)
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 9
  2 neighbor lists, perpetual/occasional/extra = 1 1 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
  (2) compute centro/atom, occasional
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.042 | 5.042 | 5.042 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8964.0763     -8964.0763     -5177.9056     -5177.9056     -0.0070721536   50.092067      28.920668      35.343537      4.9599618e-07
Loop time of 8.89e-07 on 1 procs for 0 steps with 3200 atoms

112.5% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0          | 0          | 0          |   0.0 |  0.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0          | 0          | 0          |   0.0 |  0.00
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 8.89e-07   |            |       |100.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0
#this command creates a model of the script before the displacement and minimization occur
variable 	E equal "c_eatoms"
variable 	Eo equal $E
variable 	Eo equal -8964.07633391985
#variable 	E equal "c_eatoms" computes the initial energy of the model before any sliding is done
#E is necessary to store the initial energy in Eo

group 		bot region 1
1400 atoms in group bot
group 		top region 2
1800 atoms in group top
group 		top2 region 3
1400 atoms in group top2

displace_atoms 	top move ${x_displace} 0.0 0.0 units box
displace_atoms 	top move -1.66973556737869 0.0 0.0 units box
Displacing atoms ...

#displace_atoms is the command neccessary to move atoms into the next stacking arrangement (ie: A -> B)

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8962.3211     -8962.3211     -5591.7202     -5591.7202     -1576.99        50.092067      28.920668      35.343537      0.73964576   
        40   0             -8962.4682     -8962.4682     -4916.0068     -4916.0068     -147.92622      50.092067      28.920668      35.343537      0.079250389  
        50   0             -8962.4707     -8962.4707     -4849.2612     -4849.2612      2.0166763      50.092067      28.920668      35.343537      0.00021490913
        60   0             -8962.4707     -8962.4707     -4850.1594     -4850.1594      0.0068087804   50.092067      28.920668      35.343537      8.3903308e-06
        70   0             -8962.4707     -8962.4707     -4850.1627     -4850.1627     -0.0011681215   50.092067      28.920668      35.343537      1.9069354e-07
        76   0             -8962.4707     -8962.4707     -4850.1622     -4850.1622      1.4367245e-06  50.092067      28.920668      35.343537      8.8399799e-09
Loop time of 0.472614 on 1 procs for 46 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.32106258411  -8962.47074017725   -8962.4707401783
  Force two-norm initial, final = 0.73964576 8.8399799e-09
  Force max component initial, final = 0.026316509 2.9932082e-10
  Final line search alpha, max atom move = 1 2.9932082e-10
  Iterations, force evaluations = 46 92

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.4653     | 0.4653     | 0.4653     |   0.0 | 98.45
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0014489  | 0.0014489  | 0.0014489  |   0.0 |  0.31
Output  | 0.00023434 | 0.00023434 | 0.00023434 |   0.0 |  0.05
Modify  | 0.00088606 | 0.00088606 | 0.00088606 |   0.0 |  0.19
Other   |            | 0.004744   |            |       |  1.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

displace_atoms 	all random ${atomjiggle} ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 1e-05 87287 units box
Displacing atoms ...
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        76   0             -8962.4707     -8962.4707     -4855.1497     -4855.1298     -0.00096622144  50.092067      28.920668      35.307298      0.0018569171 
        80   0             -8962.4707     -8962.4707     -4855.1555     -4855.1356     -0.011779125    50.092067      28.920668      35.307298      6.5723427e-05
        90   0             -8962.4707     -8962.4707     -4855.1531     -4855.1332     -0.0063900344   50.092067      28.920668      35.307298      5.3695965e-06
       100   0             -8962.4707     -8962.4707     -4855.1507     -4855.1309     -0.0011512521   50.092067      28.920668      35.307298      5.7223554e-07
       110   0             -8962.4707     -8962.4707     -4855.1503     -4855.1304     -0.00012465594  50.092067      28.920668      35.307298      9.0409633e-08
       119   0             -8962.4707     -8962.4707     -4855.1502     -4855.1304     -6.5769993e-06  50.092067      28.920668      35.307298      8.8373301e-09
Loop time of 0.459006 on 1 procs for 43 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.47073941504  -8962.47073971322  -8962.47073971329
  Force two-norm initial, final = 0.0018569171 8.8373301e-09
  Force max component initial, final = 9.7625584e-05 5.3059648e-10
  Final line search alpha, max atom move = 1 5.3059648e-10
  Iterations, force evaluations = 43 86

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.45217    | 0.45217    | 0.45217    |   0.0 | 98.51
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0013649  | 0.0013649  | 0.0013649  |   0.0 |  0.30
Output  | 0.00023152 | 0.00023152 | 0.00023152 |   0.0 |  0.05
Modify  | 0.00081967 | 0.00081967 | 0.00081967 |   0.0 |  0.18
Other   |            | 0.004415   |            |       |  0.96

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Ef equal "c_eatoms"
variable 	Efo equal $Ef
variable 	Efo equal -8962.47073971326f
variable	Cf equal 1.60217657e-16
variable 	A equal (${xdim}*${ydim})*1e-20
variable 	A equal (50.0920670213607*${ydim})*1e-20
variable 	A equal (50.0920670213607*28.9206683790474)*1e-20
variable 	SFE equal ((${Ef}-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/1.44869605874579e-17
variable 	Efomj equal ${Ef}*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/1.44869605874579e-17

####################################
print "Initial energy of atoms = ${Eo} eV"
Initial energy of atoms = -8964.07633391985 eV
print "Initial energy before twinning Efo = ${Ef} $Efomj" # in SFE in mJ/m^2"
Initial energy before twinning Efo = -8962.47073971326 -8962.47073971326fomj

#----------- for twin fault energy -----------------------
variable	Ndiscrt equal 30
variable    	i loop ${Ndiscrt}
variable    	i loop 30
label       	loop

variable 	xt_displace equal -1*(${latparam1}/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*5/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*5/30)
variable 	Bxt_displace equal 1.0+${i}/${Ndiscrt}
variable 	Bxt_displace equal 1.0+5/${Ndiscrt}
variable 	Bxt_displace equal 1.0+5/30

displace_atoms 	top2 move ${xt_displace} 0.0 0.0 units box
displace_atoms 	top2 move -0.278289261229782 0.0 0.0 units box
Displacing atoms ...

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
       119   0             -8959.4867     -8959.4867     -6101.0536     -3701.5543      704.73399      50.092067      28.920668      35.307297      1.0613317    
       120   0             -8959.5505     -8959.5505     -6032.6754     -3756.0933      668.62851      50.092067      28.920668      35.307297      0.34475348   
       130   0             -8959.5726     -8959.5726     -6275.3432     -4026.9372      85.591691      50.092067      28.920668      35.307297      0.041625174  
       140   0             -8959.5732     -8959.5732     -6311.8574     -4064.8368      1.0065203      50.092067      28.920668      35.307297      0.00024717572
       150   0             -8959.5732     -8959.5732     -6312.2792     -4065.2877      0.025865068    50.092067      28.920668      35.307297      3.2651066e-05
       160   0             -8959.5732     -8959.5732     -6312.2883     -4065.2995      0.0016166717   50.092067      28.920668      35.307297      2.5244378e-07
       170   0             -8959.5732     -8959.5732     -6312.2893     -4065.3005     -0.00071054454  50.092067      28.920668      35.307297      1.3518014e-07
       180   0             -8959.5732     -8959.5732     -6312.289      -4065.3002     -1.2414225e-05  50.092067      28.920668      35.307297      2.029135e-08 
       182   0             -8959.5732     -8959.5732     -6312.289      -4065.3002     -9.9907617e-06  50.092067      28.920668      35.307297      9.0484854e-09
Loop time of 0.672135 on 1 procs for 63 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
      -8959.4867191685  -8959.57321200445  -8959.57321200465
  Force two-norm initial, final = 1.0613317 9.0484854e-09
  Force max component initial, final = 0.053079128 4.8071984e-10
  Final line search alpha, max atom move = 1 4.8071984e-10
  Iterations, force evaluations = 63 126

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.66188    | 0.66188    | 0.66188    |   0.0 | 98.47
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0019801  | 0.0019801  | 0.0019801  |   0.0 |  0.29
Output  | 0.00043389 | 0.00043389 | 0.00043389 |   0.0 |  0.06
Modify  | 0.0011932  | 0.0011932  | 0.0011932  |   0.0 |  0.18
Other   |            | 0.006652   |            |       |  0.99

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197800 ave      197800 max      197800 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197800
Ave neighs/atom = 61.8125
Neighbor list builds = 0
Dangerous builds = 0

variable 	Eftwn equal "c_eatoms"
variable 	Eftwnmj equal ${Eftwn}*${Cf}/${A}
variable 	Eftwnmj equal -8959.57321200462*${Cf}/${A}
variable 	Eftwnmj equal -8959.57321200462*1.60217657e-16/${A}
variable 	Eftwnmj equal -8959.57321200462*1.60217657e-16/1.44869605874579e-17
variable 	TFEf equal ${Eftwnmj}-${Efomj}
variable 	TFEf equal -99087.8534583793-${Efomj}
variable 	TFEf equal -99087.8534583793--99119.8984893413

print 		"displacement and TFE = ${Bxt_displace} ${TFEf}" # in SFE in mJ/m^2"
displacement and TFE = 1.16666666666667 32.0450309620064

next 		i
jump		TFE_displacement1.lmpin
#####################################################################################################################
# Course: Theory, Modelling, and Simulation of Microstructures (TMS)
# Tutors: Dr. Arun Prakash
# Description: Input file for Twin Fault Energy (TFE) of your element
# Originally created by Richard Glaze, 2014. Modified by S. Roy, 2018
######################################################################################################################

# --------------------- INITIALIZAITION ---------------------


clear
units		metal
dimension	3
boundary	p p s
atom_style	atomic
variable 	latparam1 equal 4.09000014545435    ### provide the lattice constant from your calculation
variable 	x_displace equal -1*(${latparam1}/sqrt(6))
variable 	x_displace equal -1*(4.09000014545435/sqrt(6))
variable 	xdim equal ${latparam1}*sqrt(6)/2*10
variable 	xdim equal 4.09000014545435*sqrt(6)/2*10
variable 	ydim equal ${latparam1}*sqrt(2)/2*10
variable 	ydim equal 4.09000014545435*sqrt(2)/2*10
variable 	atomjiggle equal 1.0e-5
variable 	Bx_displace equal 1.0

# --------------------- ATOM DEFINITION ---------------------
lattice		fcc ${latparam1}
lattice		fcc 4.09000014545435
Lattice spacing in x,y,z = 4.0900001 4.0900001 4.0900001
region		1 block -.001 ${xdim} -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 28.9206683790474 -.001 16.5 units box
region 		2 block -.001 ${xdim} -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 28.9206683790474 16.5 36.5808 units box
region 		3 block -.001 ${xdim} -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 28.9206683790474 19.5 36.5808 units box
region		whole block 0 ${xdim} 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 28.9206683790474 0 36.5808 units box
#the -.001 in the -x and -y and lower limit of region 1 are only to overcome a simple numerical issue but can be considered 0
create_box 	1 whole
Created orthogonal box = (0 0 0) to (50.092067 28.920668 36.5808)
  1 by 1 by 1 MPI processor grid
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms	1 region 1
Created 1400 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms 	1 region 2
Created 1800 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds

# --------------------- FORCE FIELDS ---------------------
#Provide potential
pair_style      eam/alloy ### --> TYPE OF POTENTIAL (eam (OR) eam/alloy)
pair_coeff      *  *  CuAg.eam.alloy Ag  ### POTENTIAL FILENAME


# --------------------- SETTINGS ---------------------

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.411 | 5.411 | 5.411 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press          Volume    
         0   0             -8963.0005      0             -8963.0005     -5973.3391      51324.051    
        30   0             -8964.0763      0             -8964.0763     -3443.7334      51324.051    
Loop time of 0.300568 on 1 procs for 30 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -8963.00049826424  -8964.07633391507  -8964.07633391507
  Force two-norm initial, final = 3.47643 4.9599618e-07
  Force max component initial, final = 0.12627393 1.6676942e-08
  Final line search alpha, max atom move = 0.5 8.3384712e-09
  Iterations, force evaluations = 30 60

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.29604    | 0.29604    | 0.29604    |   0.0 | 98.49
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00094024 | 0.00094024 | 0.00094024 |   0.0 |  0.31
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0.0005655  | 0.0005655  | 0.0005655  |   0.0 |  0.19
Other   |            | 0.003024   |            |       |  1.01

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0

compute 	peratom all pe/atom
compute 	eatoms all reduce sum c_peratom
compute 	csym all centro/atom fcc
thermo 		10
thermo_style 	custom step temp pe c_eatoms pxx pyy pzz lx ly lz fnorm
#dump 		1 all custom 1 dump.relax.1.* id type xs ys zs c_peratom c_csym
run 0
WARNING: No fixes with time integration, atoms won't move (../verlet.cpp:60)
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 9
  2 neighbor lists, perpetual/occasional/extra = 1 1 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
  (2) compute centro/atom, occasional
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.042 | 5.042 | 5.042 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8964.0763     -8964.0763     -5177.9056     -5177.9056     -0.0070721536   50.092067      28.920668      35.343537      4.9599618e-07
Loop time of 9.29e-07 on 1 procs for 0 steps with 3200 atoms

107.6% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0          | 0          | 0          |   0.0 |  0.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0          | 0          | 0          |   0.0 |  0.00
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 9.29e-07   |            |       |100.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0
#this command creates a model of the script before the displacement and minimization occur
variable 	E equal "c_eatoms"
variable 	Eo equal $E
variable 	Eo equal -8964.07633391985
#variable 	E equal "c_eatoms" computes the initial energy of the model before any sliding is done
#E is necessary to store the initial energy in Eo

group 		bot region 1
1400 atoms in group bot
group 		top region 2
1800 atoms in group top
group 		top2 region 3
1400 atoms in group top2

displace_atoms 	top move ${x_displace} 0.0 0.0 units box
displace_atoms 	top move -1.66973556737869 0.0 0.0 units box
Displacing atoms ...

#displace_atoms is the command neccessary to move atoms into the next stacking arrangement (ie: A -> B)

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8962.3211     -8962.3211     -5591.7202     -5591.7202     -1576.99        50.092067      28.920668      35.343537      0.73964576   
        40   0             -8962.4682     -8962.4682     -4916.0068     -4916.0068     -147.92622      50.092067      28.920668      35.343537      0.079250389  
        50   0             -8962.4707     -8962.4707     -4849.2612     -4849.2612      2.0166763      50.092067      28.920668      35.343537      0.00021490913
        60   0             -8962.4707     -8962.4707     -4850.1594     -4850.1594      0.0068087804   50.092067      28.920668      35.343537      8.3903308e-06
        70   0             -8962.4707     -8962.4707     -4850.1627     -4850.1627     -0.0011681215   50.092067      28.920668      35.343537      1.9069354e-07
        76   0             -8962.4707     -8962.4707     -4850.1622     -4850.1622      1.4367245e-06  50.092067      28.920668      35.343537      8.8399799e-09
Loop time of 0.476696 on 1 procs for 46 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.32106258411  -8962.47074017725   -8962.4707401783
  Force two-norm initial, final = 0.73964576 8.8399799e-09
  Force max component initial, final = 0.026316509 2.9932082e-10
  Final line search alpha, max atom move = 1 2.9932082e-10
  Iterations, force evaluations = 46 92

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.46938    | 0.46938    | 0.46938    |   0.0 | 98.46
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0014531  | 0.0014531  | 0.0014531  |   0.0 |  0.30
Output  | 0.00023666 | 0.00023666 | 0.00023666 |   0.0 |  0.05
Modify  | 0.00089374 | 0.00089374 | 0.00089374 |   0.0 |  0.19
Other   |            | 0.004737   |            |       |  0.99

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

displace_atoms 	all random ${atomjiggle} ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 1e-05 87287 units box
Displacing atoms ...
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        76   0             -8962.4707     -8962.4707     -4855.1497     -4855.1298     -0.00096622144  50.092067      28.920668      35.307298      0.0018569171 
        80   0             -8962.4707     -8962.4707     -4855.1555     -4855.1356     -0.011779125    50.092067      28.920668      35.307298      6.5723427e-05
        90   0             -8962.4707     -8962.4707     -4855.1531     -4855.1332     -0.0063900344   50.092067      28.920668      35.307298      5.3695965e-06
       100   0             -8962.4707     -8962.4707     -4855.1507     -4855.1309     -0.0011512521   50.092067      28.920668      35.307298      5.7223554e-07
       110   0             -8962.4707     -8962.4707     -4855.1503     -4855.1304     -0.00012465594  50.092067      28.920668      35.307298      9.0409633e-08
       119   0             -8962.4707     -8962.4707     -4855.1502     -4855.1304     -6.5769993e-06  50.092067      28.920668      35.307298      8.8373301e-09
Loop time of 0.460288 on 1 procs for 43 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.47073941504  -8962.47073971322  -8962.47073971329
  Force two-norm initial, final = 0.0018569171 8.8373301e-09
  Force max component initial, final = 9.7625584e-05 5.3059648e-10
  Final line search alpha, max atom move = 1 5.3059648e-10
  Iterations, force evaluations = 43 86

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.45343    | 0.45343    | 0.45343    |   0.0 | 98.51
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0013696  | 0.0013696  | 0.0013696  |   0.0 |  0.30
Output  | 0.00023347 | 0.00023347 | 0.00023347 |   0.0 |  0.05
Modify  | 0.00080734 | 0.00080734 | 0.00080734 |   0.0 |  0.18
Other   |            | 0.004448   |            |       |  0.97

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Ef equal "c_eatoms"
variable 	Efo equal $Ef
variable 	Efo equal -8962.47073971326f
variable	Cf equal 1.60217657e-16
variable 	A equal (${xdim}*${ydim})*1e-20
variable 	A equal (50.0920670213607*${ydim})*1e-20
variable 	A equal (50.0920670213607*28.9206683790474)*1e-20
variable 	SFE equal ((${Ef}-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/1.44869605874579e-17
variable 	Efomj equal ${Ef}*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/1.44869605874579e-17

####################################
print "Initial energy of atoms = ${Eo} eV"
Initial energy of atoms = -8964.07633391985 eV
print "Initial energy before twinning Efo = ${Ef} $Efomj" # in SFE in mJ/m^2"
Initial energy before twinning Efo = -8962.47073971326 -8962.47073971326fomj

#----------- for twin fault energy -----------------------
variable	Ndiscrt equal 30
variable    	i loop ${Ndiscrt}
variable    	i loop 30
label       	loop

variable 	xt_displace equal -1*(${latparam1}/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*6/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*6/30)
variable 	Bxt_displace equal 1.0+${i}/${Ndiscrt}
variable 	Bxt_displace equal 1.0+6/${Ndiscrt}
variable 	Bxt_displace equal 1.0+6/30

displace_atoms 	top2 move ${xt_displace} 0.0 0.0 units box
displace_atoms 	top2 move -0.333947113475738 0.0 0.0 units box
Displacing atoms ...

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
       119   0             -8958.42       -8958.42       -6342.3679     -3476.2289      985.21845      50.092067      28.920668      35.307297      1.4783733    
       120   0             -8958.5362     -8958.5362     -6227.7095     -3576.1574      894.02706      50.092067      28.920668      35.307297      0.51347618   
       130   0             -8958.5774     -8958.5774     -6559.3493     -3943.9156      99.219759      50.092067      28.920668      35.307297      0.054583045  
       140   0             -8958.5783     -8958.5783     -6602.3526     -3987.5255      1.3118211      50.092067      28.920668      35.307297      0.00024952191
       150   0             -8958.5783     -8958.5783     -6602.9164     -3988.1208      0.0054676459   50.092067      28.920668      35.307297      5.5562416e-06
       160   0             -8958.5783     -8958.5783     -6602.9192     -3988.1236     -0.00083241545  50.092067      28.920668      35.307297      2.062856e-07 
       170   0             -8958.5783     -8958.5783     -6602.919      -3988.1234     -0.00023588973  50.092067      28.920668      35.307297      1.0410474e-07
       179   0             -8958.5783     -8958.5783     -6602.9189     -3988.1233     -1.0240956e-05  50.092067      28.920668      35.307297      7.8484251e-09
Loop time of 0.640081 on 1 procs for 60 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8958.41996349218  -8958.57829160129  -8958.57829160129
  Force two-norm initial, final = 1.4783733 7.8484251e-09
  Force max component initial, final = 0.073935745 4.4530172e-10
  Final line search alpha, max atom move = 1 4.4530172e-10
  Iterations, force evaluations = 60 120

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.63049    | 0.63049    | 0.63049    |   0.0 | 98.50
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0018862  | 0.0018862  | 0.0018862  |   0.0 |  0.29
Output  | 0.00035233 | 0.00035233 | 0.00035233 |   0.0 |  0.06
Modify  | 0.0011322  | 0.0011322  | 0.0011322  |   0.0 |  0.18
Other   |            | 0.006217   |            |       |  0.97

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197800 ave      197800 max      197800 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197800
Ave neighs/atom = 61.8125
Neighbor list builds = 0
Dangerous builds = 0

variable 	Eftwn equal "c_eatoms"
variable 	Eftwnmj equal ${Eftwn}*${Cf}/${A}
variable 	Eftwnmj equal -8958.57829160133*${Cf}/${A}
variable 	Eftwnmj equal -8958.57829160133*1.60217657e-16/${A}
variable 	Eftwnmj equal -8958.57829160133*1.60217657e-16/1.44869605874579e-17
variable 	TFEf equal ${Eftwnmj}-${Efomj}
variable 	TFEf equal -99076.8501968632-${Efomj}
variable 	TFEf equal -99076.8501968632--99119.8984893413

print 		"displacement and TFE = ${Bxt_displace} ${TFEf}" # in SFE in mJ/m^2"
displacement and TFE = 1.2 43.0482924780954

next 		i
jump		TFE_displacement1.lmpin
#####################################################################################################################
# Course: Theory, Modelling, and Simulation of Microstructures (TMS)
# Tutors: Dr. Arun Prakash
# Description: Input file for Twin Fault Energy (TFE) of your element
# Originally created by Richard Glaze, 2014. Modified by S. Roy, 2018
######################################################################################################################

# --------------------- INITIALIZAITION ---------------------


clear
units		metal
dimension	3
boundary	p p s
atom_style	atomic
variable 	latparam1 equal 4.09000014545435    ### provide the lattice constant from your calculation
variable 	x_displace equal -1*(${latparam1}/sqrt(6))
variable 	x_displace equal -1*(4.09000014545435/sqrt(6))
variable 	xdim equal ${latparam1}*sqrt(6)/2*10
variable 	xdim equal 4.09000014545435*sqrt(6)/2*10
variable 	ydim equal ${latparam1}*sqrt(2)/2*10
variable 	ydim equal 4.09000014545435*sqrt(2)/2*10
variable 	atomjiggle equal 1.0e-5
variable 	Bx_displace equal 1.0

# --------------------- ATOM DEFINITION ---------------------
lattice		fcc ${latparam1}
lattice		fcc 4.09000014545435
Lattice spacing in x,y,z = 4.0900001 4.0900001 4.0900001
region		1 block -.001 ${xdim} -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 28.9206683790474 -.001 16.5 units box
region 		2 block -.001 ${xdim} -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 28.9206683790474 16.5 36.5808 units box
region 		3 block -.001 ${xdim} -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 28.9206683790474 19.5 36.5808 units box
region		whole block 0 ${xdim} 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 28.9206683790474 0 36.5808 units box
#the -.001 in the -x and -y and lower limit of region 1 are only to overcome a simple numerical issue but can be considered 0
create_box 	1 whole
Created orthogonal box = (0 0 0) to (50.092067 28.920668 36.5808)
  1 by 1 by 1 MPI processor grid
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms	1 region 1
Created 1400 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms 	1 region 2
Created 1800 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds

# --------------------- FORCE FIELDS ---------------------
#Provide potential
pair_style      eam/alloy ### --> TYPE OF POTENTIAL (eam (OR) eam/alloy)
pair_coeff      *  *  CuAg.eam.alloy Ag  ### POTENTIAL FILENAME


# --------------------- SETTINGS ---------------------

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.411 | 5.411 | 5.411 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press          Volume    
         0   0             -8963.0005      0             -8963.0005     -5973.3391      51324.051    
        30   0             -8964.0763      0             -8964.0763     -3443.7334      51324.051    
Loop time of 0.302913 on 1 procs for 30 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -8963.00049826424  -8964.07633391507  -8964.07633391507
  Force two-norm initial, final = 3.47643 4.9599618e-07
  Force max component initial, final = 0.12627393 1.6676942e-08
  Final line search alpha, max atom move = 0.5 8.3384712e-09
  Iterations, force evaluations = 30 60

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.29841    | 0.29841    | 0.29841    |   0.0 | 98.51
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00093664 | 0.00093664 | 0.00093664 |   0.0 |  0.31
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0.00057712 | 0.00057712 | 0.00057712 |   0.0 |  0.19
Other   |            | 0.002986   |            |       |  0.99

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0

compute 	peratom all pe/atom
compute 	eatoms all reduce sum c_peratom
compute 	csym all centro/atom fcc
thermo 		10
thermo_style 	custom step temp pe c_eatoms pxx pyy pzz lx ly lz fnorm
#dump 		1 all custom 1 dump.relax.1.* id type xs ys zs c_peratom c_csym
run 0
WARNING: No fixes with time integration, atoms won't move (../verlet.cpp:60)
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 9
  2 neighbor lists, perpetual/occasional/extra = 1 1 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
  (2) compute centro/atom, occasional
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.042 | 5.042 | 5.042 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8964.0763     -8964.0763     -5177.9056     -5177.9056     -0.0070721536   50.092067      28.920668      35.343537      4.9599618e-07
Loop time of 8.99e-07 on 1 procs for 0 steps with 3200 atoms

111.2% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0          | 0          | 0          |   0.0 |  0.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0          | 0          | 0          |   0.0 |  0.00
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 8.99e-07   |            |       |100.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0
#this command creates a model of the script before the displacement and minimization occur
variable 	E equal "c_eatoms"
variable 	Eo equal $E
variable 	Eo equal -8964.07633391985
#variable 	E equal "c_eatoms" computes the initial energy of the model before any sliding is done
#E is necessary to store the initial energy in Eo

group 		bot region 1
1400 atoms in group bot
group 		top region 2
1800 atoms in group top
group 		top2 region 3
1400 atoms in group top2

displace_atoms 	top move ${x_displace} 0.0 0.0 units box
displace_atoms 	top move -1.66973556737869 0.0 0.0 units box
Displacing atoms ...

#displace_atoms is the command neccessary to move atoms into the next stacking arrangement (ie: A -> B)

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8962.3211     -8962.3211     -5591.7202     -5591.7202     -1576.99        50.092067      28.920668      35.343537      0.73964576   
        40   0             -8962.4682     -8962.4682     -4916.0068     -4916.0068     -147.92622      50.092067      28.920668      35.343537      0.079250389  
        50   0             -8962.4707     -8962.4707     -4849.2612     -4849.2612      2.0166763      50.092067      28.920668      35.343537      0.00021490913
        60   0             -8962.4707     -8962.4707     -4850.1594     -4850.1594      0.0068087804   50.092067      28.920668      35.343537      8.3903308e-06
        70   0             -8962.4707     -8962.4707     -4850.1627     -4850.1627     -0.0011681215   50.092067      28.920668      35.343537      1.9069354e-07
        76   0             -8962.4707     -8962.4707     -4850.1622     -4850.1622      1.4367245e-06  50.092067      28.920668      35.343537      8.8399799e-09
Loop time of 0.472991 on 1 procs for 46 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.32106258411  -8962.47074017725   -8962.4707401783
  Force two-norm initial, final = 0.73964576 8.8399799e-09
  Force max component initial, final = 0.026316509 2.9932082e-10
  Final line search alpha, max atom move = 1 2.9932082e-10
  Iterations, force evaluations = 46 92

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.46572    | 0.46572    | 0.46572    |   0.0 | 98.46
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0014636  | 0.0014636  | 0.0014636  |   0.0 |  0.31
Output  | 0.00023394 | 0.00023394 | 0.00023394 |   0.0 |  0.05
Modify  | 0.00087098 | 0.00087098 | 0.00087098 |   0.0 |  0.18
Other   |            | 0.004703   |            |       |  0.99

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

displace_atoms 	all random ${atomjiggle} ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 1e-05 87287 units box
Displacing atoms ...
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        76   0             -8962.4707     -8962.4707     -4855.1497     -4855.1298     -0.00096622144  50.092067      28.920668      35.307298      0.0018569171 
        80   0             -8962.4707     -8962.4707     -4855.1555     -4855.1356     -0.011779125    50.092067      28.920668      35.307298      6.5723427e-05
        90   0             -8962.4707     -8962.4707     -4855.1531     -4855.1332     -0.0063900344   50.092067      28.920668      35.307298      5.3695965e-06
       100   0             -8962.4707     -8962.4707     -4855.1507     -4855.1309     -0.0011512521   50.092067      28.920668      35.307298      5.7223554e-07
       110   0             -8962.4707     -8962.4707     -4855.1503     -4855.1304     -0.00012465594  50.092067      28.920668      35.307298      9.0409633e-08
       119   0             -8962.4707     -8962.4707     -4855.1502     -4855.1304     -6.5769993e-06  50.092067      28.920668      35.307298      8.8373301e-09
Loop time of 0.458192 on 1 procs for 43 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.47073941504  -8962.47073971322  -8962.47073971329
  Force two-norm initial, final = 0.0018569171 8.8373301e-09
  Force max component initial, final = 9.7625584e-05 5.3059648e-10
  Final line search alpha, max atom move = 1 5.3059648e-10
  Iterations, force evaluations = 43 86

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.45137    | 0.45137    | 0.45137    |   0.0 | 98.51
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0013404  | 0.0013404  | 0.0013404  |   0.0 |  0.29
Output  | 0.00023334 | 0.00023334 | 0.00023334 |   0.0 |  0.05
Modify  | 0.00081559 | 0.00081559 | 0.00081559 |   0.0 |  0.18
Other   |            | 0.00443    |            |       |  0.97

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Ef equal "c_eatoms"
variable 	Efo equal $Ef
variable 	Efo equal -8962.47073971326f
variable	Cf equal 1.60217657e-16
variable 	A equal (${xdim}*${ydim})*1e-20
variable 	A equal (50.0920670213607*${ydim})*1e-20
variable 	A equal (50.0920670213607*28.9206683790474)*1e-20
variable 	SFE equal ((${Ef}-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/1.44869605874579e-17
variable 	Efomj equal ${Ef}*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/1.44869605874579e-17

####################################
print "Initial energy of atoms = ${Eo} eV"
Initial energy of atoms = -8964.07633391985 eV
print "Initial energy before twinning Efo = ${Ef} $Efomj" # in SFE in mJ/m^2"
Initial energy before twinning Efo = -8962.47073971326 -8962.47073971326fomj

#----------- for twin fault energy -----------------------
variable	Ndiscrt equal 30
variable    	i loop ${Ndiscrt}
variable    	i loop 30
label       	loop

variable 	xt_displace equal -1*(${latparam1}/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*7/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*7/30)
variable 	Bxt_displace equal 1.0+${i}/${Ndiscrt}
variable 	Bxt_displace equal 1.0+7/${Ndiscrt}
variable 	Bxt_displace equal 1.0+7/30

displace_atoms 	top2 move ${xt_displace} 0.0 0.0 units box
displace_atoms 	top2 move -0.389604965721694 0.0 0.0 units box
Displacing atoms ...

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.293 | 6.293 | 6.293 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
       119   0             -8957.2892     -8957.2892     -6566.9593     -3249.7         1313.6789      50.092067      28.920668      35.307297      1.9621902    
       120   0             -8957.4786     -8957.4786     -6390.2686     -3415.5869      1126.8691      50.092067      28.920668      35.307297      0.72847251   
       130   0             -8957.5478     -8957.5478     -6816.6959     -3875.6717      122.38333      50.092067      28.920668      35.307297      0.067834011  
       140   0             -8957.5492     -8957.5492     -6869.0399     -3932.3653     -1.3609879      50.092067      28.920668      35.307297      0.0001089021 
       150   0             -8957.5492     -8957.5492     -6868.4531     -3931.75       -0.0042086805   50.092067      28.920668      35.307297      5.7552786e-06
       160   0             -8957.5492     -8957.5492     -6868.4512     -3931.7486     -0.00062350998  50.092067      28.920668      35.307297      3.6649026e-07
       170   0             -8957.5492     -8957.5492     -6868.4511     -3931.7485     -0.00034098055  50.092067      28.920668      35.307297      9.0745078e-08
       179   0             -8957.5492     -8957.5492     -6868.4509     -3931.7483     -1.0657286e-05  50.092067      28.920668      35.307297      8.2303444e-09
Loop time of 0.635509 on 1 procs for 60 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8957.28921884643   -8957.5492349022  -8957.54923490215
  Force two-norm initial, final = 1.9621902 8.2303444e-09
  Force max component initial, final = 0.098131389 4.2807835e-10
  Final line search alpha, max atom move = 1 4.2807835e-10
  Iterations, force evaluations = 60 120

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.62596    | 0.62596    | 0.62596    |   0.0 | 98.50
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0018802  | 0.0018802  | 0.0018802  |   0.0 |  0.30
Output  | 0.00034886 | 0.00034886 | 0.00034886 |   0.0 |  0.05
Modify  | 0.0011177  | 0.0011177  | 0.0011177  |   0.0 |  0.18
Other   |            | 0.006203   |            |       |  0.98

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3389 ave        3389 max        3389 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197800 ave      197800 max      197800 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197800
Ave neighs/atom = 61.8125
Neighbor list builds = 0
Dangerous builds = 0

variable 	Eftwn equal "c_eatoms"
variable 	Eftwnmj equal ${Eftwn}*${Cf}/${A}
variable 	Eftwnmj equal -8957.54923490222*${Cf}/${A}
variable 	Eftwnmj equal -8957.54923490222*1.60217657e-16/${A}
variable 	Eftwnmj equal -8957.54923490222*1.60217657e-16/1.44869605874579e-17
variable 	TFEf equal ${Eftwnmj}-${Efomj}
variable 	TFEf equal -99065.4694070657-${Efomj}
variable 	TFEf equal -99065.4694070657--99119.8984893413

print 		"displacement and TFE = ${Bxt_displace} ${TFEf}" # in SFE in mJ/m^2"
displacement and TFE = 1.23333333333333 54.4290822756011

next 		i
jump		TFE_displacement1.lmpin
#####################################################################################################################
# Course: Theory, Modelling, and Simulation of Microstructures (TMS)
# Tutors: Dr. Arun Prakash
# Description: Input file for Twin Fault Energy (TFE) of your element
# Originally created by Richard Glaze, 2014. Modified by S. Roy, 2018
######################################################################################################################

# --------------------- INITIALIZAITION ---------------------


clear
units		metal
dimension	3
boundary	p p s
atom_style	atomic
variable 	latparam1 equal 4.09000014545435    ### provide the lattice constant from your calculation
variable 	x_displace equal -1*(${latparam1}/sqrt(6))
variable 	x_displace equal -1*(4.09000014545435/sqrt(6))
variable 	xdim equal ${latparam1}*sqrt(6)/2*10
variable 	xdim equal 4.09000014545435*sqrt(6)/2*10
variable 	ydim equal ${latparam1}*sqrt(2)/2*10
variable 	ydim equal 4.09000014545435*sqrt(2)/2*10
variable 	atomjiggle equal 1.0e-5
variable 	Bx_displace equal 1.0

# --------------------- ATOM DEFINITION ---------------------
lattice		fcc ${latparam1}
lattice		fcc 4.09000014545435
Lattice spacing in x,y,z = 4.0900001 4.0900001 4.0900001
region		1 block -.001 ${xdim} -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 28.9206683790474 -.001 16.5 units box
region 		2 block -.001 ${xdim} -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 28.9206683790474 16.5 36.5808 units box
region 		3 block -.001 ${xdim} -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 28.9206683790474 19.5 36.5808 units box
region		whole block 0 ${xdim} 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 28.9206683790474 0 36.5808 units box
#the -.001 in the -x and -y and lower limit of region 1 are only to overcome a simple numerical issue but can be considered 0
create_box 	1 whole
Created orthogonal box = (0 0 0) to (50.092067 28.920668 36.5808)
  1 by 1 by 1 MPI processor grid
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms	1 region 1
Created 1400 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms 	1 region 2
Created 1800 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds

# --------------------- FORCE FIELDS ---------------------
#Provide potential
pair_style      eam/alloy ### --> TYPE OF POTENTIAL (eam (OR) eam/alloy)
pair_coeff      *  *  CuAg.eam.alloy Ag  ### POTENTIAL FILENAME


# --------------------- SETTINGS ---------------------

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.411 | 5.411 | 5.411 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press          Volume    
         0   0             -8963.0005      0             -8963.0005     -5973.3391      51324.051    
        30   0             -8964.0763      0             -8964.0763     -3443.7334      51324.051    
Loop time of 0.299112 on 1 procs for 30 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -8963.00049826424  -8964.07633391507  -8964.07633391507
  Force two-norm initial, final = 3.47643 4.9599618e-07
  Force max component initial, final = 0.12627393 1.6676942e-08
  Final line search alpha, max atom move = 0.5 8.3384712e-09
  Iterations, force evaluations = 30 60

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.29455    | 0.29455    | 0.29455    |   0.0 | 98.47
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00093624 | 0.00093624 | 0.00093624 |   0.0 |  0.31
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0.00056331 | 0.00056331 | 0.00056331 |   0.0 |  0.19
Other   |            | 0.003064   |            |       |  1.02

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0

compute 	peratom all pe/atom
compute 	eatoms all reduce sum c_peratom
compute 	csym all centro/atom fcc
thermo 		10
thermo_style 	custom step temp pe c_eatoms pxx pyy pzz lx ly lz fnorm
#dump 		1 all custom 1 dump.relax.1.* id type xs ys zs c_peratom c_csym
run 0
WARNING: No fixes with time integration, atoms won't move (../verlet.cpp:60)
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 9
  2 neighbor lists, perpetual/occasional/extra = 1 1 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
  (2) compute centro/atom, occasional
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.042 | 5.042 | 5.042 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8964.0763     -8964.0763     -5177.9056     -5177.9056     -0.0070721536   50.092067      28.920668      35.343537      4.9599618e-07
Loop time of 9.25e-07 on 1 procs for 0 steps with 3200 atoms

108.1% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0          | 0          | 0          |   0.0 |  0.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0          | 0          | 0          |   0.0 |  0.00
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 9.25e-07   |            |       |100.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0
#this command creates a model of the script before the displacement and minimization occur
variable 	E equal "c_eatoms"
variable 	Eo equal $E
variable 	Eo equal -8964.07633391985
#variable 	E equal "c_eatoms" computes the initial energy of the model before any sliding is done
#E is necessary to store the initial energy in Eo

group 		bot region 1
1400 atoms in group bot
group 		top region 2
1800 atoms in group top
group 		top2 region 3
1400 atoms in group top2

displace_atoms 	top move ${x_displace} 0.0 0.0 units box
displace_atoms 	top move -1.66973556737869 0.0 0.0 units box
Displacing atoms ...

#displace_atoms is the command neccessary to move atoms into the next stacking arrangement (ie: A -> B)

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8962.3211     -8962.3211     -5591.7202     -5591.7202     -1576.99        50.092067      28.920668      35.343537      0.73964576   
        40   0             -8962.4682     -8962.4682     -4916.0068     -4916.0068     -147.92622      50.092067      28.920668      35.343537      0.079250389  
        50   0             -8962.4707     -8962.4707     -4849.2612     -4849.2612      2.0166763      50.092067      28.920668      35.343537      0.00021490913
        60   0             -8962.4707     -8962.4707     -4850.1594     -4850.1594      0.0068087804   50.092067      28.920668      35.343537      8.3903308e-06
        70   0             -8962.4707     -8962.4707     -4850.1627     -4850.1627     -0.0011681215   50.092067      28.920668      35.343537      1.9069354e-07
        76   0             -8962.4707     -8962.4707     -4850.1622     -4850.1622      1.4367245e-06  50.092067      28.920668      35.343537      8.8399799e-09
Loop time of 0.474871 on 1 procs for 46 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.32106258411  -8962.47074017725   -8962.4707401783
  Force two-norm initial, final = 0.73964576 8.8399799e-09
  Force max component initial, final = 0.026316509 2.9932082e-10
  Final line search alpha, max atom move = 1 2.9932082e-10
  Iterations, force evaluations = 46 92

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.46748    | 0.46748    | 0.46748    |   0.0 | 98.44
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0014399  | 0.0014399  | 0.0014399  |   0.0 |  0.30
Output  | 0.00023249 | 0.00023249 | 0.00023249 |   0.0 |  0.05
Modify  | 0.00086494 | 0.00086494 | 0.00086494 |   0.0 |  0.18
Other   |            | 0.004855   |            |       |  1.02

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

displace_atoms 	all random ${atomjiggle} ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 1e-05 87287 units box
Displacing atoms ...
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        76   0             -8962.4707     -8962.4707     -4855.1497     -4855.1298     -0.00096622144  50.092067      28.920668      35.307298      0.0018569171 
        80   0             -8962.4707     -8962.4707     -4855.1555     -4855.1356     -0.011779125    50.092067      28.920668      35.307298      6.5723427e-05
        90   0             -8962.4707     -8962.4707     -4855.1531     -4855.1332     -0.0063900344   50.092067      28.920668      35.307298      5.3695965e-06
       100   0             -8962.4707     -8962.4707     -4855.1507     -4855.1309     -0.0011512521   50.092067      28.920668      35.307298      5.7223554e-07
       110   0             -8962.4707     -8962.4707     -4855.1503     -4855.1304     -0.00012465594  50.092067      28.920668      35.307298      9.0409633e-08
       119   0             -8962.4707     -8962.4707     -4855.1502     -4855.1304     -6.5769993e-06  50.092067      28.920668      35.307298      8.8373301e-09
Loop time of 0.461238 on 1 procs for 43 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.47073941504  -8962.47073971322  -8962.47073971329
  Force two-norm initial, final = 0.0018569171 8.8373301e-09
  Force max component initial, final = 9.7625584e-05 5.3059648e-10
  Final line search alpha, max atom move = 1 5.3059648e-10
  Iterations, force evaluations = 43 86

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.4544     | 0.4544     | 0.4544     |   0.0 | 98.52
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0013461  | 0.0013461  | 0.0013461  |   0.0 |  0.29
Output  | 0.00023672 | 0.00023672 | 0.00023672 |   0.0 |  0.05
Modify  | 0.00082302 | 0.00082302 | 0.00082302 |   0.0 |  0.18
Other   |            | 0.004431   |            |       |  0.96

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Ef equal "c_eatoms"
variable 	Efo equal $Ef
variable 	Efo equal -8962.47073971326f
variable	Cf equal 1.60217657e-16
variable 	A equal (${xdim}*${ydim})*1e-20
variable 	A equal (50.0920670213607*${ydim})*1e-20
variable 	A equal (50.0920670213607*28.9206683790474)*1e-20
variable 	SFE equal ((${Ef}-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/1.44869605874579e-17
variable 	Efomj equal ${Ef}*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/1.44869605874579e-17

####################################
print "Initial energy of atoms = ${Eo} eV"
Initial energy of atoms = -8964.07633391985 eV
print "Initial energy before twinning Efo = ${Ef} $Efomj" # in SFE in mJ/m^2"
Initial energy before twinning Efo = -8962.47073971326 -8962.47073971326fomj

#----------- for twin fault energy -----------------------
variable	Ndiscrt equal 30
variable    	i loop ${Ndiscrt}
variable    	i loop 30
label       	loop

variable 	xt_displace equal -1*(${latparam1}/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*8/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*8/30)
variable 	Bxt_displace equal 1.0+${i}/${Ndiscrt}
variable 	Bxt_displace equal 1.0+8/${Ndiscrt}
variable 	Bxt_displace equal 1.0+8/30

displace_atoms 	top2 move ${xt_displace} 0.0 0.0 units box
displace_atoms 	top2 move -0.445262817967651 0.0 0.0 units box
Displacing atoms ...

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.293 | 6.293 | 6.293 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
       119   0             -8956.1339     -8956.1339     -6767.1304     -3025.0433      1678.7529      50.092067      28.920668      35.307297      2.4968125    
       120   0             -8956.4176     -8956.4176     -6515.6751     -3273.9303      1357.1359      50.092067      28.920668      35.307297      0.95709952   
       130   0             -8956.5232     -8956.5232     -7039.3577     -3834.512       130.41365      50.092067      28.920668      35.307297      0.083846735  
       140   0             -8956.5253     -8956.5253     -7100.1036     -3894.6001     -4.8622648      50.092067      28.920668      35.307297      0.0019220785 
       150   0             -8956.5253     -8956.5253     -7097.916      -3892.3456      0.20780807     50.092067      28.920668      35.307297      1.91118e-05  
       160   0             -8956.5253     -8956.5253     -7098.0071     -3892.4423     -0.0041942152   50.092067      28.920668      35.307297      6.6512945e-07
       170   0             -8956.5253     -8956.5253     -7098.0051     -3892.4402      0.00049122168  50.092067      28.920668      35.307297      1.1771433e-07
       180   0             -8956.5253     -8956.5253     -7098.0053     -3892.4405     -3.7120172e-05  50.092067      28.920668      35.307297      6.4993484e-08
       185   0             -8956.5253     -8956.5253     -7098.0053     -3892.4405     -5.8123152e-05  50.092067      28.920668      35.307297      8.9870769e-09
Loop time of 0.698852 on 1 procs for 66 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8956.13391192047  -8956.52534231395    -8956.525342314
  Force two-norm initial, final = 2.4968125 8.9870769e-09
  Force max component initial, final = 0.12486553 5.8850746e-10
  Final line search alpha, max atom move = 1 5.8850746e-10
  Iterations, force evaluations = 66 131

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.68833    | 0.68833    | 0.68833    |   0.0 | 98.49
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0020854  | 0.0020854  | 0.0020854  |   0.0 |  0.30
Output  | 0.00046079 | 0.00046079 | 0.00046079 |   0.0 |  0.07
Modify  | 0.0012266  | 0.0012266  | 0.0012266  |   0.0 |  0.18
Other   |            | 0.006749   |            |       |  0.97

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3389 ave        3389 max        3389 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197000 ave      197000 max      197000 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197000
Ave neighs/atom = 61.5625
Neighbor list builds = 0
Dangerous builds = 0

variable 	Eftwn equal "c_eatoms"
variable 	Eftwnmj equal ${Eftwn}*${Cf}/${A}
variable 	Eftwnmj equal -8956.52534231409*${Cf}/${A}
variable 	Eftwnmj equal -8956.52534231409*1.60217657e-16/${A}
variable 	Eftwnmj equal -8956.52534231409*1.60217657e-16/1.44869605874579e-17
variable 	TFEf equal ${Eftwnmj}-${Efomj}
variable 	TFEf equal -99054.1457294385-${Efomj}
variable 	TFEf equal -99054.1457294385--99119.8984893413

print 		"displacement and TFE = ${Bxt_displace} ${TFEf}" # in SFE in mJ/m^2"
displacement and TFE = 1.26666666666667 65.7527599027962

next 		i
jump		TFE_displacement1.lmpin
#####################################################################################################################
# Course: Theory, Modelling, and Simulation of Microstructures (TMS)
# Tutors: Dr. Arun Prakash
# Description: Input file for Twin Fault Energy (TFE) of your element
# Originally created by Richard Glaze, 2014. Modified by S. Roy, 2018
######################################################################################################################

# --------------------- INITIALIZAITION ---------------------


clear
units		metal
dimension	3
boundary	p p s
atom_style	atomic
variable 	latparam1 equal 4.09000014545435    ### provide the lattice constant from your calculation
variable 	x_displace equal -1*(${latparam1}/sqrt(6))
variable 	x_displace equal -1*(4.09000014545435/sqrt(6))
variable 	xdim equal ${latparam1}*sqrt(6)/2*10
variable 	xdim equal 4.09000014545435*sqrt(6)/2*10
variable 	ydim equal ${latparam1}*sqrt(2)/2*10
variable 	ydim equal 4.09000014545435*sqrt(2)/2*10
variable 	atomjiggle equal 1.0e-5
variable 	Bx_displace equal 1.0

# --------------------- ATOM DEFINITION ---------------------
lattice		fcc ${latparam1}
lattice		fcc 4.09000014545435
Lattice spacing in x,y,z = 4.0900001 4.0900001 4.0900001
region		1 block -.001 ${xdim} -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 28.9206683790474 -.001 16.5 units box
region 		2 block -.001 ${xdim} -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 28.9206683790474 16.5 36.5808 units box
region 		3 block -.001 ${xdim} -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 28.9206683790474 19.5 36.5808 units box
region		whole block 0 ${xdim} 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 28.9206683790474 0 36.5808 units box
#the -.001 in the -x and -y and lower limit of region 1 are only to overcome a simple numerical issue but can be considered 0
create_box 	1 whole
Created orthogonal box = (0 0 0) to (50.092067 28.920668 36.5808)
  1 by 1 by 1 MPI processor grid
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms	1 region 1
Created 1400 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms 	1 region 2
Created 1800 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds

# --------------------- FORCE FIELDS ---------------------
#Provide potential
pair_style      eam/alloy ### --> TYPE OF POTENTIAL (eam (OR) eam/alloy)
pair_coeff      *  *  CuAg.eam.alloy Ag  ### POTENTIAL FILENAME


# --------------------- SETTINGS ---------------------

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.411 | 5.411 | 5.411 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press          Volume    
         0   0             -8963.0005      0             -8963.0005     -5973.3391      51324.051    
        30   0             -8964.0763      0             -8964.0763     -3443.7334      51324.051    
Loop time of 0.29745 on 1 procs for 30 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -8963.00049826424  -8964.07633391507  -8964.07633391507
  Force two-norm initial, final = 3.47643 4.9599618e-07
  Force max component initial, final = 0.12627393 1.6676942e-08
  Final line search alpha, max atom move = 0.5 8.3384712e-09
  Iterations, force evaluations = 30 60

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.29291    | 0.29291    | 0.29291    |   0.0 | 98.47
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00092715 | 0.00092715 | 0.00092715 |   0.0 |  0.31
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0.00056172 | 0.00056172 | 0.00056172 |   0.0 |  0.19
Other   |            | 0.00305    |            |       |  1.03

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0

compute 	peratom all pe/atom
compute 	eatoms all reduce sum c_peratom
compute 	csym all centro/atom fcc
thermo 		10
thermo_style 	custom step temp pe c_eatoms pxx pyy pzz lx ly lz fnorm
#dump 		1 all custom 1 dump.relax.1.* id type xs ys zs c_peratom c_csym
run 0
WARNING: No fixes with time integration, atoms won't move (../verlet.cpp:60)
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 9
  2 neighbor lists, perpetual/occasional/extra = 1 1 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
  (2) compute centro/atom, occasional
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.042 | 5.042 | 5.042 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8964.0763     -8964.0763     -5177.9056     -5177.9056     -0.0070721536   50.092067      28.920668      35.343537      4.9599618e-07
Loop time of 9.32e-07 on 1 procs for 0 steps with 3200 atoms

214.6% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0          | 0          | 0          |   0.0 |  0.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0          | 0          | 0          |   0.0 |  0.00
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 9.32e-07   |            |       |100.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0
#this command creates a model of the script before the displacement and minimization occur
variable 	E equal "c_eatoms"
variable 	Eo equal $E
variable 	Eo equal -8964.07633391985
#variable 	E equal "c_eatoms" computes the initial energy of the model before any sliding is done
#E is necessary to store the initial energy in Eo

group 		bot region 1
1400 atoms in group bot
group 		top region 2
1800 atoms in group top
group 		top2 region 3
1400 atoms in group top2

displace_atoms 	top move ${x_displace} 0.0 0.0 units box
displace_atoms 	top move -1.66973556737869 0.0 0.0 units box
Displacing atoms ...

#displace_atoms is the command neccessary to move atoms into the next stacking arrangement (ie: A -> B)

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8962.3211     -8962.3211     -5591.7202     -5591.7202     -1576.99        50.092067      28.920668      35.343537      0.73964576   
        40   0             -8962.4682     -8962.4682     -4916.0068     -4916.0068     -147.92622      50.092067      28.920668      35.343537      0.079250389  
        50   0             -8962.4707     -8962.4707     -4849.2612     -4849.2612      2.0166763      50.092067      28.920668      35.343537      0.00021490913
        60   0             -8962.4707     -8962.4707     -4850.1594     -4850.1594      0.0068087804   50.092067      28.920668      35.343537      8.3903308e-06
        70   0             -8962.4707     -8962.4707     -4850.1627     -4850.1627     -0.0011681215   50.092067      28.920668      35.343537      1.9069354e-07
        76   0             -8962.4707     -8962.4707     -4850.1622     -4850.1622      1.4367245e-06  50.092067      28.920668      35.343537      8.8399799e-09
Loop time of 0.471095 on 1 procs for 46 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.32106258411  -8962.47074017725   -8962.4707401783
  Force two-norm initial, final = 0.73964576 8.8399799e-09
  Force max component initial, final = 0.026316509 2.9932082e-10
  Final line search alpha, max atom move = 1 2.9932082e-10
  Iterations, force evaluations = 46 92

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.46385    | 0.46385    | 0.46385    |   0.0 | 98.46
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0014341  | 0.0014341  | 0.0014341  |   0.0 |  0.30
Output  | 0.0002314  | 0.0002314  | 0.0002314  |   0.0 |  0.05
Modify  | 0.00085908 | 0.00085908 | 0.00085908 |   0.0 |  0.18
Other   |            | 0.004718   |            |       |  1.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

displace_atoms 	all random ${atomjiggle} ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 1e-05 87287 units box
Displacing atoms ...
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        76   0             -8962.4707     -8962.4707     -4855.1497     -4855.1298     -0.00096622144  50.092067      28.920668      35.307298      0.0018569171 
        80   0             -8962.4707     -8962.4707     -4855.1555     -4855.1356     -0.011779125    50.092067      28.920668      35.307298      6.5723427e-05
        90   0             -8962.4707     -8962.4707     -4855.1531     -4855.1332     -0.0063900344   50.092067      28.920668      35.307298      5.3695965e-06
       100   0             -8962.4707     -8962.4707     -4855.1507     -4855.1309     -0.0011512521   50.092067      28.920668      35.307298      5.7223554e-07
       110   0             -8962.4707     -8962.4707     -4855.1503     -4855.1304     -0.00012465594  50.092067      28.920668      35.307298      9.0409633e-08
       119   0             -8962.4707     -8962.4707     -4855.1502     -4855.1304     -6.5769993e-06  50.092067      28.920668      35.307298      8.8373301e-09
Loop time of 0.455062 on 1 procs for 43 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.47073941504  -8962.47073971322  -8962.47073971329
  Force two-norm initial, final = 0.0018569171 8.8373301e-09
  Force max component initial, final = 9.7625584e-05 5.3059648e-10
  Final line search alpha, max atom move = 1 5.3059648e-10
  Iterations, force evaluations = 43 86

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.44827    | 0.44827    | 0.44827    |   0.0 | 98.51
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0013256  | 0.0013256  | 0.0013256  |   0.0 |  0.29
Output  | 0.00023254 | 0.00023254 | 0.00023254 |   0.0 |  0.05
Modify  | 0.00080189 | 0.00080189 | 0.00080189 |   0.0 |  0.18
Other   |            | 0.004435   |            |       |  0.97

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Ef equal "c_eatoms"
variable 	Efo equal $Ef
variable 	Efo equal -8962.47073971326f
variable	Cf equal 1.60217657e-16
variable 	A equal (${xdim}*${ydim})*1e-20
variable 	A equal (50.0920670213607*${ydim})*1e-20
variable 	A equal (50.0920670213607*28.9206683790474)*1e-20
variable 	SFE equal ((${Ef}-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/1.44869605874579e-17
variable 	Efomj equal ${Ef}*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/1.44869605874579e-17

####################################
print "Initial energy of atoms = ${Eo} eV"
Initial energy of atoms = -8964.07633391985 eV
print "Initial energy before twinning Efo = ${Ef} $Efomj" # in SFE in mJ/m^2"
Initial energy before twinning Efo = -8962.47073971326 -8962.47073971326fomj

#----------- for twin fault energy -----------------------
variable	Ndiscrt equal 30
variable    	i loop ${Ndiscrt}
variable    	i loop 30
label       	loop

variable 	xt_displace equal -1*(${latparam1}/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*9/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*9/30)
variable 	Bxt_displace equal 1.0+${i}/${Ndiscrt}
variable 	Bxt_displace equal 1.0+9/${Ndiscrt}
variable 	Bxt_displace equal 1.0+9/30

displace_atoms 	top2 move ${xt_displace} 0.0 0.0 units box
displace_atoms 	top2 move -0.500920670213607 0.0 0.0 units box
Displacing atoms ...

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
       119   0             -8954.9958     -8954.9958     -6933.5927     -2809.3382      2058.2719      50.092067      28.920668      35.307297      3.0520714    
       120   0             -8955.3907     -8955.3907     -6595.1491     -3151.9705      1575.5247      50.092067      28.920668      35.307297      1.1974846    
       130   0             -8955.5402     -8955.5402     -7205.1757     -3785.5079      179.01511      50.092067      28.920668      35.307297      0.10390896   
       140   0             -8955.5434     -8955.5434     -7282.72       -3869.1939     -5.7948667      50.092067      28.920668      35.307297      0.00094962186
       150   0             -8955.5434     -8955.5434     -7280.1717     -3866.5706      0.036337617    50.092067      28.920668      35.307297      3.3624717e-06
       160   0             -8955.5434     -8955.5434     -7280.1872     -3866.5876     -0.00054982299  50.092067      28.920668      35.307297      2.6545427e-07
       170   0             -8955.5434     -8955.5434     -7280.187      -3866.5874     -7.2255286e-05  50.092067      28.920668      35.307297      1.6850935e-07
       180   0             -8955.5434     -8955.5434     -7280.1869     -3866.5874      5.1420144e-05  50.092067      28.920668      35.307297      6.7718179e-08
       190   0             -8955.5434     -8955.5434     -7280.1869     -3866.5874     -9.0605568e-06  50.092067      28.920668      35.307297      1.7411696e-08
       196   0             -8955.5434     -8955.5434     -7280.1869     -3866.5874     -4.0341102e-06  50.092067      28.920668      35.307297      8.7691413e-09
Loop time of 0.804223 on 1 procs for 77 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8954.99578197708  -8955.54335215576  -8955.54335215568
  Force two-norm initial, final = 3.0520714 8.7691413e-09
  Force max component initial, final = 0.15262847 6.5411157e-10
  Final line search alpha, max atom move = 1 6.5411157e-10
  Iterations, force evaluations = 77 153

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.79206    | 0.79206    | 0.79206    |   0.0 | 98.49
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0023945  | 0.0023945  | 0.0023945  |   0.0 |  0.30
Output  | 0.00046501 | 0.00046501 | 0.00046501 |   0.0 |  0.06
Modify  | 0.0014329  | 0.0014329  | 0.0014329  |   0.0 |  0.18
Other   |            | 0.007874   |            |       |  0.98

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3357 ave        3357 max        3357 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         196600 ave      196600 max      196600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 196600
Ave neighs/atom = 61.4375
Neighbor list builds = 0
Dangerous builds = 0

variable 	Eftwn equal "c_eatoms"
variable 	Eftwnmj equal ${Eftwn}*${Cf}/${A}
variable 	Eftwnmj equal -8955.54335215567*${Cf}/${A}
variable 	Eftwnmj equal -8955.54335215567*1.60217657e-16/${A}
variable 	Eftwnmj equal -8955.54335215567*1.60217657e-16/1.44869605874579e-17
variable 	TFEf equal ${Eftwnmj}-${Efomj}
variable 	TFEf equal -99043.2854691769-${Efomj}
variable 	TFEf equal -99043.2854691769--99119.8984893413

print 		"displacement and TFE = ${Bxt_displace} ${TFEf}" # in SFE in mJ/m^2"
displacement and TFE = 1.3 76.6130201643973

next 		i
jump		TFE_displacement1.lmpin
#####################################################################################################################
# Course: Theory, Modelling, and Simulation of Microstructures (TMS)
# Tutors: Dr. Arun Prakash
# Description: Input file for Twin Fault Energy (TFE) of your element
# Originally created by Richard Glaze, 2014. Modified by S. Roy, 2018
######################################################################################################################

# --------------------- INITIALIZAITION ---------------------


clear
units		metal
dimension	3
boundary	p p s
atom_style	atomic
variable 	latparam1 equal 4.09000014545435    ### provide the lattice constant from your calculation
variable 	x_displace equal -1*(${latparam1}/sqrt(6))
variable 	x_displace equal -1*(4.09000014545435/sqrt(6))
variable 	xdim equal ${latparam1}*sqrt(6)/2*10
variable 	xdim equal 4.09000014545435*sqrt(6)/2*10
variable 	ydim equal ${latparam1}*sqrt(2)/2*10
variable 	ydim equal 4.09000014545435*sqrt(2)/2*10
variable 	atomjiggle equal 1.0e-5
variable 	Bx_displace equal 1.0

# --------------------- ATOM DEFINITION ---------------------
lattice		fcc ${latparam1}
lattice		fcc 4.09000014545435
Lattice spacing in x,y,z = 4.0900001 4.0900001 4.0900001
region		1 block -.001 ${xdim} -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 28.9206683790474 -.001 16.5 units box
region 		2 block -.001 ${xdim} -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 28.9206683790474 16.5 36.5808 units box
region 		3 block -.001 ${xdim} -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 28.9206683790474 19.5 36.5808 units box
region		whole block 0 ${xdim} 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 28.9206683790474 0 36.5808 units box
#the -.001 in the -x and -y and lower limit of region 1 are only to overcome a simple numerical issue but can be considered 0
create_box 	1 whole
Created orthogonal box = (0 0 0) to (50.092067 28.920668 36.5808)
  1 by 1 by 1 MPI processor grid
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms	1 region 1
Created 1400 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms 	1 region 2
Created 1800 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds

# --------------------- FORCE FIELDS ---------------------
#Provide potential
pair_style      eam/alloy ### --> TYPE OF POTENTIAL (eam (OR) eam/alloy)
pair_coeff      *  *  CuAg.eam.alloy Ag  ### POTENTIAL FILENAME


# --------------------- SETTINGS ---------------------

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.411 | 5.411 | 5.411 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press          Volume    
         0   0             -8963.0005      0             -8963.0005     -5973.3391      51324.051    
        30   0             -8964.0763      0             -8964.0763     -3443.7334      51324.051    
Loop time of 0.300321 on 1 procs for 30 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -8963.00049826424  -8964.07633391507  -8964.07633391507
  Force two-norm initial, final = 3.47643 4.9599618e-07
  Force max component initial, final = 0.12627393 1.6676942e-08
  Final line search alpha, max atom move = 0.5 8.3384712e-09
  Iterations, force evaluations = 30 60

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.29579    | 0.29579    | 0.29579    |   0.0 | 98.49
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00092938 | 0.00092938 | 0.00092938 |   0.0 |  0.31
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0.00056172 | 0.00056172 | 0.00056172 |   0.0 |  0.19
Other   |            | 0.003042   |            |       |  1.01

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0

compute 	peratom all pe/atom
compute 	eatoms all reduce sum c_peratom
compute 	csym all centro/atom fcc
thermo 		10
thermo_style 	custom step temp pe c_eatoms pxx pyy pzz lx ly lz fnorm
#dump 		1 all custom 1 dump.relax.1.* id type xs ys zs c_peratom c_csym
run 0
WARNING: No fixes with time integration, atoms won't move (../verlet.cpp:60)
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 9
  2 neighbor lists, perpetual/occasional/extra = 1 1 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
  (2) compute centro/atom, occasional
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.042 | 5.042 | 5.042 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8964.0763     -8964.0763     -5177.9056     -5177.9056     -0.0070721536   50.092067      28.920668      35.343537      4.9599618e-07
Loop time of 9.32e-07 on 1 procs for 0 steps with 3200 atoms

214.6% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0          | 0          | 0          |   0.0 |  0.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0          | 0          | 0          |   0.0 |  0.00
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 9.32e-07   |            |       |100.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0
#this command creates a model of the script before the displacement and minimization occur
variable 	E equal "c_eatoms"
variable 	Eo equal $E
variable 	Eo equal -8964.07633391985
#variable 	E equal "c_eatoms" computes the initial energy of the model before any sliding is done
#E is necessary to store the initial energy in Eo

group 		bot region 1
1400 atoms in group bot
group 		top region 2
1800 atoms in group top
group 		top2 region 3
1400 atoms in group top2

displace_atoms 	top move ${x_displace} 0.0 0.0 units box
displace_atoms 	top move -1.66973556737869 0.0 0.0 units box
Displacing atoms ...

#displace_atoms is the command neccessary to move atoms into the next stacking arrangement (ie: A -> B)

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8962.3211     -8962.3211     -5591.7202     -5591.7202     -1576.99        50.092067      28.920668      35.343537      0.73964576   
        40   0             -8962.4682     -8962.4682     -4916.0068     -4916.0068     -147.92622      50.092067      28.920668      35.343537      0.079250389  
        50   0             -8962.4707     -8962.4707     -4849.2612     -4849.2612      2.0166763      50.092067      28.920668      35.343537      0.00021490913
        60   0             -8962.4707     -8962.4707     -4850.1594     -4850.1594      0.0068087804   50.092067      28.920668      35.343537      8.3903308e-06
        70   0             -8962.4707     -8962.4707     -4850.1627     -4850.1627     -0.0011681215   50.092067      28.920668      35.343537      1.9069354e-07
        76   0             -8962.4707     -8962.4707     -4850.1622     -4850.1622      1.4367245e-06  50.092067      28.920668      35.343537      8.8399799e-09
Loop time of 0.475598 on 1 procs for 46 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.32106258411  -8962.47074017725   -8962.4707401783
  Force two-norm initial, final = 0.73964576 8.8399799e-09
  Force max component initial, final = 0.026316509 2.9932082e-10
  Final line search alpha, max atom move = 1 2.9932082e-10
  Iterations, force evaluations = 46 92

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.46835    | 0.46835    | 0.46835    |   0.0 | 98.48
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0014127  | 0.0014127  | 0.0014127  |   0.0 |  0.30
Output  | 0.00023147 | 0.00023147 | 0.00023147 |   0.0 |  0.05
Modify  | 0.00087284 | 0.00087284 | 0.00087284 |   0.0 |  0.18
Other   |            | 0.004726   |            |       |  0.99

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

displace_atoms 	all random ${atomjiggle} ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 1e-05 87287 units box
Displacing atoms ...
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        76   0             -8962.4707     -8962.4707     -4855.1497     -4855.1298     -0.00096622144  50.092067      28.920668      35.307298      0.0018569171 
        80   0             -8962.4707     -8962.4707     -4855.1555     -4855.1356     -0.011779125    50.092067      28.920668      35.307298      6.5723427e-05
        90   0             -8962.4707     -8962.4707     -4855.1531     -4855.1332     -0.0063900344   50.092067      28.920668      35.307298      5.3695965e-06
       100   0             -8962.4707     -8962.4707     -4855.1507     -4855.1309     -0.0011512521   50.092067      28.920668      35.307298      5.7223554e-07
       110   0             -8962.4707     -8962.4707     -4855.1503     -4855.1304     -0.00012465594  50.092067      28.920668      35.307298      9.0409633e-08
       119   0             -8962.4707     -8962.4707     -4855.1502     -4855.1304     -6.5769993e-06  50.092067      28.920668      35.307298      8.8373301e-09
Loop time of 0.460883 on 1 procs for 43 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.47073941504  -8962.47073971322  -8962.47073971329
  Force two-norm initial, final = 0.0018569171 8.8373301e-09
  Force max component initial, final = 9.7625584e-05 5.3059648e-10
  Final line search alpha, max atom move = 1 5.3059648e-10
  Iterations, force evaluations = 43 86

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.45403    | 0.45403    | 0.45403    |   0.0 | 98.51
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0013588  | 0.0013588  | 0.0013588  |   0.0 |  0.29
Output  | 0.00023113 | 0.00023113 | 0.00023113 |   0.0 |  0.05
Modify  | 0.00083626 | 0.00083626 | 0.00083626 |   0.0 |  0.18
Other   |            | 0.00443    |            |       |  0.96

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Ef equal "c_eatoms"
variable 	Efo equal $Ef
variable 	Efo equal -8962.47073971326f
variable	Cf equal 1.60217657e-16
variable 	A equal (${xdim}*${ydim})*1e-20
variable 	A equal (50.0920670213607*${ydim})*1e-20
variable 	A equal (50.0920670213607*28.9206683790474)*1e-20
variable 	SFE equal ((${Ef}-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/1.44869605874579e-17
variable 	Efomj equal ${Ef}*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/1.44869605874579e-17

####################################
print "Initial energy of atoms = ${Eo} eV"
Initial energy of atoms = -8964.07633391985 eV
print "Initial energy before twinning Efo = ${Ef} $Efomj" # in SFE in mJ/m^2"
Initial energy before twinning Efo = -8962.47073971326 -8962.47073971326fomj

#----------- for twin fault energy -----------------------
variable	Ndiscrt equal 30
variable    	i loop ${Ndiscrt}
variable    	i loop 30
label       	loop

variable 	xt_displace equal -1*(${latparam1}/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*10/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*10/30)
variable 	Bxt_displace equal 1.0+${i}/${Ndiscrt}
variable 	Bxt_displace equal 1.0+10/${Ndiscrt}
variable 	Bxt_displace equal 1.0+10/30

displace_atoms 	top2 move ${xt_displace} 0.0 0.0 units box
displace_atoms 	top2 move -0.556578522459563 0.0 0.0 units box
Displacing atoms ...

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
       119   0             -8953.9191     -8953.9191     -7056.2669     -2611.4007      2425.751       50.092067      28.920668      35.307297      3.5919139    
       120   0             -8954.4359     -8954.4359     -6623.9811     -3048.8012      1775.1238      50.092067      28.920668      35.307297      1.4269807    
       130   0             -8954.633      -8954.633      -7288.695      -3733.0298      264.67267      50.092067      28.920668      35.307297      0.12404655   
       140   0             -8954.6377     -8954.6377     -7402.9917     -3848.6245      5.1191165      50.092067      28.920668      35.307297      0.00040022467
       150   0             -8954.6377     -8954.6377     -7405.2005     -3850.9572      0.0026864676   50.092067      28.920668      35.307297      1.2136643e-05
       160   0             -8954.6377     -8954.6377     -7405.1994     -3850.9595     -0.00021034007  50.092067      28.920668      35.307297      5.2218376e-07
       165   0             -8954.6377     -8954.6377     -7405.1995     -3850.9596     -0.00044943376  50.092067      28.920668      35.307297      2.0025385e-07
Loop time of 0.49499 on 1 procs for 46 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -8953.91905948598  -8954.63768337855  -8954.63768337855
  Force two-norm initial, final = 3.5919139 2.0025385e-07
  Force max component initial, final = 0.17961698 1.0515008e-08
  Final line search alpha, max atom move = 0.5 5.2575041e-09
  Iterations, force evaluations = 46 92

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.48762    | 0.48762    | 0.48762    |   0.0 | 98.51
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0014266  | 0.0014266  | 0.0014266  |   0.0 |  0.29
Output  | 0.00028971 | 0.00028971 | 0.00028971 |   0.0 |  0.06
Modify  | 0.00085876 | 0.00085876 | 0.00085876 |   0.0 |  0.17
Other   |            | 0.004791   |            |       |  0.97

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3357 ave        3357 max        3357 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         196600 ave      196600 max      196600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 196600
Ave neighs/atom = 61.4375
Neighbor list builds = 0
Dangerous builds = 0

variable 	Eftwn equal "c_eatoms"
variable 	Eftwnmj equal ${Eftwn}*${Cf}/${A}
variable 	Eftwnmj equal -8954.63768337854*${Cf}/${A}
variable 	Eftwnmj equal -8954.63768337854*1.60217657e-16/${A}
variable 	Eftwnmj equal -8954.63768337854*1.60217657e-16/1.44869605874579e-17
variable 	TFEf equal ${Eftwnmj}-${Efomj}
variable 	TFEf equal -99033.2692805765-${Efomj}
variable 	TFEf equal -99033.2692805765--99119.8984893413

print 		"displacement and TFE = ${Bxt_displace} ${TFEf}" # in SFE in mJ/m^2"
displacement and TFE = 1.33333333333333 86.6292087648035

next 		i
jump		TFE_displacement1.lmpin
#####################################################################################################################
# Course: Theory, Modelling, and Simulation of Microstructures (TMS)
# Tutors: Dr. Arun Prakash
# Description: Input file for Twin Fault Energy (TFE) of your element
# Originally created by Richard Glaze, 2014. Modified by S. Roy, 2018
######################################################################################################################

# --------------------- INITIALIZAITION ---------------------


clear
units		metal
dimension	3
boundary	p p s
atom_style	atomic
variable 	latparam1 equal 4.09000014545435    ### provide the lattice constant from your calculation
variable 	x_displace equal -1*(${latparam1}/sqrt(6))
variable 	x_displace equal -1*(4.09000014545435/sqrt(6))
variable 	xdim equal ${latparam1}*sqrt(6)/2*10
variable 	xdim equal 4.09000014545435*sqrt(6)/2*10
variable 	ydim equal ${latparam1}*sqrt(2)/2*10
variable 	ydim equal 4.09000014545435*sqrt(2)/2*10
variable 	atomjiggle equal 1.0e-5
variable 	Bx_displace equal 1.0

# --------------------- ATOM DEFINITION ---------------------
lattice		fcc ${latparam1}
lattice		fcc 4.09000014545435
Lattice spacing in x,y,z = 4.0900001 4.0900001 4.0900001
region		1 block -.001 ${xdim} -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 28.9206683790474 -.001 16.5 units box
region 		2 block -.001 ${xdim} -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 28.9206683790474 16.5 36.5808 units box
region 		3 block -.001 ${xdim} -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 28.9206683790474 19.5 36.5808 units box
region		whole block 0 ${xdim} 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 28.9206683790474 0 36.5808 units box
#the -.001 in the -x and -y and lower limit of region 1 are only to overcome a simple numerical issue but can be considered 0
create_box 	1 whole
Created orthogonal box = (0 0 0) to (50.092067 28.920668 36.5808)
  1 by 1 by 1 MPI processor grid
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms	1 region 1
Created 1400 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms 	1 region 2
Created 1800 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds

# --------------------- FORCE FIELDS ---------------------
#Provide potential
pair_style      eam/alloy ### --> TYPE OF POTENTIAL (eam (OR) eam/alloy)
pair_coeff      *  *  CuAg.eam.alloy Ag  ### POTENTIAL FILENAME


# --------------------- SETTINGS ---------------------

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.411 | 5.411 | 5.411 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press          Volume    
         0   0             -8963.0005      0             -8963.0005     -5973.3391      51324.051    
        30   0             -8964.0763      0             -8964.0763     -3443.7334      51324.051    
Loop time of 0.298385 on 1 procs for 30 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -8963.00049826424  -8964.07633391507  -8964.07633391507
  Force two-norm initial, final = 3.47643 4.9599618e-07
  Force max component initial, final = 0.12627393 1.6676942e-08
  Final line search alpha, max atom move = 0.5 8.3384712e-09
  Iterations, force evaluations = 30 60

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.29383    | 0.29383    | 0.29383    |   0.0 | 98.47
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00093329 | 0.00093329 | 0.00093329 |   0.0 |  0.31
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0.00056321 | 0.00056321 | 0.00056321 |   0.0 |  0.19
Other   |            | 0.003054   |            |       |  1.02

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0

compute 	peratom all pe/atom
compute 	eatoms all reduce sum c_peratom
compute 	csym all centro/atom fcc
thermo 		10
thermo_style 	custom step temp pe c_eatoms pxx pyy pzz lx ly lz fnorm
#dump 		1 all custom 1 dump.relax.1.* id type xs ys zs c_peratom c_csym
run 0
WARNING: No fixes with time integration, atoms won't move (../verlet.cpp:60)
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 9
  2 neighbor lists, perpetual/occasional/extra = 1 1 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
  (2) compute centro/atom, occasional
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.042 | 5.042 | 5.042 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8964.0763     -8964.0763     -5177.9056     -5177.9056     -0.0070721536   50.092067      28.920668      35.343537      4.9599618e-07
Loop time of 9.45e-07 on 1 procs for 0 steps with 3200 atoms

105.8% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0          | 0          | 0          |   0.0 |  0.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0          | 0          | 0          |   0.0 |  0.00
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 9.45e-07   |            |       |100.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0
#this command creates a model of the script before the displacement and minimization occur
variable 	E equal "c_eatoms"
variable 	Eo equal $E
variable 	Eo equal -8964.07633391985
#variable 	E equal "c_eatoms" computes the initial energy of the model before any sliding is done
#E is necessary to store the initial energy in Eo

group 		bot region 1
1400 atoms in group bot
group 		top region 2
1800 atoms in group top
group 		top2 region 3
1400 atoms in group top2

displace_atoms 	top move ${x_displace} 0.0 0.0 units box
displace_atoms 	top move -1.66973556737869 0.0 0.0 units box
Displacing atoms ...

#displace_atoms is the command neccessary to move atoms into the next stacking arrangement (ie: A -> B)

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8962.3211     -8962.3211     -5591.7202     -5591.7202     -1576.99        50.092067      28.920668      35.343537      0.73964576   
        40   0             -8962.4682     -8962.4682     -4916.0068     -4916.0068     -147.92622      50.092067      28.920668      35.343537      0.079250389  
        50   0             -8962.4707     -8962.4707     -4849.2612     -4849.2612      2.0166763      50.092067      28.920668      35.343537      0.00021490913
        60   0             -8962.4707     -8962.4707     -4850.1594     -4850.1594      0.0068087804   50.092067      28.920668      35.343537      8.3903308e-06
        70   0             -8962.4707     -8962.4707     -4850.1627     -4850.1627     -0.0011681215   50.092067      28.920668      35.343537      1.9069354e-07
        76   0             -8962.4707     -8962.4707     -4850.1622     -4850.1622      1.4367245e-06  50.092067      28.920668      35.343537      8.8399799e-09
Loop time of 0.472308 on 1 procs for 46 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.32106258411  -8962.47074017725   -8962.4707401783
  Force two-norm initial, final = 0.73964576 8.8399799e-09
  Force max component initial, final = 0.026316509 2.9932082e-10
  Final line search alpha, max atom move = 1 2.9932082e-10
  Iterations, force evaluations = 46 92

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.46504    | 0.46504    | 0.46504    |   0.0 | 98.46
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0014196  | 0.0014196  | 0.0014196  |   0.0 |  0.30
Output  | 0.00023398 | 0.00023398 | 0.00023398 |   0.0 |  0.05
Modify  | 0.00087386 | 0.00087386 | 0.00087386 |   0.0 |  0.19
Other   |            | 0.004743   |            |       |  1.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

displace_atoms 	all random ${atomjiggle} ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 1e-05 87287 units box
Displacing atoms ...
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        76   0             -8962.4707     -8962.4707     -4855.1497     -4855.1298     -0.00096622144  50.092067      28.920668      35.307298      0.0018569171 
        80   0             -8962.4707     -8962.4707     -4855.1555     -4855.1356     -0.011779125    50.092067      28.920668      35.307298      6.5723427e-05
        90   0             -8962.4707     -8962.4707     -4855.1531     -4855.1332     -0.0063900344   50.092067      28.920668      35.307298      5.3695965e-06
       100   0             -8962.4707     -8962.4707     -4855.1507     -4855.1309     -0.0011512521   50.092067      28.920668      35.307298      5.7223554e-07
       110   0             -8962.4707     -8962.4707     -4855.1503     -4855.1304     -0.00012465594  50.092067      28.920668      35.307298      9.0409633e-08
       119   0             -8962.4707     -8962.4707     -4855.1502     -4855.1304     -6.5769993e-06  50.092067      28.920668      35.307298      8.8373301e-09
Loop time of 0.456731 on 1 procs for 43 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.47073941504  -8962.47073971322  -8962.47073971329
  Force two-norm initial, final = 0.0018569171 8.8373301e-09
  Force max component initial, final = 9.7625584e-05 5.3059648e-10
  Final line search alpha, max atom move = 1 5.3059648e-10
  Iterations, force evaluations = 43 86

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.44996    | 0.44996    | 0.44996    |   0.0 | 98.52
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0013295  | 0.0013295  | 0.0013295  |   0.0 |  0.29
Output  | 0.00023321 | 0.00023321 | 0.00023321 |   0.0 |  0.05
Modify  | 0.00080356 | 0.00080356 | 0.00080356 |   0.0 |  0.18
Other   |            | 0.004404   |            |       |  0.96

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Ef equal "c_eatoms"
variable 	Efo equal $Ef
variable 	Efo equal -8962.47073971326f
variable	Cf equal 1.60217657e-16
variable 	A equal (${xdim}*${ydim})*1e-20
variable 	A equal (50.0920670213607*${ydim})*1e-20
variable 	A equal (50.0920670213607*28.9206683790474)*1e-20
variable 	SFE equal ((${Ef}-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/1.44869605874579e-17
variable 	Efomj equal ${Ef}*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/1.44869605874579e-17

####################################
print "Initial energy of atoms = ${Eo} eV"
Initial energy of atoms = -8964.07633391985 eV
print "Initial energy before twinning Efo = ${Ef} $Efomj" # in SFE in mJ/m^2"
Initial energy before twinning Efo = -8962.47073971326 -8962.47073971326fomj

#----------- for twin fault energy -----------------------
variable	Ndiscrt equal 30
variable    	i loop ${Ndiscrt}
variable    	i loop 30
label       	loop

variable 	xt_displace equal -1*(${latparam1}/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*11/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*11/30)
variable 	Bxt_displace equal 1.0+${i}/${Ndiscrt}
variable 	Bxt_displace equal 1.0+11/${Ndiscrt}
variable 	Bxt_displace equal 1.0+11/30

displace_atoms 	top2 move ${xt_displace} 0.0 0.0 units box
displace_atoms 	top2 move -0.61223637470552 0.0 0.0 units box
Displacing atoms ...

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
       119   0             -8952.9485     -8952.9485     -7129.4001     -2438.9048      2758.0912      50.092067      28.920668      35.307297      4.0848093    
       120   0             -8953.589      -8953.589      -6603.7969     -2963.9686      1949.3242      50.092067      28.920668      35.307297      1.6280674    
       130   0             -8953.8334     -8953.8334     -7325.3236     -3695.6517      328.79151      50.092067      28.920668      35.307297      0.14023546   
       140   0             -8953.8396     -8953.8396     -7465.626      -3838.2239      9.6397956      50.092067      28.920668      35.307297      0.00077873376
       150   0             -8953.8396     -8953.8396     -7469.7636     -3842.606       0.031891106    50.092067      28.920668      35.307297      3.3030157e-05
       160   0             -8953.8396     -8953.8396     -7469.7742     -3842.6219      5.9666641e-05  50.092067      28.920668      35.307297      8.6416776e-07
       170   0             -8953.8396     -8953.8396     -7469.7743     -3842.6222     -0.00044089799  50.092067      28.920668      35.307297      3.921372e-07 
       180   0             -8953.8396     -8953.8396     -7469.7742     -3842.6221     -0.0001724549   50.092067      28.920668      35.307297      2.4982075e-08
       186   0             -8953.8396     -8953.8396     -7469.7742     -3842.622      -1.9952648e-05  50.092067      28.920668      35.307297      9.06574e-09  
Loop time of 0.712413 on 1 procs for 67 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
      -8952.9484908485   -8953.8395719638  -8953.83957196362
  Force two-norm initial, final = 4.0848093 9.06574e-09
  Force max component initial, final = 0.20425445 4.4288116e-10
  Final line search alpha, max atom move = 1 4.4288116e-10
  Iterations, force evaluations = 67 134

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.70179    | 0.70179    | 0.70179    |   0.0 | 98.51
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0021045  | 0.0021045  | 0.0021045  |   0.0 |  0.30
Output  | 0.00042729 | 0.00042729 | 0.00042729 |   0.0 |  0.06
Modify  | 0.0012518  | 0.0012518  | 0.0012518  |   0.0 |  0.18
Other   |            | 0.006844   |            |       |  0.96

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3357 ave        3357 max        3357 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         196600 ave      196600 max      196600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 196600
Ave neighs/atom = 61.4375
Neighbor list builds = 0
Dangerous builds = 0

variable 	Eftwn equal "c_eatoms"
variable 	Eftwnmj equal ${Eftwn}*${Cf}/${A}
variable 	Eftwnmj equal -8953.83957196371*${Cf}/${A}
variable 	Eftwnmj equal -8953.83957196371*1.60217657e-16/${A}
variable 	Eftwnmj equal -8953.83957196371*1.60217657e-16/1.44869605874579e-17
variable 	TFEf equal ${Eftwnmj}-${Efomj}
variable 	TFEf equal -99024.4426160642-${Efomj}
variable 	TFEf equal -99024.4426160642--99119.8984893413

print 		"displacement and TFE = ${Bxt_displace} ${TFEf}" # in SFE in mJ/m^2"
displacement and TFE = 1.36666666666667 95.4558732770965

next 		i
jump		TFE_displacement1.lmpin
#####################################################################################################################
# Course: Theory, Modelling, and Simulation of Microstructures (TMS)
# Tutors: Dr. Arun Prakash
# Description: Input file for Twin Fault Energy (TFE) of your element
# Originally created by Richard Glaze, 2014. Modified by S. Roy, 2018
######################################################################################################################

# --------------------- INITIALIZAITION ---------------------


clear
units		metal
dimension	3
boundary	p p s
atom_style	atomic
variable 	latparam1 equal 4.09000014545435    ### provide the lattice constant from your calculation
variable 	x_displace equal -1*(${latparam1}/sqrt(6))
variable 	x_displace equal -1*(4.09000014545435/sqrt(6))
variable 	xdim equal ${latparam1}*sqrt(6)/2*10
variable 	xdim equal 4.09000014545435*sqrt(6)/2*10
variable 	ydim equal ${latparam1}*sqrt(2)/2*10
variable 	ydim equal 4.09000014545435*sqrt(2)/2*10
variable 	atomjiggle equal 1.0e-5
variable 	Bx_displace equal 1.0

# --------------------- ATOM DEFINITION ---------------------
lattice		fcc ${latparam1}
lattice		fcc 4.09000014545435
Lattice spacing in x,y,z = 4.0900001 4.0900001 4.0900001
region		1 block -.001 ${xdim} -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 28.9206683790474 -.001 16.5 units box
region 		2 block -.001 ${xdim} -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 28.9206683790474 16.5 36.5808 units box
region 		3 block -.001 ${xdim} -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 28.9206683790474 19.5 36.5808 units box
region		whole block 0 ${xdim} 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 28.9206683790474 0 36.5808 units box
#the -.001 in the -x and -y and lower limit of region 1 are only to overcome a simple numerical issue but can be considered 0
create_box 	1 whole
Created orthogonal box = (0 0 0) to (50.092067 28.920668 36.5808)
  1 by 1 by 1 MPI processor grid
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms	1 region 1
Created 1400 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms 	1 region 2
Created 1800 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds

# --------------------- FORCE FIELDS ---------------------
#Provide potential
pair_style      eam/alloy ### --> TYPE OF POTENTIAL (eam (OR) eam/alloy)
pair_coeff      *  *  CuAg.eam.alloy Ag  ### POTENTIAL FILENAME


# --------------------- SETTINGS ---------------------

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.411 | 5.411 | 5.411 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press          Volume    
         0   0             -8963.0005      0             -8963.0005     -5973.3391      51324.051    
        30   0             -8964.0763      0             -8964.0763     -3443.7334      51324.051    
Loop time of 0.298384 on 1 procs for 30 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -8963.00049826424  -8964.07633391507  -8964.07633391507
  Force two-norm initial, final = 3.47643 4.9599618e-07
  Force max component initial, final = 0.12627393 1.6676942e-08
  Final line search alpha, max atom move = 0.5 8.3384712e-09
  Iterations, force evaluations = 30 60

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.29381    | 0.29381    | 0.29381    |   0.0 | 98.47
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00098651 | 0.00098651 | 0.00098651 |   0.0 |  0.33
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0.00056566 | 0.00056566 | 0.00056566 |   0.0 |  0.19
Other   |            | 0.003026   |            |       |  1.01

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0

compute 	peratom all pe/atom
compute 	eatoms all reduce sum c_peratom
compute 	csym all centro/atom fcc
thermo 		10
thermo_style 	custom step temp pe c_eatoms pxx pyy pzz lx ly lz fnorm
#dump 		1 all custom 1 dump.relax.1.* id type xs ys zs c_peratom c_csym
run 0
WARNING: No fixes with time integration, atoms won't move (../verlet.cpp:60)
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 9
  2 neighbor lists, perpetual/occasional/extra = 1 1 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
  (2) compute centro/atom, occasional
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.042 | 5.042 | 5.042 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8964.0763     -8964.0763     -5177.9056     -5177.9056     -0.0070721536   50.092067      28.920668      35.343537      4.9599618e-07
Loop time of 9.27e-07 on 1 procs for 0 steps with 3200 atoms

215.7% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0          | 0          | 0          |   0.0 |  0.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0          | 0          | 0          |   0.0 |  0.00
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 9.27e-07   |            |       |100.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0
#this command creates a model of the script before the displacement and minimization occur
variable 	E equal "c_eatoms"
variable 	Eo equal $E
variable 	Eo equal -8964.07633391985
#variable 	E equal "c_eatoms" computes the initial energy of the model before any sliding is done
#E is necessary to store the initial energy in Eo

group 		bot region 1
1400 atoms in group bot
group 		top region 2
1800 atoms in group top
group 		top2 region 3
1400 atoms in group top2

displace_atoms 	top move ${x_displace} 0.0 0.0 units box
displace_atoms 	top move -1.66973556737869 0.0 0.0 units box
Displacing atoms ...

#displace_atoms is the command neccessary to move atoms into the next stacking arrangement (ie: A -> B)

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8962.3211     -8962.3211     -5591.7202     -5591.7202     -1576.99        50.092067      28.920668      35.343537      0.73964576   
        40   0             -8962.4682     -8962.4682     -4916.0068     -4916.0068     -147.92622      50.092067      28.920668      35.343537      0.079250389  
        50   0             -8962.4707     -8962.4707     -4849.2612     -4849.2612      2.0166763      50.092067      28.920668      35.343537      0.00021490913
        60   0             -8962.4707     -8962.4707     -4850.1594     -4850.1594      0.0068087804   50.092067      28.920668      35.343537      8.3903308e-06
        70   0             -8962.4707     -8962.4707     -4850.1627     -4850.1627     -0.0011681215   50.092067      28.920668      35.343537      1.9069354e-07
        76   0             -8962.4707     -8962.4707     -4850.1622     -4850.1622      1.4367245e-06  50.092067      28.920668      35.343537      8.8399799e-09
Loop time of 0.475701 on 1 procs for 46 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.32106258411  -8962.47074017725   -8962.4707401783
  Force two-norm initial, final = 0.73964576 8.8399799e-09
  Force max component initial, final = 0.026316509 2.9932082e-10
  Final line search alpha, max atom move = 1 2.9932082e-10
  Iterations, force evaluations = 46 92

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.4683     | 0.4683     | 0.4683     |   0.0 | 98.44
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0014781  | 0.0014781  | 0.0014781  |   0.0 |  0.31
Output  | 0.0002353  | 0.0002353  | 0.0002353  |   0.0 |  0.05
Modify  | 0.0008641  | 0.0008641  | 0.0008641  |   0.0 |  0.18
Other   |            | 0.004826   |            |       |  1.01

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

displace_atoms 	all random ${atomjiggle} ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 1e-05 87287 units box
Displacing atoms ...
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        76   0             -8962.4707     -8962.4707     -4855.1497     -4855.1298     -0.00096622144  50.092067      28.920668      35.307298      0.0018569171 
        80   0             -8962.4707     -8962.4707     -4855.1555     -4855.1356     -0.011779125    50.092067      28.920668      35.307298      6.5723427e-05
        90   0             -8962.4707     -8962.4707     -4855.1531     -4855.1332     -0.0063900344   50.092067      28.920668      35.307298      5.3695965e-06
       100   0             -8962.4707     -8962.4707     -4855.1507     -4855.1309     -0.0011512521   50.092067      28.920668      35.307298      5.7223554e-07
       110   0             -8962.4707     -8962.4707     -4855.1503     -4855.1304     -0.00012465594  50.092067      28.920668      35.307298      9.0409633e-08
       119   0             -8962.4707     -8962.4707     -4855.1502     -4855.1304     -6.5769993e-06  50.092067      28.920668      35.307298      8.8373301e-09
Loop time of 0.459112 on 1 procs for 43 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.47073941504  -8962.47073971322  -8962.47073971329
  Force two-norm initial, final = 0.0018569171 8.8373301e-09
  Force max component initial, final = 9.7625584e-05 5.3059648e-10
  Final line search alpha, max atom move = 1 5.3059648e-10
  Iterations, force evaluations = 43 86

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.4522     | 0.4522     | 0.4522     |   0.0 | 98.49
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0013978  | 0.0013978  | 0.0013978  |   0.0 |  0.30
Output  | 0.00023307 | 0.00023307 | 0.00023307 |   0.0 |  0.05
Modify  | 0.00081894 | 0.00081894 | 0.00081894 |   0.0 |  0.18
Other   |            | 0.004467   |            |       |  0.97

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Ef equal "c_eatoms"
variable 	Efo equal $Ef
variable 	Efo equal -8962.47073971326f
variable	Cf equal 1.60217657e-16
variable 	A equal (${xdim}*${ydim})*1e-20
variable 	A equal (50.0920670213607*${ydim})*1e-20
variable 	A equal (50.0920670213607*28.9206683790474)*1e-20
variable 	SFE equal ((${Ef}-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/1.44869605874579e-17
variable 	Efomj equal ${Ef}*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/1.44869605874579e-17

####################################
print "Initial energy of atoms = ${Eo} eV"
Initial energy of atoms = -8964.07633391985 eV
print "Initial energy before twinning Efo = ${Ef} $Efomj" # in SFE in mJ/m^2"
Initial energy before twinning Efo = -8962.47073971326 -8962.47073971326fomj

#----------- for twin fault energy -----------------------
variable	Ndiscrt equal 30
variable    	i loop ${Ndiscrt}
variable    	i loop 30
label       	loop

variable 	xt_displace equal -1*(${latparam1}/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*12/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*12/30)
variable 	Bxt_displace equal 1.0+${i}/${Ndiscrt}
variable 	Bxt_displace equal 1.0+12/${Ndiscrt}
variable 	Bxt_displace equal 1.0+12/30

displace_atoms 	top2 move ${xt_displace} 0.0 0.0 units box
displace_atoms 	top2 move -0.667894226951476 0.0 0.0 units box
Displacing atoms ...

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
       119   0             -8952.1266     -8952.1266     -7156.8489     -2298.7453      3034.6492      50.092067      28.920668      35.307297      4.5025114    
       120   0             -8952.8817     -8952.8817     -6548.2697     -2898.1236      2090.0741      50.092067      28.920668      35.307297      1.7893463    
       130   0             -8953.1678     -8953.1678     -7318.0353     -3670.5934      375.61417      50.092067      28.920668      35.307297      0.15298224   
       140   0             -8953.1753     -8953.1753     -7477.6707     -3833.2325      12.1139        50.092067      28.920668      35.307297      0.00099007636
       150   0             -8953.1753     -8953.1753     -7482.8591     -3838.7331      0.050151399    50.092067      28.920668      35.307297      4.8392949e-05
       160   0             -8953.1753     -8953.1753     -7482.8759     -3838.758       9.5180123e-05  50.092067      28.920668      35.307297      1.2119491e-06
       170   0             -8953.1753     -8953.1753     -7482.876      -3838.7583     -0.0005881148   50.092067      28.920668      35.307297      5.2747318e-07
       180   0             -8953.1753     -8953.1753     -7482.8759     -3838.7582     -0.00022762377  50.092067      28.920668      35.307297      3.4390957e-08
       187   0             -8953.1753     -8953.1753     -7482.8758     -3838.7581     -1.223305e-05   50.092067      28.920668      35.307297      7.4071169e-09
Loop time of 0.719288 on 1 procs for 68 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8952.12657805867  -8953.17527331713   -8953.1752733171
  Force two-norm initial, final = 4.5025114 7.4071169e-09
  Force max component initial, final = 0.22512959 5.2274478e-10
  Final line search alpha, max atom move = 1 5.2274478e-10
  Iterations, force evaluations = 68 136

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.70831    | 0.70831    | 0.70831    |   0.0 | 98.47
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0022045  | 0.0022045  | 0.0022045  |   0.0 |  0.31
Output  | 0.00041162 | 0.00041162 | 0.00041162 |   0.0 |  0.06
Modify  | 0.0012897  | 0.0012897  | 0.0012897  |   0.0 |  0.18
Other   |            | 0.007073   |            |       |  0.98

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3357 ave        3357 max        3357 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         196600 ave      196600 max      196600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 196600
Ave neighs/atom = 61.4375
Neighbor list builds = 0
Dangerous builds = 0

variable 	Eftwn equal "c_eatoms"
variable 	Eftwnmj equal ${Eftwn}*${Cf}/${A}
variable 	Eftwnmj equal -8953.17527331721*${Cf}/${A}
variable 	Eftwnmj equal -8953.17527331721*1.60217657e-16/${A}
variable 	Eftwnmj equal -8953.17527331721*1.60217657e-16/1.44869605874579e-17
variable 	TFEf equal ${Eftwnmj}-${Efomj}
variable 	TFEf equal -99017.0958457014-${Efomj}
variable 	TFEf equal -99017.0958457014--99119.8984893413

print 		"displacement and TFE = ${Bxt_displace} ${TFEf}" # in SFE in mJ/m^2"
displacement and TFE = 1.4 102.802643639894

next 		i
jump		TFE_displacement1.lmpin
#####################################################################################################################
# Course: Theory, Modelling, and Simulation of Microstructures (TMS)
# Tutors: Dr. Arun Prakash
# Description: Input file for Twin Fault Energy (TFE) of your element
# Originally created by Richard Glaze, 2014. Modified by S. Roy, 2018
######################################################################################################################

# --------------------- INITIALIZAITION ---------------------


clear
units		metal
dimension	3
boundary	p p s
atom_style	atomic
variable 	latparam1 equal 4.09000014545435    ### provide the lattice constant from your calculation
variable 	x_displace equal -1*(${latparam1}/sqrt(6))
variable 	x_displace equal -1*(4.09000014545435/sqrt(6))
variable 	xdim equal ${latparam1}*sqrt(6)/2*10
variable 	xdim equal 4.09000014545435*sqrt(6)/2*10
variable 	ydim equal ${latparam1}*sqrt(2)/2*10
variable 	ydim equal 4.09000014545435*sqrt(2)/2*10
variable 	atomjiggle equal 1.0e-5
variable 	Bx_displace equal 1.0

# --------------------- ATOM DEFINITION ---------------------
lattice		fcc ${latparam1}
lattice		fcc 4.09000014545435
Lattice spacing in x,y,z = 4.0900001 4.0900001 4.0900001
region		1 block -.001 ${xdim} -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 28.9206683790474 -.001 16.5 units box
region 		2 block -.001 ${xdim} -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 28.9206683790474 16.5 36.5808 units box
region 		3 block -.001 ${xdim} -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 28.9206683790474 19.5 36.5808 units box
region		whole block 0 ${xdim} 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 28.9206683790474 0 36.5808 units box
#the -.001 in the -x and -y and lower limit of region 1 are only to overcome a simple numerical issue but can be considered 0
create_box 	1 whole
Created orthogonal box = (0 0 0) to (50.092067 28.920668 36.5808)
  1 by 1 by 1 MPI processor grid
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms	1 region 1
Created 1400 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms 	1 region 2
Created 1800 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds

# --------------------- FORCE FIELDS ---------------------
#Provide potential
pair_style      eam/alloy ### --> TYPE OF POTENTIAL (eam (OR) eam/alloy)
pair_coeff      *  *  CuAg.eam.alloy Ag  ### POTENTIAL FILENAME


# --------------------- SETTINGS ---------------------

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.411 | 5.411 | 5.411 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press          Volume    
         0   0             -8963.0005      0             -8963.0005     -5973.3391      51324.051    
        30   0             -8964.0763      0             -8964.0763     -3443.7334      51324.051    
Loop time of 0.298621 on 1 procs for 30 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -8963.00049826424  -8964.07633391507  -8964.07633391507
  Force two-norm initial, final = 3.47643 4.9599618e-07
  Force max component initial, final = 0.12627393 1.6676942e-08
  Final line search alpha, max atom move = 0.5 8.3384712e-09
  Iterations, force evaluations = 30 60

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.29409    | 0.29409    | 0.29409    |   0.0 | 98.48
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00095349 | 0.00095349 | 0.00095349 |   0.0 |  0.32
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0.00056825 | 0.00056825 | 0.00056825 |   0.0 |  0.19
Other   |            | 0.003005   |            |       |  1.01

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0

compute 	peratom all pe/atom
compute 	eatoms all reduce sum c_peratom
compute 	csym all centro/atom fcc
thermo 		10
thermo_style 	custom step temp pe c_eatoms pxx pyy pzz lx ly lz fnorm
#dump 		1 all custom 1 dump.relax.1.* id type xs ys zs c_peratom c_csym
run 0
WARNING: No fixes with time integration, atoms won't move (../verlet.cpp:60)
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 9
  2 neighbor lists, perpetual/occasional/extra = 1 1 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
  (2) compute centro/atom, occasional
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.042 | 5.042 | 5.042 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8964.0763     -8964.0763     -5177.9056     -5177.9056     -0.0070721536   50.092067      28.920668      35.343537      4.9599618e-07
Loop time of 9.7e-07 on 1 procs for 0 steps with 3200 atoms

206.2% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0          | 0          | 0          |   0.0 |  0.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0          | 0          | 0          |   0.0 |  0.00
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 9.7e-07    |            |       |100.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0
#this command creates a model of the script before the displacement and minimization occur
variable 	E equal "c_eatoms"
variable 	Eo equal $E
variable 	Eo equal -8964.07633391985
#variable 	E equal "c_eatoms" computes the initial energy of the model before any sliding is done
#E is necessary to store the initial energy in Eo

group 		bot region 1
1400 atoms in group bot
group 		top region 2
1800 atoms in group top
group 		top2 region 3
1400 atoms in group top2

displace_atoms 	top move ${x_displace} 0.0 0.0 units box
displace_atoms 	top move -1.66973556737869 0.0 0.0 units box
Displacing atoms ...

#displace_atoms is the command neccessary to move atoms into the next stacking arrangement (ie: A -> B)

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8962.3211     -8962.3211     -5591.7202     -5591.7202     -1576.99        50.092067      28.920668      35.343537      0.73964576   
        40   0             -8962.4682     -8962.4682     -4916.0068     -4916.0068     -147.92622      50.092067      28.920668      35.343537      0.079250389  
        50   0             -8962.4707     -8962.4707     -4849.2612     -4849.2612      2.0166763      50.092067      28.920668      35.343537      0.00021490913
        60   0             -8962.4707     -8962.4707     -4850.1594     -4850.1594      0.0068087804   50.092067      28.920668      35.343537      8.3903308e-06
        70   0             -8962.4707     -8962.4707     -4850.1627     -4850.1627     -0.0011681215   50.092067      28.920668      35.343537      1.9069354e-07
        76   0             -8962.4707     -8962.4707     -4850.1622     -4850.1622      1.4367245e-06  50.092067      28.920668      35.343537      8.8399799e-09
Loop time of 0.473488 on 1 procs for 46 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.32106258411  -8962.47074017725   -8962.4707401783
  Force two-norm initial, final = 0.73964576 8.8399799e-09
  Force max component initial, final = 0.026316509 2.9932082e-10
  Final line search alpha, max atom move = 1 2.9932082e-10
  Iterations, force evaluations = 46 92

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.4662     | 0.4662     | 0.4662     |   0.0 | 98.46
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0014312  | 0.0014312  | 0.0014312  |   0.0 |  0.30
Output  | 0.00023154 | 0.00023154 | 0.00023154 |   0.0 |  0.05
Modify  | 0.00086518 | 0.00086518 | 0.00086518 |   0.0 |  0.18
Other   |            | 0.004765   |            |       |  1.01

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

displace_atoms 	all random ${atomjiggle} ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 1e-05 87287 units box
Displacing atoms ...
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        76   0             -8962.4707     -8962.4707     -4855.1497     -4855.1298     -0.00096622144  50.092067      28.920668      35.307298      0.0018569171 
        80   0             -8962.4707     -8962.4707     -4855.1555     -4855.1356     -0.011779125    50.092067      28.920668      35.307298      6.5723427e-05
        90   0             -8962.4707     -8962.4707     -4855.1531     -4855.1332     -0.0063900344   50.092067      28.920668      35.307298      5.3695965e-06
       100   0             -8962.4707     -8962.4707     -4855.1507     -4855.1309     -0.0011512521   50.092067      28.920668      35.307298      5.7223554e-07
       110   0             -8962.4707     -8962.4707     -4855.1503     -4855.1304     -0.00012465594  50.092067      28.920668      35.307298      9.0409633e-08
       119   0             -8962.4707     -8962.4707     -4855.1502     -4855.1304     -6.5769993e-06  50.092067      28.920668      35.307298      8.8373301e-09
Loop time of 0.455452 on 1 procs for 43 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.47073941504  -8962.47073971322  -8962.47073971329
  Force two-norm initial, final = 0.0018569171 8.8373301e-09
  Force max component initial, final = 9.7625584e-05 5.3059648e-10
  Final line search alpha, max atom move = 1 5.3059648e-10
  Iterations, force evaluations = 43 86

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.44858    | 0.44858    | 0.44858    |   0.0 | 98.49
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0013729  | 0.0013729  | 0.0013729  |   0.0 |  0.30
Output  | 0.00023084 | 0.00023084 | 0.00023084 |   0.0 |  0.05
Modify  | 0.00080783 | 0.00080783 | 0.00080783 |   0.0 |  0.18
Other   |            | 0.004458   |            |       |  0.98

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Ef equal "c_eatoms"
variable 	Efo equal $Ef
variable 	Efo equal -8962.47073971326f
variable	Cf equal 1.60217657e-16
variable 	A equal (${xdim}*${ydim})*1e-20
variable 	A equal (50.0920670213607*${ydim})*1e-20
variable 	A equal (50.0920670213607*28.9206683790474)*1e-20
variable 	SFE equal ((${Ef}-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/1.44869605874579e-17
variable 	Efomj equal ${Ef}*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/1.44869605874579e-17

####################################
print "Initial energy of atoms = ${Eo} eV"
Initial energy of atoms = -8964.07633391985 eV
print "Initial energy before twinning Efo = ${Ef} $Efomj" # in SFE in mJ/m^2"
Initial energy before twinning Efo = -8962.47073971326 -8962.47073971326fomj

#----------- for twin fault energy -----------------------
variable	Ndiscrt equal 30
variable    	i loop ${Ndiscrt}
variable    	i loop 30
label       	loop

variable 	xt_displace equal -1*(${latparam1}/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*13/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*13/30)
variable 	Bxt_displace equal 1.0+${i}/${Ndiscrt}
variable 	Bxt_displace equal 1.0+13/${Ndiscrt}
variable 	Bxt_displace equal 1.0+13/30

displace_atoms 	top2 move ${xt_displace} 0.0 0.0 units box
displace_atoms 	top2 move -0.723552079197432 0.0 0.0 units box
Displacing atoms ...

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
       119   0             -8951.4899     -8951.4899     -7153.1409     -2197.2058      3236.8726      50.092067      28.920668      35.307297      4.8196104    
       120   0             -8952.338      -8952.338      -6481.5731     -2852.878       2188.1313      50.092067      28.920668      35.307297      1.9040266    
       130   0             -8952.6556     -8952.6556     -7285.7322     -3654.4859      406.87091      50.092067      28.920668      35.307297      0.16178774   
       140   0             -8952.6639     -8952.6639     -7458.3595     -3830.3544      13.981366      50.092067      28.920668      35.307297      0.0011475415 
       150   0             -8952.6639     -8952.6639     -7464.3352     -3836.7007      0.065540536    50.092067      28.920668      35.307297      5.7851291e-05
       160   0             -8952.6639     -8952.6639     -7464.3567     -3836.733       0.00020101421  50.092067      28.920668      35.307297      1.3490021e-06
       170   0             -8952.6639     -8952.6639     -7464.3569     -3836.7335     -0.00073086978  50.092067      28.920668      35.307297      4.4295627e-07
       180   0             -8952.6639     -8952.6639     -7464.3567     -3836.7333     -0.00023962807  50.092067      28.920668      35.307297      4.7563944e-08
       187   0             -8952.6639     -8952.6639     -7464.3566     -3836.7332     -1.2881888e-05  50.092067      28.920668      35.307297      7.8711713e-09
Loop time of 0.728217 on 1 procs for 68 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
      -8951.4898740747  -8952.66389931346  -8952.66389931343
  Force two-norm initial, final = 4.8196104 7.8711713e-09
  Force max component initial, final = 0.24097065 4.8913227e-10
  Final line search alpha, max atom move = 1 4.8913227e-10
  Iterations, force evaluations = 68 136

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.71729    | 0.71729    | 0.71729    |   0.0 | 98.50
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.002179   | 0.002179   | 0.002179   |   0.0 |  0.30
Output  | 0.00043582 | 0.00043582 | 0.00043582 |   0.0 |  0.06
Modify  | 0.0012814  | 0.0012814  | 0.0012814  |   0.0 |  0.18
Other   |            | 0.007029   |            |       |  0.97

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3357 ave        3357 max        3357 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         196800 ave      196800 max      196800 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 196800
Ave neighs/atom = 61.5
Neighbor list builds = 0
Dangerous builds = 0

variable 	Eftwn equal "c_eatoms"
variable 	Eftwnmj equal ${Eftwn}*${Cf}/${A}
variable 	Eftwnmj equal -8952.66389931356*${Cf}/${A}
variable 	Eftwnmj equal -8952.66389931356*1.60217657e-16/${A}
variable 	Eftwnmj equal -8952.66389931356*1.60217657e-16/1.44869605874579e-17
variable 	TFEf equal ${Eftwnmj}-${Efomj}
variable 	TFEf equal -99011.4403360988-${Efomj}
variable 	TFEf equal -99011.4403360988--99119.8984893413

print 		"displacement and TFE = ${Bxt_displace} ${TFEf}" # in SFE in mJ/m^2"
displacement and TFE = 1.43333333333333 108.458153242493

next 		i
jump		TFE_displacement1.lmpin
#####################################################################################################################
# Course: Theory, Modelling, and Simulation of Microstructures (TMS)
# Tutors: Dr. Arun Prakash
# Description: Input file for Twin Fault Energy (TFE) of your element
# Originally created by Richard Glaze, 2014. Modified by S. Roy, 2018
######################################################################################################################

# --------------------- INITIALIZAITION ---------------------


clear
units		metal
dimension	3
boundary	p p s
atom_style	atomic
variable 	latparam1 equal 4.09000014545435    ### provide the lattice constant from your calculation
variable 	x_displace equal -1*(${latparam1}/sqrt(6))
variable 	x_displace equal -1*(4.09000014545435/sqrt(6))
variable 	xdim equal ${latparam1}*sqrt(6)/2*10
variable 	xdim equal 4.09000014545435*sqrt(6)/2*10
variable 	ydim equal ${latparam1}*sqrt(2)/2*10
variable 	ydim equal 4.09000014545435*sqrt(2)/2*10
variable 	atomjiggle equal 1.0e-5
variable 	Bx_displace equal 1.0

# --------------------- ATOM DEFINITION ---------------------
lattice		fcc ${latparam1}
lattice		fcc 4.09000014545435
Lattice spacing in x,y,z = 4.0900001 4.0900001 4.0900001
region		1 block -.001 ${xdim} -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 28.9206683790474 -.001 16.5 units box
region 		2 block -.001 ${xdim} -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 28.9206683790474 16.5 36.5808 units box
region 		3 block -.001 ${xdim} -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 28.9206683790474 19.5 36.5808 units box
region		whole block 0 ${xdim} 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 28.9206683790474 0 36.5808 units box
#the -.001 in the -x and -y and lower limit of region 1 are only to overcome a simple numerical issue but can be considered 0
create_box 	1 whole
Created orthogonal box = (0 0 0) to (50.092067 28.920668 36.5808)
  1 by 1 by 1 MPI processor grid
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms	1 region 1
Created 1400 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms 	1 region 2
Created 1800 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds

# --------------------- FORCE FIELDS ---------------------
#Provide potential
pair_style      eam/alloy ### --> TYPE OF POTENTIAL (eam (OR) eam/alloy)
pair_coeff      *  *  CuAg.eam.alloy Ag  ### POTENTIAL FILENAME


# --------------------- SETTINGS ---------------------

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.411 | 5.411 | 5.411 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press          Volume    
         0   0             -8963.0005      0             -8963.0005     -5973.3391      51324.051    
        30   0             -8964.0763      0             -8964.0763     -3443.7334      51324.051    
Loop time of 0.298424 on 1 procs for 30 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -8963.00049826424  -8964.07633391507  -8964.07633391507
  Force two-norm initial, final = 3.47643 4.9599618e-07
  Force max component initial, final = 0.12627393 1.6676942e-08
  Final line search alpha, max atom move = 0.5 8.3384712e-09
  Iterations, force evaluations = 30 60

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.29392    | 0.29392    | 0.29392    |   0.0 | 98.49
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00093643 | 0.00093643 | 0.00093643 |   0.0 |  0.31
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0.0005637  | 0.0005637  | 0.0005637  |   0.0 |  0.19
Other   |            | 0.003009   |            |       |  1.01

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0

compute 	peratom all pe/atom
compute 	eatoms all reduce sum c_peratom
compute 	csym all centro/atom fcc
thermo 		10
thermo_style 	custom step temp pe c_eatoms pxx pyy pzz lx ly lz fnorm
#dump 		1 all custom 1 dump.relax.1.* id type xs ys zs c_peratom c_csym
run 0
WARNING: No fixes with time integration, atoms won't move (../verlet.cpp:60)
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 9
  2 neighbor lists, perpetual/occasional/extra = 1 1 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
  (2) compute centro/atom, occasional
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.042 | 5.042 | 5.042 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8964.0763     -8964.0763     -5177.9056     -5177.9056     -0.0070721536   50.092067      28.920668      35.343537      4.9599618e-07
Loop time of 9.03e-07 on 1 procs for 0 steps with 3200 atoms

221.5% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0          | 0          | 0          |   0.0 |  0.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0          | 0          | 0          |   0.0 |  0.00
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 9.03e-07   |            |       |100.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0
#this command creates a model of the script before the displacement and minimization occur
variable 	E equal "c_eatoms"
variable 	Eo equal $E
variable 	Eo equal -8964.07633391985
#variable 	E equal "c_eatoms" computes the initial energy of the model before any sliding is done
#E is necessary to store the initial energy in Eo

group 		bot region 1
1400 atoms in group bot
group 		top region 2
1800 atoms in group top
group 		top2 region 3
1400 atoms in group top2

displace_atoms 	top move ${x_displace} 0.0 0.0 units box
displace_atoms 	top move -1.66973556737869 0.0 0.0 units box
Displacing atoms ...

#displace_atoms is the command neccessary to move atoms into the next stacking arrangement (ie: A -> B)

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8962.3211     -8962.3211     -5591.7202     -5591.7202     -1576.99        50.092067      28.920668      35.343537      0.73964576   
        40   0             -8962.4682     -8962.4682     -4916.0068     -4916.0068     -147.92622      50.092067      28.920668      35.343537      0.079250389  
        50   0             -8962.4707     -8962.4707     -4849.2612     -4849.2612      2.0166763      50.092067      28.920668      35.343537      0.00021490913
        60   0             -8962.4707     -8962.4707     -4850.1594     -4850.1594      0.0068087804   50.092067      28.920668      35.343537      8.3903308e-06
        70   0             -8962.4707     -8962.4707     -4850.1627     -4850.1627     -0.0011681215   50.092067      28.920668      35.343537      1.9069354e-07
        76   0             -8962.4707     -8962.4707     -4850.1622     -4850.1622      1.4367245e-06  50.092067      28.920668      35.343537      8.8399799e-09
Loop time of 0.471287 on 1 procs for 46 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.32106258411  -8962.47074017725   -8962.4707401783
  Force two-norm initial, final = 0.73964576 8.8399799e-09
  Force max component initial, final = 0.026316509 2.9932082e-10
  Final line search alpha, max atom move = 1 2.9932082e-10
  Iterations, force evaluations = 46 92

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.46399    | 0.46399    | 0.46399    |   0.0 | 98.45
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0014309  | 0.0014309  | 0.0014309  |   0.0 |  0.30
Output  | 0.00023214 | 0.00023214 | 0.00023214 |   0.0 |  0.05
Modify  | 0.00086334 | 0.00086334 | 0.00086334 |   0.0 |  0.18
Other   |            | 0.004767   |            |       |  1.01

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

displace_atoms 	all random ${atomjiggle} ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 1e-05 87287 units box
Displacing atoms ...
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        76   0             -8962.4707     -8962.4707     -4855.1497     -4855.1298     -0.00096622144  50.092067      28.920668      35.307298      0.0018569171 
        80   0             -8962.4707     -8962.4707     -4855.1555     -4855.1356     -0.011779125    50.092067      28.920668      35.307298      6.5723427e-05
        90   0             -8962.4707     -8962.4707     -4855.1531     -4855.1332     -0.0063900344   50.092067      28.920668      35.307298      5.3695965e-06
       100   0             -8962.4707     -8962.4707     -4855.1507     -4855.1309     -0.0011512521   50.092067      28.920668      35.307298      5.7223554e-07
       110   0             -8962.4707     -8962.4707     -4855.1503     -4855.1304     -0.00012465594  50.092067      28.920668      35.307298      9.0409633e-08
       119   0             -8962.4707     -8962.4707     -4855.1502     -4855.1304     -6.5769993e-06  50.092067      28.920668      35.307298      8.8373301e-09
Loop time of 0.454514 on 1 procs for 43 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.47073941504  -8962.47073971322  -8962.47073971329
  Force two-norm initial, final = 0.0018569171 8.8373301e-09
  Force max component initial, final = 9.7625584e-05 5.3059648e-10
  Final line search alpha, max atom move = 1 5.3059648e-10
  Iterations, force evaluations = 43 86

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.44767    | 0.44767    | 0.44767    |   0.0 | 98.49
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0013294  | 0.0013294  | 0.0013294  |   0.0 |  0.29
Output  | 0.00023305 | 0.00023305 | 0.00023305 |   0.0 |  0.05
Modify  | 0.00082097 | 0.00082097 | 0.00082097 |   0.0 |  0.18
Other   |            | 0.004457   |            |       |  0.98

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Ef equal "c_eatoms"
variable 	Efo equal $Ef
variable 	Efo equal -8962.47073971326f
variable	Cf equal 1.60217657e-16
variable 	A equal (${xdim}*${ydim})*1e-20
variable 	A equal (50.0920670213607*${ydim})*1e-20
variable 	A equal (50.0920670213607*28.9206683790474)*1e-20
variable 	SFE equal ((${Ef}-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/1.44869605874579e-17
variable 	Efomj equal ${Ef}*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/1.44869605874579e-17

####################################
print "Initial energy of atoms = ${Eo} eV"
Initial energy of atoms = -8964.07633391985 eV
print "Initial energy before twinning Efo = ${Ef} $Efomj" # in SFE in mJ/m^2"
Initial energy before twinning Efo = -8962.47073971326 -8962.47073971326fomj

#----------- for twin fault energy -----------------------
variable	Ndiscrt equal 30
variable    	i loop ${Ndiscrt}
variable    	i loop 30
label       	loop

variable 	xt_displace equal -1*(${latparam1}/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*14/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*14/30)
variable 	Bxt_displace equal 1.0+${i}/${Ndiscrt}
variable 	Bxt_displace equal 1.0+14/${Ndiscrt}
variable 	Bxt_displace equal 1.0+14/30

displace_atoms 	top2 move ${xt_displace} 0.0 0.0 units box
displace_atoms 	top2 move -0.779209931443388 0.0 0.0 units box
Displacing atoms ...

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
       119   0             -8951.0655     -8951.0655     -7139.9113     -2139.6824      3349.1185      50.092067      28.920668      35.307297      5.0146817    
       120   0             -8951.9729     -8951.9729     -6431.3033     -2830.1963      2234.7245      50.092067      28.920668      35.307297      1.9683266    
       130   0             -8952.3078     -8952.3078     -7251.7541     -3644.2283      424.48219      50.092067      28.920668      35.307297      0.16672833   
       140   0             -8952.3166     -8952.3166     -7431.8162     -3827.5019      15.078907      50.092067      28.920668      35.307297      0.0012458155 
       150   0             -8952.3166     -8952.3166     -7438.2518     -3834.3456      0.076012272    50.092067      28.920668      35.307297      6.3628469e-05
       160   0             -8952.3166     -8952.3166     -7438.2762     -3834.3829      0.00038156286  50.092067      28.920668      35.307297      1.4228818e-06
       170   0             -8952.3166     -8952.3166     -7438.2765     -3834.3835     -0.00074908494  50.092067      28.920668      35.307297      4.4705889e-07
       180   0             -8952.3166     -8952.3166     -7438.2763     -3834.3833     -0.0002335637   50.092067      28.920668      35.307297      5.1954022e-08
       187   0             -8952.3166     -8952.3166     -7438.2762     -3834.3832     -1.4298956e-05  50.092067      28.920668      35.307297      8.0176565e-09
Loop time of 0.718666 on 1 procs for 68 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8951.06554273213  -8952.31657741226  -8952.31657741221
  Force two-norm initial, final = 5.0146817 8.0176565e-09
  Force max component initial, final = 0.25070588 5.5170528e-10
  Final line search alpha, max atom move = 1 5.5170528e-10
  Iterations, force evaluations = 68 136

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.70797    | 0.70797    | 0.70797    |   0.0 | 98.51
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0021047  | 0.0021047  | 0.0021047  |   0.0 |  0.29
Output  | 0.00041164 | 0.00041164 | 0.00041164 |   0.0 |  0.06
Modify  | 0.0012694  | 0.0012694  | 0.0012694  |   0.0 |  0.18
Other   |            | 0.006908   |            |       |  0.96

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3357 ave        3357 max        3357 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         196400 ave      196400 max      196400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 196400
Ave neighs/atom = 61.375
Neighbor list builds = 0
Dangerous builds = 0

variable 	Eftwn equal "c_eatoms"
variable 	Eftwnmj equal ${Eftwn}*${Cf}/${A}
variable 	Eftwnmj equal -8952.31657741236*${Cf}/${A}
variable 	Eftwnmj equal -8952.31657741236*1.60217657e-16/${A}
variable 	Eftwnmj equal -8952.31657741236*1.60217657e-16/1.44869605874579e-17
variable 	TFEf equal ${Eftwnmj}-${Efomj}
variable 	TFEf equal -99007.599150717-${Efomj}
variable 	TFEf equal -99007.599150717--99119.8984893413

print 		"displacement and TFE = ${Bxt_displace} ${TFEf}" # in SFE in mJ/m^2"
displacement and TFE = 1.46666666666667 112.299338624303

next 		i
jump		TFE_displacement1.lmpin
#####################################################################################################################
# Course: Theory, Modelling, and Simulation of Microstructures (TMS)
# Tutors: Dr. Arun Prakash
# Description: Input file for Twin Fault Energy (TFE) of your element
# Originally created by Richard Glaze, 2014. Modified by S. Roy, 2018
######################################################################################################################

# --------------------- INITIALIZAITION ---------------------


clear
units		metal
dimension	3
boundary	p p s
atom_style	atomic
variable 	latparam1 equal 4.09000014545435    ### provide the lattice constant from your calculation
variable 	x_displace equal -1*(${latparam1}/sqrt(6))
variable 	x_displace equal -1*(4.09000014545435/sqrt(6))
variable 	xdim equal ${latparam1}*sqrt(6)/2*10
variable 	xdim equal 4.09000014545435*sqrt(6)/2*10
variable 	ydim equal ${latparam1}*sqrt(2)/2*10
variable 	ydim equal 4.09000014545435*sqrt(2)/2*10
variable 	atomjiggle equal 1.0e-5
variable 	Bx_displace equal 1.0

# --------------------- ATOM DEFINITION ---------------------
lattice		fcc ${latparam1}
lattice		fcc 4.09000014545435
Lattice spacing in x,y,z = 4.0900001 4.0900001 4.0900001
region		1 block -.001 ${xdim} -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 28.9206683790474 -.001 16.5 units box
region 		2 block -.001 ${xdim} -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 28.9206683790474 16.5 36.5808 units box
region 		3 block -.001 ${xdim} -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 28.9206683790474 19.5 36.5808 units box
region		whole block 0 ${xdim} 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 28.9206683790474 0 36.5808 units box
#the -.001 in the -x and -y and lower limit of region 1 are only to overcome a simple numerical issue but can be considered 0
create_box 	1 whole
Created orthogonal box = (0 0 0) to (50.092067 28.920668 36.5808)
  1 by 1 by 1 MPI processor grid
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms	1 region 1
Created 1400 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms 	1 region 2
Created 1800 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds

# --------------------- FORCE FIELDS ---------------------
#Provide potential
pair_style      eam/alloy ### --> TYPE OF POTENTIAL (eam (OR) eam/alloy)
pair_coeff      *  *  CuAg.eam.alloy Ag  ### POTENTIAL FILENAME


# --------------------- SETTINGS ---------------------

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.411 | 5.411 | 5.411 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press          Volume    
         0   0             -8963.0005      0             -8963.0005     -5973.3391      51324.051    
        30   0             -8964.0763      0             -8964.0763     -3443.7334      51324.051    
Loop time of 0.298668 on 1 procs for 30 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -8963.00049826424  -8964.07633391507  -8964.07633391507
  Force two-norm initial, final = 3.47643 4.9599618e-07
  Force max component initial, final = 0.12627393 1.6676942e-08
  Final line search alpha, max atom move = 0.5 8.3384712e-09
  Iterations, force evaluations = 30 60

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.2942     | 0.2942     | 0.2942     |   0.0 | 98.50
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00092216 | 0.00092216 | 0.00092216 |   0.0 |  0.31
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0.00056545 | 0.00056545 | 0.00056545 |   0.0 |  0.19
Other   |            | 0.002981   |            |       |  1.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0

compute 	peratom all pe/atom
compute 	eatoms all reduce sum c_peratom
compute 	csym all centro/atom fcc
thermo 		10
thermo_style 	custom step temp pe c_eatoms pxx pyy pzz lx ly lz fnorm
#dump 		1 all custom 1 dump.relax.1.* id type xs ys zs c_peratom c_csym
run 0
WARNING: No fixes with time integration, atoms won't move (../verlet.cpp:60)
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 9
  2 neighbor lists, perpetual/occasional/extra = 1 1 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
  (2) compute centro/atom, occasional
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.042 | 5.042 | 5.042 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8964.0763     -8964.0763     -5177.9056     -5177.9056     -0.0070721536   50.092067      28.920668      35.343537      4.9599618e-07
Loop time of 9.1e-07 on 1 procs for 0 steps with 3200 atoms

219.8% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0          | 0          | 0          |   0.0 |  0.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0          | 0          | 0          |   0.0 |  0.00
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 9.1e-07    |            |       |100.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0
#this command creates a model of the script before the displacement and minimization occur
variable 	E equal "c_eatoms"
variable 	Eo equal $E
variable 	Eo equal -8964.07633391985
#variable 	E equal "c_eatoms" computes the initial energy of the model before any sliding is done
#E is necessary to store the initial energy in Eo

group 		bot region 1
1400 atoms in group bot
group 		top region 2
1800 atoms in group top
group 		top2 region 3
1400 atoms in group top2

displace_atoms 	top move ${x_displace} 0.0 0.0 units box
displace_atoms 	top move -1.66973556737869 0.0 0.0 units box
Displacing atoms ...

#displace_atoms is the command neccessary to move atoms into the next stacking arrangement (ie: A -> B)

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8962.3211     -8962.3211     -5591.7202     -5591.7202     -1576.99        50.092067      28.920668      35.343537      0.73964576   
        40   0             -8962.4682     -8962.4682     -4916.0068     -4916.0068     -147.92622      50.092067      28.920668      35.343537      0.079250389  
        50   0             -8962.4707     -8962.4707     -4849.2612     -4849.2612      2.0166763      50.092067      28.920668      35.343537      0.00021490913
        60   0             -8962.4707     -8962.4707     -4850.1594     -4850.1594      0.0068087804   50.092067      28.920668      35.343537      8.3903308e-06
        70   0             -8962.4707     -8962.4707     -4850.1627     -4850.1627     -0.0011681215   50.092067      28.920668      35.343537      1.9069354e-07
        76   0             -8962.4707     -8962.4707     -4850.1622     -4850.1622      1.4367245e-06  50.092067      28.920668      35.343537      8.8399799e-09
Loop time of 0.474325 on 1 procs for 46 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.32106258411  -8962.47074017725   -8962.4707401783
  Force two-norm initial, final = 0.73964576 8.8399799e-09
  Force max component initial, final = 0.026316509 2.9932082e-10
  Final line search alpha, max atom move = 1 2.9932082e-10
  Iterations, force evaluations = 46 92

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.46701    | 0.46701    | 0.46701    |   0.0 | 98.46
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0014227  | 0.0014227  | 0.0014227  |   0.0 |  0.30
Output  | 0.00023136 | 0.00023136 | 0.00023136 |   0.0 |  0.05
Modify  | 0.00087717 | 0.00087717 | 0.00087717 |   0.0 |  0.18
Other   |            | 0.004788   |            |       |  1.01

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

displace_atoms 	all random ${atomjiggle} ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 1e-05 87287 units box
Displacing atoms ...
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        76   0             -8962.4707     -8962.4707     -4855.1497     -4855.1298     -0.00096622144  50.092067      28.920668      35.307298      0.0018569171 
        80   0             -8962.4707     -8962.4707     -4855.1555     -4855.1356     -0.011779125    50.092067      28.920668      35.307298      6.5723427e-05
        90   0             -8962.4707     -8962.4707     -4855.1531     -4855.1332     -0.0063900344   50.092067      28.920668      35.307298      5.3695965e-06
       100   0             -8962.4707     -8962.4707     -4855.1507     -4855.1309     -0.0011512521   50.092067      28.920668      35.307298      5.7223554e-07
       110   0             -8962.4707     -8962.4707     -4855.1503     -4855.1304     -0.00012465594  50.092067      28.920668      35.307298      9.0409633e-08
       119   0             -8962.4707     -8962.4707     -4855.1502     -4855.1304     -6.5769993e-06  50.092067      28.920668      35.307298      8.8373301e-09
Loop time of 0.457097 on 1 procs for 43 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.47073941504  -8962.47073971322  -8962.47073971329
  Force two-norm initial, final = 0.0018569171 8.8373301e-09
  Force max component initial, final = 9.7625584e-05 5.3059648e-10
  Final line search alpha, max atom move = 1 5.3059648e-10
  Iterations, force evaluations = 43 86

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.45029    | 0.45029    | 0.45029    |   0.0 | 98.51
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0013445  | 0.0013445  | 0.0013445  |   0.0 |  0.29
Output  | 0.00023174 | 0.00023174 | 0.00023174 |   0.0 |  0.05
Modify  | 0.00080665 | 0.00080665 | 0.00080665 |   0.0 |  0.18
Other   |            | 0.004428   |            |       |  0.97

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Ef equal "c_eatoms"
variable 	Efo equal $Ef
variable 	Efo equal -8962.47073971326f
variable	Cf equal 1.60217657e-16
variable 	A equal (${xdim}*${ydim})*1e-20
variable 	A equal (50.0920670213607*${ydim})*1e-20
variable 	A equal (50.0920670213607*28.9206683790474)*1e-20
variable 	SFE equal ((${Ef}-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/1.44869605874579e-17
variable 	Efomj equal ${Ef}*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/1.44869605874579e-17

####################################
print "Initial energy of atoms = ${Eo} eV"
Initial energy of atoms = -8964.07633391985 eV
print "Initial energy before twinning Efo = ${Ef} $Efomj" # in SFE in mJ/m^2"
Initial energy before twinning Efo = -8962.47073971326 -8962.47073971326fomj

#----------- for twin fault energy -----------------------
variable	Ndiscrt equal 30
variable    	i loop ${Ndiscrt}
variable    	i loop 30
label       	loop

variable 	xt_displace equal -1*(${latparam1}/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*15/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*15/30)
variable 	Bxt_displace equal 1.0+${i}/${Ndiscrt}
variable 	Bxt_displace equal 1.0+15/${Ndiscrt}
variable 	Bxt_displace equal 1.0+15/30

displace_atoms 	top2 move ${xt_displace} 0.0 0.0 units box
displace_atoms 	top2 move -0.834867783689345 0.0 0.0 units box
Displacing atoms ...

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
       119   0             -8950.8696     -8950.8696     -7136.9777     -2129.9769      3360.2726      50.092067      28.920668      35.307297      5.072877     
       120   0             -8951.7939     -8951.7939     -6418.821      -2831.5738      2223.7624      50.092067      28.920668      35.307297      1.9801517    
       130   0             -8952.1293     -8952.1293     -7234.736      -3637.88        429.58026      50.092067      28.920668      35.307297      0.16791152   
       140   0             -8952.1382     -8952.1382     -7417.1751     -3823.4508      15.083853      50.092067      28.920668      35.307297      0.0012558793 
       150   0             -8952.1382     -8952.1382     -7423.6123     -3830.2971      0.075567056    50.092067      28.920668      35.307297      6.2053889e-05
       160   0             -8952.1382     -8952.1382     -7423.6361     -3830.3343      0.00051848208  50.092067      28.920668      35.307297      1.3705706e-06
       170   0             -8952.1382     -8952.1382     -7423.6364     -3830.3349     -0.00073680533  50.092067      28.920668      35.307297      4.4358669e-07
       180   0             -8952.1382     -8952.1382     -7423.6362     -3830.3347     -0.00023623097  50.092067      28.920668      35.307297      5.1747268e-08
       187   0             -8952.1382     -8952.1382     -7423.6361     -3830.3346     -1.4030945e-05  50.092067      28.920668      35.307297      8.1813701e-09
Loop time of 0.726361 on 1 procs for 68 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8950.86963595462  -8952.13818255118  -8952.13818255109
  Force two-norm initial, final = 5.072877 8.1813701e-09
  Force max component initial, final = 0.25359389 5.3640054e-10
  Final line search alpha, max atom move = 1 5.3640054e-10
  Iterations, force evaluations = 68 136

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.71558    | 0.71558    | 0.71558    |   0.0 | 98.52
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0021432  | 0.0021432  | 0.0021432  |   0.0 |  0.30
Output  | 0.00040593 | 0.00040593 | 0.00040593 |   0.0 |  0.06
Modify  | 0.0013128  | 0.0013128  | 0.0013128  |   0.0 |  0.18
Other   |            | 0.006919   |            |       |  0.95

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3357 ave        3357 max        3357 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         196400 ave      196400 max      196400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 196400
Ave neighs/atom = 61.375
Neighbor list builds = 0
Dangerous builds = 0

variable 	Eftwn equal "c_eatoms"
variable 	Eftwnmj equal ${Eftwn}*${Cf}/${A}
variable 	Eftwnmj equal -8952.13818255129*${Cf}/${A}
variable 	Eftwnmj equal -8952.13818255129*1.60217657e-16/${A}
variable 	Eftwnmj equal -8952.13818255129*1.60217657e-16/1.44869605874579e-17
variable 	TFEf equal ${Eftwnmj}-${Efomj}
variable 	TFEf equal -99005.626203632-${Efomj}
variable 	TFEf equal -99005.626203632--99119.8984893413

print 		"displacement and TFE = ${Bxt_displace} ${TFEf}" # in SFE in mJ/m^2"
displacement and TFE = 1.5 114.272285709303

next 		i
jump		TFE_displacement1.lmpin
#####################################################################################################################
# Course: Theory, Modelling, and Simulation of Microstructures (TMS)
# Tutors: Dr. Arun Prakash
# Description: Input file for Twin Fault Energy (TFE) of your element
# Originally created by Richard Glaze, 2014. Modified by S. Roy, 2018
######################################################################################################################

# --------------------- INITIALIZAITION ---------------------


clear
units		metal
dimension	3
boundary	p p s
atom_style	atomic
variable 	latparam1 equal 4.09000014545435    ### provide the lattice constant from your calculation
variable 	x_displace equal -1*(${latparam1}/sqrt(6))
variable 	x_displace equal -1*(4.09000014545435/sqrt(6))
variable 	xdim equal ${latparam1}*sqrt(6)/2*10
variable 	xdim equal 4.09000014545435*sqrt(6)/2*10
variable 	ydim equal ${latparam1}*sqrt(2)/2*10
variable 	ydim equal 4.09000014545435*sqrt(2)/2*10
variable 	atomjiggle equal 1.0e-5
variable 	Bx_displace equal 1.0

# --------------------- ATOM DEFINITION ---------------------
lattice		fcc ${latparam1}
lattice		fcc 4.09000014545435
Lattice spacing in x,y,z = 4.0900001 4.0900001 4.0900001
region		1 block -.001 ${xdim} -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 28.9206683790474 -.001 16.5 units box
region 		2 block -.001 ${xdim} -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 28.9206683790474 16.5 36.5808 units box
region 		3 block -.001 ${xdim} -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 28.9206683790474 19.5 36.5808 units box
region		whole block 0 ${xdim} 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 28.9206683790474 0 36.5808 units box
#the -.001 in the -x and -y and lower limit of region 1 are only to overcome a simple numerical issue but can be considered 0
create_box 	1 whole
Created orthogonal box = (0 0 0) to (50.092067 28.920668 36.5808)
  1 by 1 by 1 MPI processor grid
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms	1 region 1
Created 1400 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms 	1 region 2
Created 1800 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds

# --------------------- FORCE FIELDS ---------------------
#Provide potential
pair_style      eam/alloy ### --> TYPE OF POTENTIAL (eam (OR) eam/alloy)
pair_coeff      *  *  CuAg.eam.alloy Ag  ### POTENTIAL FILENAME


# --------------------- SETTINGS ---------------------

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.411 | 5.411 | 5.411 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press          Volume    
         0   0             -8963.0005      0             -8963.0005     -5973.3391      51324.051    
        30   0             -8964.0763      0             -8964.0763     -3443.7334      51324.051    
Loop time of 0.300958 on 1 procs for 30 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -8963.00049826424  -8964.07633391507  -8964.07633391507
  Force two-norm initial, final = 3.47643 4.9599618e-07
  Force max component initial, final = 0.12627393 1.6676942e-08
  Final line search alpha, max atom move = 0.5 8.3384712e-09
  Iterations, force evaluations = 30 60

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.29643    | 0.29643    | 0.29643    |   0.0 | 98.50
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00093346 | 0.00093346 | 0.00093346 |   0.0 |  0.31
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0.00056291 | 0.00056291 | 0.00056291 |   0.0 |  0.19
Other   |            | 0.003026   |            |       |  1.01

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0

compute 	peratom all pe/atom
compute 	eatoms all reduce sum c_peratom
compute 	csym all centro/atom fcc
thermo 		10
thermo_style 	custom step temp pe c_eatoms pxx pyy pzz lx ly lz fnorm
#dump 		1 all custom 1 dump.relax.1.* id type xs ys zs c_peratom c_csym
run 0
WARNING: No fixes with time integration, atoms won't move (../verlet.cpp:60)
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 9
  2 neighbor lists, perpetual/occasional/extra = 1 1 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
  (2) compute centro/atom, occasional
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.042 | 5.042 | 5.042 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8964.0763     -8964.0763     -5177.9056     -5177.9056     -0.0070721536   50.092067      28.920668      35.343537      4.9599618e-07
Loop time of 9.02e-07 on 1 procs for 0 steps with 3200 atoms

110.9% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0          | 0          | 0          |   0.0 |  0.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0          | 0          | 0          |   0.0 |  0.00
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 9.02e-07   |            |       |100.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0
#this command creates a model of the script before the displacement and minimization occur
variable 	E equal "c_eatoms"
variable 	Eo equal $E
variable 	Eo equal -8964.07633391985
#variable 	E equal "c_eatoms" computes the initial energy of the model before any sliding is done
#E is necessary to store the initial energy in Eo

group 		bot region 1
1400 atoms in group bot
group 		top region 2
1800 atoms in group top
group 		top2 region 3
1400 atoms in group top2

displace_atoms 	top move ${x_displace} 0.0 0.0 units box
displace_atoms 	top move -1.66973556737869 0.0 0.0 units box
Displacing atoms ...

#displace_atoms is the command neccessary to move atoms into the next stacking arrangement (ie: A -> B)

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8962.3211     -8962.3211     -5591.7202     -5591.7202     -1576.99        50.092067      28.920668      35.343537      0.73964576   
        40   0             -8962.4682     -8962.4682     -4916.0068     -4916.0068     -147.92622      50.092067      28.920668      35.343537      0.079250389  
        50   0             -8962.4707     -8962.4707     -4849.2612     -4849.2612      2.0166763      50.092067      28.920668      35.343537      0.00021490913
        60   0             -8962.4707     -8962.4707     -4850.1594     -4850.1594      0.0068087804   50.092067      28.920668      35.343537      8.3903308e-06
        70   0             -8962.4707     -8962.4707     -4850.1627     -4850.1627     -0.0011681215   50.092067      28.920668      35.343537      1.9069354e-07
        76   0             -8962.4707     -8962.4707     -4850.1622     -4850.1622      1.4367245e-06  50.092067      28.920668      35.343537      8.8399799e-09
Loop time of 0.473955 on 1 procs for 46 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.32106258411  -8962.47074017725   -8962.4707401783
  Force two-norm initial, final = 0.73964576 8.8399799e-09
  Force max component initial, final = 0.026316509 2.9932082e-10
  Final line search alpha, max atom move = 1 2.9932082e-10
  Iterations, force evaluations = 46 92

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.46673    | 0.46673    | 0.46673    |   0.0 | 98.48
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0014205  | 0.0014205  | 0.0014205  |   0.0 |  0.30
Output  | 0.00022967 | 0.00022967 | 0.00022967 |   0.0 |  0.05
Modify  | 0.00087171 | 0.00087171 | 0.00087171 |   0.0 |  0.18
Other   |            | 0.004706   |            |       |  0.99

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

displace_atoms 	all random ${atomjiggle} ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 1e-05 87287 units box
Displacing atoms ...
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        76   0             -8962.4707     -8962.4707     -4855.1497     -4855.1298     -0.00096622144  50.092067      28.920668      35.307298      0.0018569171 
        80   0             -8962.4707     -8962.4707     -4855.1555     -4855.1356     -0.011779125    50.092067      28.920668      35.307298      6.5723427e-05
        90   0             -8962.4707     -8962.4707     -4855.1531     -4855.1332     -0.0063900344   50.092067      28.920668      35.307298      5.3695965e-06
       100   0             -8962.4707     -8962.4707     -4855.1507     -4855.1309     -0.0011512521   50.092067      28.920668      35.307298      5.7223554e-07
       110   0             -8962.4707     -8962.4707     -4855.1503     -4855.1304     -0.00012465594  50.092067      28.920668      35.307298      9.0409633e-08
       119   0             -8962.4707     -8962.4707     -4855.1502     -4855.1304     -6.5769993e-06  50.092067      28.920668      35.307298      8.8373301e-09
Loop time of 0.456777 on 1 procs for 43 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.47073941504  -8962.47073971322  -8962.47073971329
  Force two-norm initial, final = 0.0018569171 8.8373301e-09
  Force max component initial, final = 9.7625584e-05 5.3059648e-10
  Final line search alpha, max atom move = 1 5.3059648e-10
  Iterations, force evaluations = 43 86

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.44999    | 0.44999    | 0.44999    |   0.0 | 98.51
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0013402  | 0.0013402  | 0.0013402  |   0.0 |  0.29
Output  | 0.00022983 | 0.00022983 | 0.00022983 |   0.0 |  0.05
Modify  | 0.00080553 | 0.00080553 | 0.00080553 |   0.0 |  0.18
Other   |            | 0.004414   |            |       |  0.97

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Ef equal "c_eatoms"
variable 	Efo equal $Ef
variable 	Efo equal -8962.47073971326f
variable	Cf equal 1.60217657e-16
variable 	A equal (${xdim}*${ydim})*1e-20
variable 	A equal (50.0920670213607*${ydim})*1e-20
variable 	A equal (50.0920670213607*28.9206683790474)*1e-20
variable 	SFE equal ((${Ef}-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/1.44869605874579e-17
variable 	Efomj equal ${Ef}*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/1.44869605874579e-17

####################################
print "Initial energy of atoms = ${Eo} eV"
Initial energy of atoms = -8964.07633391985 eV
print "Initial energy before twinning Efo = ${Ef} $Efomj" # in SFE in mJ/m^2"
Initial energy before twinning Efo = -8962.47073971326 -8962.47073971326fomj

#----------- for twin fault energy -----------------------
variable	Ndiscrt equal 30
variable    	i loop ${Ndiscrt}
variable    	i loop 30
label       	loop

variable 	xt_displace equal -1*(${latparam1}/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*16/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*16/30)
variable 	Bxt_displace equal 1.0+${i}/${Ndiscrt}
variable 	Bxt_displace equal 1.0+16/${Ndiscrt}
variable 	Bxt_displace equal 1.0+16/30

displace_atoms 	top2 move ${xt_displace} 0.0 0.0 units box
displace_atoms 	top2 move -0.890525635935301 0.0 0.0 units box
Displacing atoms ...

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
       119   0             -8950.9072     -8950.9072     -7153.027      -2169.5684      3265.0994      50.092067      28.920668      35.307297      4.9884893    
       120   0             -8951.803      -8951.803      -6452.4836     -2857.5049      2152.7157      50.092067      28.920668      35.307297      1.9382437    
       130   0             -8952.1218     -8952.1218     -7241.6844     -3634.7991      422.55641      50.092067      28.920668      35.307297      0.16532854   
       140   0             -8952.1302     -8952.1302     -7421.5505     -3817.8005      13.924069      50.092067      28.920668      35.307297      0.0011688562 
       150   0             -8952.1302     -8952.1302     -7427.5048     -3824.1214      0.062707599    50.092067      28.920668      35.307297      5.0407816e-05
       160   0             -8952.1302     -8952.1302     -7427.524      -3824.1525      0.00043771572  50.092067      28.920668      35.307297      1.2639659e-06
       168   0             -8952.1302     -8952.1302     -7427.5241     -3824.1527      0.00013173959  50.092067      28.920668      35.307297      2.3281022e-07
Loop time of 0.527041 on 1 procs for 49 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -8950.90723048912  -8952.13020738823  -8952.13020738823
  Force two-norm initial, final = 4.9884893 2.3281022e-07
  Force max component initial, final = 0.24934903 1.0923095e-08
  Final line search alpha, max atom move = 0.5 5.4615474e-09
  Iterations, force evaluations = 49 98

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.51927    | 0.51927    | 0.51927    |   0.0 | 98.53
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0015249  | 0.0015249  | 0.0015249  |   0.0 |  0.29
Output  | 0.0002902  | 0.0002902  | 0.0002902  |   0.0 |  0.06
Modify  | 0.00093133 | 0.00093133 | 0.00093133 |   0.0 |  0.18
Other   |            | 0.005026   |            |       |  0.95

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3357 ave        3357 max        3357 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         196400 ave      196400 max      196400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 196400
Ave neighs/atom = 61.375
Neighbor list builds = 0
Dangerous builds = 0

variable 	Eftwn equal "c_eatoms"
variable 	Eftwnmj equal ${Eftwn}*${Cf}/${A}
variable 	Eftwnmj equal -8952.13020738821*${Cf}/${A}
variable 	Eftwnmj equal -8952.13020738821*1.60217657e-16/${A}
variable 	Eftwnmj equal -8952.13020738821*1.60217657e-16/1.44869605874579e-17
variable 	TFEf equal ${Eftwnmj}-${Efomj}
variable 	TFEf equal -99005.5380028024-${Efomj}
variable 	TFEf equal -99005.5380028024--99119.8984893413

print 		"displacement and TFE = ${Bxt_displace} ${TFEf}" # in SFE in mJ/m^2"
displacement and TFE = 1.53333333333333 114.360486538906

next 		i
jump		TFE_displacement1.lmpin
#####################################################################################################################
# Course: Theory, Modelling, and Simulation of Microstructures (TMS)
# Tutors: Dr. Arun Prakash
# Description: Input file for Twin Fault Energy (TFE) of your element
# Originally created by Richard Glaze, 2014. Modified by S. Roy, 2018
######################################################################################################################

# --------------------- INITIALIZAITION ---------------------


clear
units		metal
dimension	3
boundary	p p s
atom_style	atomic
variable 	latparam1 equal 4.09000014545435    ### provide the lattice constant from your calculation
variable 	x_displace equal -1*(${latparam1}/sqrt(6))
variable 	x_displace equal -1*(4.09000014545435/sqrt(6))
variable 	xdim equal ${latparam1}*sqrt(6)/2*10
variable 	xdim equal 4.09000014545435*sqrt(6)/2*10
variable 	ydim equal ${latparam1}*sqrt(2)/2*10
variable 	ydim equal 4.09000014545435*sqrt(2)/2*10
variable 	atomjiggle equal 1.0e-5
variable 	Bx_displace equal 1.0

# --------------------- ATOM DEFINITION ---------------------
lattice		fcc ${latparam1}
lattice		fcc 4.09000014545435
Lattice spacing in x,y,z = 4.0900001 4.0900001 4.0900001
region		1 block -.001 ${xdim} -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 28.9206683790474 -.001 16.5 units box
region 		2 block -.001 ${xdim} -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 28.9206683790474 16.5 36.5808 units box
region 		3 block -.001 ${xdim} -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 28.9206683790474 19.5 36.5808 units box
region		whole block 0 ${xdim} 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 28.9206683790474 0 36.5808 units box
#the -.001 in the -x and -y and lower limit of region 1 are only to overcome a simple numerical issue but can be considered 0
create_box 	1 whole
Created orthogonal box = (0 0 0) to (50.092067 28.920668 36.5808)
  1 by 1 by 1 MPI processor grid
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms	1 region 1
Created 1400 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms 	1 region 2
Created 1800 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds

# --------------------- FORCE FIELDS ---------------------
#Provide potential
pair_style      eam/alloy ### --> TYPE OF POTENTIAL (eam (OR) eam/alloy)
pair_coeff      *  *  CuAg.eam.alloy Ag  ### POTENTIAL FILENAME


# --------------------- SETTINGS ---------------------

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.411 | 5.411 | 5.411 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press          Volume    
         0   0             -8963.0005      0             -8963.0005     -5973.3391      51324.051    
        30   0             -8964.0763      0             -8964.0763     -3443.7334      51324.051    
Loop time of 0.298614 on 1 procs for 30 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -8963.00049826424  -8964.07633391507  -8964.07633391507
  Force two-norm initial, final = 3.47643 4.9599618e-07
  Force max component initial, final = 0.12627393 1.6676942e-08
  Final line search alpha, max atom move = 0.5 8.3384712e-09
  Iterations, force evaluations = 30 60

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.29399    | 0.29399    | 0.29399    |   0.0 | 98.45
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00096778 | 0.00096778 | 0.00096778 |   0.0 |  0.32
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0.00056595 | 0.00056595 | 0.00056595 |   0.0 |  0.19
Other   |            | 0.00309    |            |       |  1.03

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0

compute 	peratom all pe/atom
compute 	eatoms all reduce sum c_peratom
compute 	csym all centro/atom fcc
thermo 		10
thermo_style 	custom step temp pe c_eatoms pxx pyy pzz lx ly lz fnorm
#dump 		1 all custom 1 dump.relax.1.* id type xs ys zs c_peratom c_csym
run 0
WARNING: No fixes with time integration, atoms won't move (../verlet.cpp:60)
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 9
  2 neighbor lists, perpetual/occasional/extra = 1 1 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
  (2) compute centro/atom, occasional
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.042 | 5.042 | 5.042 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8964.0763     -8964.0763     -5177.9056     -5177.9056     -0.0070721536   50.092067      28.920668      35.343537      4.9599618e-07
Loop time of 9.37e-07 on 1 procs for 0 steps with 3200 atoms

106.7% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0          | 0          | 0          |   0.0 |  0.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0          | 0          | 0          |   0.0 |  0.00
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 9.37e-07   |            |       |100.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0
#this command creates a model of the script before the displacement and minimization occur
variable 	E equal "c_eatoms"
variable 	Eo equal $E
variable 	Eo equal -8964.07633391985
#variable 	E equal "c_eatoms" computes the initial energy of the model before any sliding is done
#E is necessary to store the initial energy in Eo

group 		bot region 1
1400 atoms in group bot
group 		top region 2
1800 atoms in group top
group 		top2 region 3
1400 atoms in group top2

displace_atoms 	top move ${x_displace} 0.0 0.0 units box
displace_atoms 	top move -1.66973556737869 0.0 0.0 units box
Displacing atoms ...

#displace_atoms is the command neccessary to move atoms into the next stacking arrangement (ie: A -> B)

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8962.3211     -8962.3211     -5591.7202     -5591.7202     -1576.99        50.092067      28.920668      35.343537      0.73964576   
        40   0             -8962.4682     -8962.4682     -4916.0068     -4916.0068     -147.92622      50.092067      28.920668      35.343537      0.079250389  
        50   0             -8962.4707     -8962.4707     -4849.2612     -4849.2612      2.0166763      50.092067      28.920668      35.343537      0.00021490913
        60   0             -8962.4707     -8962.4707     -4850.1594     -4850.1594      0.0068087804   50.092067      28.920668      35.343537      8.3903308e-06
        70   0             -8962.4707     -8962.4707     -4850.1627     -4850.1627     -0.0011681215   50.092067      28.920668      35.343537      1.9069354e-07
        76   0             -8962.4707     -8962.4707     -4850.1622     -4850.1622      1.4367245e-06  50.092067      28.920668      35.343537      8.8399799e-09
Loop time of 0.473769 on 1 procs for 46 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.32106258411  -8962.47074017725   -8962.4707401783
  Force two-norm initial, final = 0.73964576 8.8399799e-09
  Force max component initial, final = 0.026316509 2.9932082e-10
  Final line search alpha, max atom move = 1 2.9932082e-10
  Iterations, force evaluations = 46 92

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.46652    | 0.46652    | 0.46652    |   0.0 | 98.47
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0014444  | 0.0014444  | 0.0014444  |   0.0 |  0.30
Output  | 0.0002319  | 0.0002319  | 0.0002319  |   0.0 |  0.05
Modify  | 0.00087562 | 0.00087562 | 0.00087562 |   0.0 |  0.18
Other   |            | 0.004701   |            |       |  0.99

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

displace_atoms 	all random ${atomjiggle} ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 1e-05 87287 units box
Displacing atoms ...
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        76   0             -8962.4707     -8962.4707     -4855.1497     -4855.1298     -0.00096622144  50.092067      28.920668      35.307298      0.0018569171 
        80   0             -8962.4707     -8962.4707     -4855.1555     -4855.1356     -0.011779125    50.092067      28.920668      35.307298      6.5723427e-05
        90   0             -8962.4707     -8962.4707     -4855.1531     -4855.1332     -0.0063900344   50.092067      28.920668      35.307298      5.3695965e-06
       100   0             -8962.4707     -8962.4707     -4855.1507     -4855.1309     -0.0011512521   50.092067      28.920668      35.307298      5.7223554e-07
       110   0             -8962.4707     -8962.4707     -4855.1503     -4855.1304     -0.00012465594  50.092067      28.920668      35.307298      9.0409633e-08
       119   0             -8962.4707     -8962.4707     -4855.1502     -4855.1304     -6.5769993e-06  50.092067      28.920668      35.307298      8.8373301e-09
Loop time of 0.458975 on 1 procs for 43 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.47073941504  -8962.47073971322  -8962.47073971329
  Force two-norm initial, final = 0.0018569171 8.8373301e-09
  Force max component initial, final = 9.7625584e-05 5.3059648e-10
  Final line search alpha, max atom move = 1 5.3059648e-10
  Iterations, force evaluations = 43 86

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.45215    | 0.45215    | 0.45215    |   0.0 | 98.51
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.001351   | 0.001351   | 0.001351   |   0.0 |  0.29
Output  | 0.00023153 | 0.00023153 | 0.00023153 |   0.0 |  0.05
Modify  | 0.00080707 | 0.00080707 | 0.00080707 |   0.0 |  0.18
Other   |            | 0.00443    |            |       |  0.97

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Ef equal "c_eatoms"
variable 	Efo equal $Ef
variable 	Efo equal -8962.47073971326f
variable	Cf equal 1.60217657e-16
variable 	A equal (${xdim}*${ydim})*1e-20
variable 	A equal (50.0920670213607*${ydim})*1e-20
variable 	A equal (50.0920670213607*28.9206683790474)*1e-20
variable 	SFE equal ((${Ef}-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/1.44869605874579e-17
variable 	Efomj equal ${Ef}*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/1.44869605874579e-17

####################################
print "Initial energy of atoms = ${Eo} eV"
Initial energy of atoms = -8964.07633391985 eV
print "Initial energy before twinning Efo = ${Ef} $Efomj" # in SFE in mJ/m^2"
Initial energy before twinning Efo = -8962.47073971326 -8962.47073971326fomj

#----------- for twin fault energy -----------------------
variable	Ndiscrt equal 30
variable    	i loop ${Ndiscrt}
variable    	i loop 30
label       	loop

variable 	xt_displace equal -1*(${latparam1}/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*17/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*17/30)
variable 	Bxt_displace equal 1.0+${i}/${Ndiscrt}
variable 	Bxt_displace equal 1.0+17/${Ndiscrt}
variable 	Bxt_displace equal 1.0+17/30

displace_atoms 	top2 move ${xt_displace} 0.0 0.0 units box
displace_atoms 	top2 move -0.946183488181257 0.0 0.0 units box
Displacing atoms ...

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
       119   0             -8951.1729     -8951.1729     -7181.1893     -2257.2174      3065.7334      50.092067      28.920668      35.307297      4.7663135    
       120   0             -8951.9984     -8951.9984     -6525.3031     -2907.3427      2022.6612      50.092067      28.920668      35.307297      1.8421455    
       130   0             -8952.2847     -8952.2847     -7265.7801     -3635.3003      402.99449      50.092067      28.920668      35.307297      0.15877125   
       140   0             -8952.2922     -8952.2922     -7437.8051     -3810.5752      11.836865      50.092067      28.920668      35.307297      0.0010072351 
       150   0             -8952.2922     -8952.2922     -7442.8887     -3815.9491      0.043868673    50.092067      28.920668      35.307297      3.488033e-05 
       160   0             -8952.2922     -8952.2922     -7442.9005     -3815.9714      0.00011381377  50.092067      28.920668      35.307297      1.0354132e-06
       168   0             -8952.2922     -8952.2922     -7442.9006     -3815.9716     -0.00016441962  50.092067      28.920668      35.307297      2.4618106e-07
Loop time of 0.52509 on 1 procs for 49 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -8951.17289873765  -8952.29224619229  -8952.29224619229
  Force two-norm initial, final = 4.7663135 2.4618106e-07
  Force max component initial, final = 0.23820835 1.1287987e-08
  Final line search alpha, max atom move = 0.5 5.6439934e-09
  Iterations, force evaluations = 49 98

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.51726    | 0.51726    | 0.51726    |   0.0 | 98.51
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0015695  | 0.0015695  | 0.0015695  |   0.0 |  0.30
Output  | 0.00029056 | 0.00029056 | 0.00029056 |   0.0 |  0.06
Modify  | 0.00094506 | 0.00094506 | 0.00094506 |   0.0 |  0.18
Other   |            | 0.005024   |            |       |  0.96

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3357 ave        3357 max        3357 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         196800 ave      196800 max      196800 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 196800
Ave neighs/atom = 61.5
Neighbor list builds = 0
Dangerous builds = 0

variable 	Eftwn equal "c_eatoms"
variable 	Eftwnmj equal ${Eftwn}*${Cf}/${A}
variable 	Eftwnmj equal -8952.2922461924*${Cf}/${A}
variable 	Eftwnmj equal -8952.2922461924*1.60217657e-16/${A}
variable 	Eftwnmj equal -8952.2922461924*1.60217657e-16/1.44869605874579e-17
variable 	TFEf equal ${Eftwnmj}-${Efomj}
variable 	TFEf equal -99007.3300610739-${Efomj}
variable 	TFEf equal -99007.3300610739--99119.8984893413

print 		"displacement and TFE = ${Bxt_displace} ${TFEf}" # in SFE in mJ/m^2"
displacement and TFE = 1.56666666666667 112.568428267405

next 		i
jump		TFE_displacement1.lmpin
#####################################################################################################################
# Course: Theory, Modelling, and Simulation of Microstructures (TMS)
# Tutors: Dr. Arun Prakash
# Description: Input file for Twin Fault Energy (TFE) of your element
# Originally created by Richard Glaze, 2014. Modified by S. Roy, 2018
######################################################################################################################

# --------------------- INITIALIZAITION ---------------------


clear
units		metal
dimension	3
boundary	p p s
atom_style	atomic
variable 	latparam1 equal 4.09000014545435    ### provide the lattice constant from your calculation
variable 	x_displace equal -1*(${latparam1}/sqrt(6))
variable 	x_displace equal -1*(4.09000014545435/sqrt(6))
variable 	xdim equal ${latparam1}*sqrt(6)/2*10
variable 	xdim equal 4.09000014545435*sqrt(6)/2*10
variable 	ydim equal ${latparam1}*sqrt(2)/2*10
variable 	ydim equal 4.09000014545435*sqrt(2)/2*10
variable 	atomjiggle equal 1.0e-5
variable 	Bx_displace equal 1.0

# --------------------- ATOM DEFINITION ---------------------
lattice		fcc ${latparam1}
lattice		fcc 4.09000014545435
Lattice spacing in x,y,z = 4.0900001 4.0900001 4.0900001
region		1 block -.001 ${xdim} -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 28.9206683790474 -.001 16.5 units box
region 		2 block -.001 ${xdim} -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 28.9206683790474 16.5 36.5808 units box
region 		3 block -.001 ${xdim} -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 28.9206683790474 19.5 36.5808 units box
region		whole block 0 ${xdim} 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 28.9206683790474 0 36.5808 units box
#the -.001 in the -x and -y and lower limit of region 1 are only to overcome a simple numerical issue but can be considered 0
create_box 	1 whole
Created orthogonal box = (0 0 0) to (50.092067 28.920668 36.5808)
  1 by 1 by 1 MPI processor grid
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms	1 region 1
Created 1400 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms 	1 region 2
Created 1800 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds

# --------------------- FORCE FIELDS ---------------------
#Provide potential
pair_style      eam/alloy ### --> TYPE OF POTENTIAL (eam (OR) eam/alloy)
pair_coeff      *  *  CuAg.eam.alloy Ag  ### POTENTIAL FILENAME


# --------------------- SETTINGS ---------------------

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.411 | 5.411 | 5.411 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press          Volume    
         0   0             -8963.0005      0             -8963.0005     -5973.3391      51324.051    
        30   0             -8964.0763      0             -8964.0763     -3443.7334      51324.051    
Loop time of 0.297803 on 1 procs for 30 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -8963.00049826424  -8964.07633391507  -8964.07633391507
  Force two-norm initial, final = 3.47643 4.9599618e-07
  Force max component initial, final = 0.12627393 1.6676942e-08
  Final line search alpha, max atom move = 0.5 8.3384712e-09
  Iterations, force evaluations = 30 60

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.29326    | 0.29326    | 0.29326    |   0.0 | 98.47
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0009509  | 0.0009509  | 0.0009509  |   0.0 |  0.32
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0.00056398 | 0.00056398 | 0.00056398 |   0.0 |  0.19
Other   |            | 0.003028   |            |       |  1.02

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0

compute 	peratom all pe/atom
compute 	eatoms all reduce sum c_peratom
compute 	csym all centro/atom fcc
thermo 		10
thermo_style 	custom step temp pe c_eatoms pxx pyy pzz lx ly lz fnorm
#dump 		1 all custom 1 dump.relax.1.* id type xs ys zs c_peratom c_csym
run 0
WARNING: No fixes with time integration, atoms won't move (../verlet.cpp:60)
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 9
  2 neighbor lists, perpetual/occasional/extra = 1 1 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
  (2) compute centro/atom, occasional
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.042 | 5.042 | 5.042 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8964.0763     -8964.0763     -5177.9056     -5177.9056     -0.0070721536   50.092067      28.920668      35.343537      4.9599618e-07
Loop time of 9.69e-07 on 1 procs for 0 steps with 3200 atoms

206.4% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0          | 0          | 0          |   0.0 |  0.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0          | 0          | 0          |   0.0 |  0.00
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 9.69e-07   |            |       |100.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0
#this command creates a model of the script before the displacement and minimization occur
variable 	E equal "c_eatoms"
variable 	Eo equal $E
variable 	Eo equal -8964.07633391985
#variable 	E equal "c_eatoms" computes the initial energy of the model before any sliding is done
#E is necessary to store the initial energy in Eo

group 		bot region 1
1400 atoms in group bot
group 		top region 2
1800 atoms in group top
group 		top2 region 3
1400 atoms in group top2

displace_atoms 	top move ${x_displace} 0.0 0.0 units box
displace_atoms 	top move -1.66973556737869 0.0 0.0 units box
Displacing atoms ...

#displace_atoms is the command neccessary to move atoms into the next stacking arrangement (ie: A -> B)

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8962.3211     -8962.3211     -5591.7202     -5591.7202     -1576.99        50.092067      28.920668      35.343537      0.73964576   
        40   0             -8962.4682     -8962.4682     -4916.0068     -4916.0068     -147.92622      50.092067      28.920668      35.343537      0.079250389  
        50   0             -8962.4707     -8962.4707     -4849.2612     -4849.2612      2.0166763      50.092067      28.920668      35.343537      0.00021490913
        60   0             -8962.4707     -8962.4707     -4850.1594     -4850.1594      0.0068087804   50.092067      28.920668      35.343537      8.3903308e-06
        70   0             -8962.4707     -8962.4707     -4850.1627     -4850.1627     -0.0011681215   50.092067      28.920668      35.343537      1.9069354e-07
        76   0             -8962.4707     -8962.4707     -4850.1622     -4850.1622      1.4367245e-06  50.092067      28.920668      35.343537      8.8399799e-09
Loop time of 0.470444 on 1 procs for 46 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.32106258411  -8962.47074017725   -8962.4707401783
  Force two-norm initial, final = 0.73964576 8.8399799e-09
  Force max component initial, final = 0.026316509 2.9932082e-10
  Final line search alpha, max atom move = 1 2.9932082e-10
  Iterations, force evaluations = 46 92

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.46314    | 0.46314    | 0.46314    |   0.0 | 98.45
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0014286  | 0.0014286  | 0.0014286  |   0.0 |  0.30
Output  | 0.00023434 | 0.00023434 | 0.00023434 |   0.0 |  0.05
Modify  | 0.00085558 | 0.00085558 | 0.00085558 |   0.0 |  0.18
Other   |            | 0.004782   |            |       |  1.02

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

displace_atoms 	all random ${atomjiggle} ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 1e-05 87287 units box
Displacing atoms ...
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        76   0             -8962.4707     -8962.4707     -4855.1497     -4855.1298     -0.00096622144  50.092067      28.920668      35.307298      0.0018569171 
        80   0             -8962.4707     -8962.4707     -4855.1555     -4855.1356     -0.011779125    50.092067      28.920668      35.307298      6.5723427e-05
        90   0             -8962.4707     -8962.4707     -4855.1531     -4855.1332     -0.0063900344   50.092067      28.920668      35.307298      5.3695965e-06
       100   0             -8962.4707     -8962.4707     -4855.1507     -4855.1309     -0.0011512521   50.092067      28.920668      35.307298      5.7223554e-07
       110   0             -8962.4707     -8962.4707     -4855.1503     -4855.1304     -0.00012465594  50.092067      28.920668      35.307298      9.0409633e-08
       119   0             -8962.4707     -8962.4707     -4855.1502     -4855.1304     -6.5769993e-06  50.092067      28.920668      35.307298      8.8373301e-09
Loop time of 0.454694 on 1 procs for 43 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.47073941504  -8962.47073971322  -8962.47073971329
  Force two-norm initial, final = 0.0018569171 8.8373301e-09
  Force max component initial, final = 9.7625584e-05 5.3059648e-10
  Final line search alpha, max atom move = 1 5.3059648e-10
  Iterations, force evaluations = 43 86

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.44786    | 0.44786    | 0.44786    |   0.0 | 98.50
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.001333   | 0.001333   | 0.001333   |   0.0 |  0.29
Output  | 0.00023155 | 0.00023155 | 0.00023155 |   0.0 |  0.05
Modify  | 0.00081475 | 0.00081475 | 0.00081475 |   0.0 |  0.18
Other   |            | 0.004451   |            |       |  0.98

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Ef equal "c_eatoms"
variable 	Efo equal $Ef
variable 	Efo equal -8962.47073971326f
variable	Cf equal 1.60217657e-16
variable 	A equal (${xdim}*${ydim})*1e-20
variable 	A equal (50.0920670213607*${ydim})*1e-20
variable 	A equal (50.0920670213607*28.9206683790474)*1e-20
variable 	SFE equal ((${Ef}-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/1.44869605874579e-17
variable 	Efomj equal ${Ef}*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/1.44869605874579e-17

####################################
print "Initial energy of atoms = ${Eo} eV"
Initial energy of atoms = -8964.07633391985 eV
print "Initial energy before twinning Efo = ${Ef} $Efomj" # in SFE in mJ/m^2"
Initial energy before twinning Efo = -8962.47073971326 -8962.47073971326fomj

#----------- for twin fault energy -----------------------
variable	Ndiscrt equal 30
variable    	i loop ${Ndiscrt}
variable    	i loop 30
label       	loop

variable 	xt_displace equal -1*(${latparam1}/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*18/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*18/30)
variable 	Bxt_displace equal 1.0+${i}/${Ndiscrt}
variable 	Bxt_displace equal 1.0+18/${Ndiscrt}
variable 	Bxt_displace equal 1.0+18/30

displace_atoms 	top2 move ${xt_displace} 0.0 0.0 units box
displace_atoms 	top2 move -1.00184134042721 0.0 0.0 units box
Displacing atoms ...

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
       119   0             -8951.6506     -8951.6506     -7202.9433     -2389.2692      2771.0349      50.092067      28.920668      35.307297      4.4205962    
       120   0             -8952.3732     -8952.3732     -6616.907      -2979.4535      1838.2598      50.092067      28.920668      35.307297      1.6923016    
       130   0             -8952.6146     -8952.6146     -7288.4745     -3640.7897      369.40738      50.092067      28.920668      35.307297      0.14777345   
       140   0             -8952.6208     -8952.6208     -7446.6302     -3802.1868      9.398362       50.092067      28.920668      35.307297      0.00081796046
       150   0             -8952.6208     -8952.6208     -7450.6864     -3806.4514      0.033370097    50.092067      28.920668      35.307297      3.9014102e-05
       160   0             -8952.6208     -8952.6208     -7450.6939     -3806.4686     -5.7775447e-05  50.092067      28.920668      35.307297      9.9322039e-07
       170   0             -8952.6208     -8952.6208     -7450.694      -3806.4688     -0.00046298534  50.092067      28.920668      35.307297      5.2472241e-07
       180   0             -8952.6208     -8952.6208     -7450.6939     -3806.4687     -0.00019460739  50.092067      28.920668      35.307297      2.8247448e-08
       187   0             -8952.6208     -8952.6208     -7450.6938     -3806.4686     -1.5268718e-05  50.092067      28.920668      35.307297      7.0222637e-09
Loop time of 0.721059 on 1 procs for 68 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8951.65057223615  -8952.62081979123  -8952.62081979116
  Force two-norm initial, final = 4.4205962 7.0222637e-09
  Force max component initial, final = 0.22087897 5.2052234e-10
  Final line search alpha, max atom move = 1 5.2052234e-10
  Iterations, force evaluations = 68 136

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.71016    | 0.71016    | 0.71016    |   0.0 | 98.49
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.002141   | 0.002141   | 0.002141   |   0.0 |  0.30
Output  | 0.0004065  | 0.0004065  | 0.0004065  |   0.0 |  0.06
Modify  | 0.0012806  | 0.0012806  | 0.0012806  |   0.0 |  0.18
Other   |            | 0.007071   |            |       |  0.98

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3357 ave        3357 max        3357 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         196600 ave      196600 max      196600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 196600
Ave neighs/atom = 61.4375
Neighbor list builds = 0
Dangerous builds = 0

variable 	Eftwn equal "c_eatoms"
variable 	Eftwnmj equal ${Eftwn}*${Cf}/${A}
variable 	Eftwnmj equal -8952.62081979126*${Cf}/${A}
variable 	Eftwnmj equal -8952.62081979126*1.60217657e-16/${A}
variable 	Eftwnmj equal -8952.62081979126*1.60217657e-16/1.44869605874579e-17
variable 	TFEf equal ${Eftwnmj}-${Efomj}
variable 	TFEf equal -99010.9639007495-${Efomj}
variable 	TFEf equal -99010.9639007495--99119.8984893413

print 		"displacement and TFE = ${Bxt_displace} ${TFEf}" # in SFE in mJ/m^2"
displacement and TFE = 1.6 108.934588591801

next 		i
jump		TFE_displacement1.lmpin
#####################################################################################################################
# Course: Theory, Modelling, and Simulation of Microstructures (TMS)
# Tutors: Dr. Arun Prakash
# Description: Input file for Twin Fault Energy (TFE) of your element
# Originally created by Richard Glaze, 2014. Modified by S. Roy, 2018
######################################################################################################################

# --------------------- INITIALIZAITION ---------------------


clear
units		metal
dimension	3
boundary	p p s
atom_style	atomic
variable 	latparam1 equal 4.09000014545435    ### provide the lattice constant from your calculation
variable 	x_displace equal -1*(${latparam1}/sqrt(6))
variable 	x_displace equal -1*(4.09000014545435/sqrt(6))
variable 	xdim equal ${latparam1}*sqrt(6)/2*10
variable 	xdim equal 4.09000014545435*sqrt(6)/2*10
variable 	ydim equal ${latparam1}*sqrt(2)/2*10
variable 	ydim equal 4.09000014545435*sqrt(2)/2*10
variable 	atomjiggle equal 1.0e-5
variable 	Bx_displace equal 1.0

# --------------------- ATOM DEFINITION ---------------------
lattice		fcc ${latparam1}
lattice		fcc 4.09000014545435
Lattice spacing in x,y,z = 4.0900001 4.0900001 4.0900001
region		1 block -.001 ${xdim} -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 28.9206683790474 -.001 16.5 units box
region 		2 block -.001 ${xdim} -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 28.9206683790474 16.5 36.5808 units box
region 		3 block -.001 ${xdim} -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 28.9206683790474 19.5 36.5808 units box
region		whole block 0 ${xdim} 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 28.9206683790474 0 36.5808 units box
#the -.001 in the -x and -y and lower limit of region 1 are only to overcome a simple numerical issue but can be considered 0
create_box 	1 whole
Created orthogonal box = (0 0 0) to (50.092067 28.920668 36.5808)
  1 by 1 by 1 MPI processor grid
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms	1 region 1
Created 1400 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms 	1 region 2
Created 1800 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds

# --------------------- FORCE FIELDS ---------------------
#Provide potential
pair_style      eam/alloy ### --> TYPE OF POTENTIAL (eam (OR) eam/alloy)
pair_coeff      *  *  CuAg.eam.alloy Ag  ### POTENTIAL FILENAME


# --------------------- SETTINGS ---------------------

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.411 | 5.411 | 5.411 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press          Volume    
         0   0             -8963.0005      0             -8963.0005     -5973.3391      51324.051    
        30   0             -8964.0763      0             -8964.0763     -3443.7334      51324.051    
Loop time of 0.29923 on 1 procs for 30 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -8963.00049826424  -8964.07633391507  -8964.07633391507
  Force two-norm initial, final = 3.47643 4.9599618e-07
  Force max component initial, final = 0.12627393 1.6676942e-08
  Final line search alpha, max atom move = 0.5 8.3384712e-09
  Iterations, force evaluations = 30 60

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.29471    | 0.29471    | 0.29471    |   0.0 | 98.49
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0009319  | 0.0009319  | 0.0009319  |   0.0 |  0.31
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0.00056812 | 0.00056812 | 0.00056812 |   0.0 |  0.19
Other   |            | 0.003018   |            |       |  1.01

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0

compute 	peratom all pe/atom
compute 	eatoms all reduce sum c_peratom
compute 	csym all centro/atom fcc
thermo 		10
thermo_style 	custom step temp pe c_eatoms pxx pyy pzz lx ly lz fnorm
#dump 		1 all custom 1 dump.relax.1.* id type xs ys zs c_peratom c_csym
run 0
WARNING: No fixes with time integration, atoms won't move (../verlet.cpp:60)
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 9
  2 neighbor lists, perpetual/occasional/extra = 1 1 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
  (2) compute centro/atom, occasional
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.042 | 5.042 | 5.042 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8964.0763     -8964.0763     -5177.9056     -5177.9056     -0.0070721536   50.092067      28.920668      35.343537      4.9599618e-07
Loop time of 9.66e-07 on 1 procs for 0 steps with 3200 atoms

103.5% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0          | 0          | 0          |   0.0 |  0.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0          | 0          | 0          |   0.0 |  0.00
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 9.66e-07   |            |       |100.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0
#this command creates a model of the script before the displacement and minimization occur
variable 	E equal "c_eatoms"
variable 	Eo equal $E
variable 	Eo equal -8964.07633391985
#variable 	E equal "c_eatoms" computes the initial energy of the model before any sliding is done
#E is necessary to store the initial energy in Eo

group 		bot region 1
1400 atoms in group bot
group 		top region 2
1800 atoms in group top
group 		top2 region 3
1400 atoms in group top2

displace_atoms 	top move ${x_displace} 0.0 0.0 units box
displace_atoms 	top move -1.66973556737869 0.0 0.0 units box
Displacing atoms ...

#displace_atoms is the command neccessary to move atoms into the next stacking arrangement (ie: A -> B)

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8962.3211     -8962.3211     -5591.7202     -5591.7202     -1576.99        50.092067      28.920668      35.343537      0.73964576   
        40   0             -8962.4682     -8962.4682     -4916.0068     -4916.0068     -147.92622      50.092067      28.920668      35.343537      0.079250389  
        50   0             -8962.4707     -8962.4707     -4849.2612     -4849.2612      2.0166763      50.092067      28.920668      35.343537      0.00021490913
        60   0             -8962.4707     -8962.4707     -4850.1594     -4850.1594      0.0068087804   50.092067      28.920668      35.343537      8.3903308e-06
        70   0             -8962.4707     -8962.4707     -4850.1627     -4850.1627     -0.0011681215   50.092067      28.920668      35.343537      1.9069354e-07
        76   0             -8962.4707     -8962.4707     -4850.1622     -4850.1622      1.4367245e-06  50.092067      28.920668      35.343537      8.8399799e-09
Loop time of 0.476687 on 1 procs for 46 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.32106258411  -8962.47074017725   -8962.4707401783
  Force two-norm initial, final = 0.73964576 8.8399799e-09
  Force max component initial, final = 0.026316509 2.9932082e-10
  Final line search alpha, max atom move = 1 2.9932082e-10
  Iterations, force evaluations = 46 92

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.46947    | 0.46947    | 0.46947    |   0.0 | 98.49
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0014579  | 0.0014579  | 0.0014579  |   0.0 |  0.31
Output  | 0.00023307 | 0.00023307 | 0.00023307 |   0.0 |  0.05
Modify  | 0.00085668 | 0.00085668 | 0.00085668 |   0.0 |  0.18
Other   |            | 0.004673   |            |       |  0.98

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

displace_atoms 	all random ${atomjiggle} ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 1e-05 87287 units box
Displacing atoms ...
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        76   0             -8962.4707     -8962.4707     -4855.1497     -4855.1298     -0.00096622144  50.092067      28.920668      35.307298      0.0018569171 
        80   0             -8962.4707     -8962.4707     -4855.1555     -4855.1356     -0.011779125    50.092067      28.920668      35.307298      6.5723427e-05
        90   0             -8962.4707     -8962.4707     -4855.1531     -4855.1332     -0.0063900344   50.092067      28.920668      35.307298      5.3695965e-06
       100   0             -8962.4707     -8962.4707     -4855.1507     -4855.1309     -0.0011512521   50.092067      28.920668      35.307298      5.7223554e-07
       110   0             -8962.4707     -8962.4707     -4855.1503     -4855.1304     -0.00012465594  50.092067      28.920668      35.307298      9.0409633e-08
       119   0             -8962.4707     -8962.4707     -4855.1502     -4855.1304     -6.5769993e-06  50.092067      28.920668      35.307298      8.8373301e-09
Loop time of 0.459141 on 1 procs for 43 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.47073941504  -8962.47073971322  -8962.47073971329
  Force two-norm initial, final = 0.0018569171 8.8373301e-09
  Force max component initial, final = 9.7625584e-05 5.3059648e-10
  Final line search alpha, max atom move = 1 5.3059648e-10
  Iterations, force evaluations = 43 86

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.45232    | 0.45232    | 0.45232    |   0.0 | 98.51
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0013472  | 0.0013472  | 0.0013472  |   0.0 |  0.29
Output  | 0.00023205 | 0.00023205 | 0.00023205 |   0.0 |  0.05
Modify  | 0.00080403 | 0.00080403 | 0.00080403 |   0.0 |  0.18
Other   |            | 0.004437   |            |       |  0.97

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Ef equal "c_eatoms"
variable 	Efo equal $Ef
variable 	Efo equal -8962.47073971326f
variable	Cf equal 1.60217657e-16
variable 	A equal (${xdim}*${ydim})*1e-20
variable 	A equal (50.0920670213607*${ydim})*1e-20
variable 	A equal (50.0920670213607*28.9206683790474)*1e-20
variable 	SFE equal ((${Ef}-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/1.44869605874579e-17
variable 	Efomj equal ${Ef}*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/1.44869605874579e-17

####################################
print "Initial energy of atoms = ${Eo} eV"
Initial energy of atoms = -8964.07633391985 eV
print "Initial energy before twinning Efo = ${Ef} $Efomj" # in SFE in mJ/m^2"
Initial energy before twinning Efo = -8962.47073971326 -8962.47073971326fomj

#----------- for twin fault energy -----------------------
variable	Ndiscrt equal 30
variable    	i loop ${Ndiscrt}
variable    	i loop 30
label       	loop

variable 	xt_displace equal -1*(${latparam1}/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*19/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*19/30)
variable 	Bxt_displace equal 1.0+${i}/${Ndiscrt}
variable 	Bxt_displace equal 1.0+19/${Ndiscrt}
variable 	Bxt_displace equal 1.0+19/30

displace_atoms 	top2 move ${xt_displace} 0.0 0.0 units box
displace_atoms 	top2 move -1.05749919267317 0.0 0.0 units box
Displacing atoms ...

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
       119   0             -8952.3137     -8952.3137     -7197.6678     -2560.4249      2394.6558      50.092067      28.920668      35.307297      3.9723283    
       120   0             -8952.9134     -8952.9134     -6700.6209     -3071.8233      1606.1541      50.092067      28.920668      35.307297      1.4907879    
       130   0             -8953.1019     -8953.1019     -7286.5764     -3653.9262      318.61114      50.092067      28.920668      35.307297      0.1317567    
       140   0             -8953.1066     -8953.1066     -7423.6168     -3793.5695      6.9410564      50.092067      28.920668      35.307297      0.000610792  
       150   0             -8953.1066     -8953.1066     -7426.6257     -3796.72        0.022322862    50.092067      28.920668      35.307297      3.8021889e-05
       160   0             -8953.1066     -8953.1066     -7426.6308     -3796.7316     -0.00022072854  50.092067      28.920668      35.307297      8.5498931e-07
       170   0             -8953.1066     -8953.1066     -7426.6308     -3796.7316     -0.00027580545  50.092067      28.920668      35.307297      2.7205699e-07
       180   0             -8953.1066     -8953.1066     -7426.6307     -3796.7315     -0.00011666783  50.092067      28.920668      35.307297      1.6980064e-08
       186   0             -8953.1066     -8953.1066     -7426.6307     -3796.7315     -2.6926004e-05  50.092067      28.920668      35.307297      8.2362784e-09
Loop time of 0.718413 on 1 procs for 67 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8952.31372264786  -8953.10664062938  -8953.10664062932
  Force two-norm initial, final = 3.9723283 8.2362784e-09
  Force max component initial, final = 0.19840025 5.273533e-10
  Final line search alpha, max atom move = 1 5.273533e-10
  Iterations, force evaluations = 67 134

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.70781    | 0.70781    | 0.70781    |   0.0 | 98.52
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0021002  | 0.0021002  | 0.0021002  |   0.0 |  0.29
Output  | 0.00040637 | 0.00040637 | 0.00040637 |   0.0 |  0.06
Modify  | 0.0012547  | 0.0012547  | 0.0012547  |   0.0 |  0.17
Other   |            | 0.006843   |            |       |  0.95

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3357 ave        3357 max        3357 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         196600 ave      196600 max      196600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 196600
Ave neighs/atom = 61.4375
Neighbor list builds = 0
Dangerous builds = 0

variable 	Eftwn equal "c_eatoms"
variable 	Eftwnmj equal ${Eftwn}*${Cf}/${A}
variable 	Eftwnmj equal -8953.10664062945*${Cf}/${A}
variable 	Eftwnmj equal -8953.10664062945*1.60217657e-16/${A}
variable 	Eftwnmj equal -8953.10664062945*1.60217657e-16/1.44869605874579e-17
variable 	TFEf equal ${Eftwnmj}-${Efomj}
variable 	TFEf equal -99016.3368066773-${Efomj}
variable 	TFEf equal -99016.3368066773--99119.8984893413

print 		"displacement and TFE = ${Bxt_displace} ${TFEf}" # in SFE in mJ/m^2"
displacement and TFE = 1.63333333333333 103.561682664003

next 		i
jump		TFE_displacement1.lmpin
#####################################################################################################################
# Course: Theory, Modelling, and Simulation of Microstructures (TMS)
# Tutors: Dr. Arun Prakash
# Description: Input file for Twin Fault Energy (TFE) of your element
# Originally created by Richard Glaze, 2014. Modified by S. Roy, 2018
######################################################################################################################

# --------------------- INITIALIZAITION ---------------------


clear
units		metal
dimension	3
boundary	p p s
atom_style	atomic
variable 	latparam1 equal 4.09000014545435    ### provide the lattice constant from your calculation
variable 	x_displace equal -1*(${latparam1}/sqrt(6))
variable 	x_displace equal -1*(4.09000014545435/sqrt(6))
variable 	xdim equal ${latparam1}*sqrt(6)/2*10
variable 	xdim equal 4.09000014545435*sqrt(6)/2*10
variable 	ydim equal ${latparam1}*sqrt(2)/2*10
variable 	ydim equal 4.09000014545435*sqrt(2)/2*10
variable 	atomjiggle equal 1.0e-5
variable 	Bx_displace equal 1.0

# --------------------- ATOM DEFINITION ---------------------
lattice		fcc ${latparam1}
lattice		fcc 4.09000014545435
Lattice spacing in x,y,z = 4.0900001 4.0900001 4.0900001
region		1 block -.001 ${xdim} -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 28.9206683790474 -.001 16.5 units box
region 		2 block -.001 ${xdim} -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 28.9206683790474 16.5 36.5808 units box
region 		3 block -.001 ${xdim} -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 28.9206683790474 19.5 36.5808 units box
region		whole block 0 ${xdim} 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 28.9206683790474 0 36.5808 units box
#the -.001 in the -x and -y and lower limit of region 1 are only to overcome a simple numerical issue but can be considered 0
create_box 	1 whole
Created orthogonal box = (0 0 0) to (50.092067 28.920668 36.5808)
  1 by 1 by 1 MPI processor grid
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms	1 region 1
Created 1400 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms 	1 region 2
Created 1800 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds

# --------------------- FORCE FIELDS ---------------------
#Provide potential
pair_style      eam/alloy ### --> TYPE OF POTENTIAL (eam (OR) eam/alloy)
pair_coeff      *  *  CuAg.eam.alloy Ag  ### POTENTIAL FILENAME


# --------------------- SETTINGS ---------------------

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.411 | 5.411 | 5.411 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press          Volume    
         0   0             -8963.0005      0             -8963.0005     -5973.3391      51324.051    
        30   0             -8964.0763      0             -8964.0763     -3443.7334      51324.051    
Loop time of 0.302888 on 1 procs for 30 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -8963.00049826424  -8964.07633391507  -8964.07633391507
  Force two-norm initial, final = 3.47643 4.9599618e-07
  Force max component initial, final = 0.12627393 1.6676942e-08
  Final line search alpha, max atom move = 0.5 8.3384712e-09
  Iterations, force evaluations = 30 60

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.29833    | 0.29833    | 0.29833    |   0.0 | 98.49
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00094218 | 0.00094218 | 0.00094218 |   0.0 |  0.31
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0.00056721 | 0.00056721 | 0.00056721 |   0.0 |  0.19
Other   |            | 0.003054   |            |       |  1.01

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0

compute 	peratom all pe/atom
compute 	eatoms all reduce sum c_peratom
compute 	csym all centro/atom fcc
thermo 		10
thermo_style 	custom step temp pe c_eatoms pxx pyy pzz lx ly lz fnorm
#dump 		1 all custom 1 dump.relax.1.* id type xs ys zs c_peratom c_csym
run 0
WARNING: No fixes with time integration, atoms won't move (../verlet.cpp:60)
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 9
  2 neighbor lists, perpetual/occasional/extra = 1 1 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
  (2) compute centro/atom, occasional
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.042 | 5.042 | 5.042 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8964.0763     -8964.0763     -5177.9056     -5177.9056     -0.0070721536   50.092067      28.920668      35.343537      4.9599618e-07
Loop time of 9.3e-07 on 1 procs for 0 steps with 3200 atoms

107.5% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0          | 0          | 0          |   0.0 |  0.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0          | 0          | 0          |   0.0 |  0.00
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 9.3e-07    |            |       |100.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0
#this command creates a model of the script before the displacement and minimization occur
variable 	E equal "c_eatoms"
variable 	Eo equal $E
variable 	Eo equal -8964.07633391985
#variable 	E equal "c_eatoms" computes the initial energy of the model before any sliding is done
#E is necessary to store the initial energy in Eo

group 		bot region 1
1400 atoms in group bot
group 		top region 2
1800 atoms in group top
group 		top2 region 3
1400 atoms in group top2

displace_atoms 	top move ${x_displace} 0.0 0.0 units box
displace_atoms 	top move -1.66973556737869 0.0 0.0 units box
Displacing atoms ...

#displace_atoms is the command neccessary to move atoms into the next stacking arrangement (ie: A -> B)

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8962.3211     -8962.3211     -5591.7202     -5591.7202     -1576.99        50.092067      28.920668      35.343537      0.73964576   
        40   0             -8962.4682     -8962.4682     -4916.0068     -4916.0068     -147.92622      50.092067      28.920668      35.343537      0.079250389  
        50   0             -8962.4707     -8962.4707     -4849.2612     -4849.2612      2.0166763      50.092067      28.920668      35.343537      0.00021490913
        60   0             -8962.4707     -8962.4707     -4850.1594     -4850.1594      0.0068087804   50.092067      28.920668      35.343537      8.3903308e-06
        70   0             -8962.4707     -8962.4707     -4850.1627     -4850.1627     -0.0011681215   50.092067      28.920668      35.343537      1.9069354e-07
        76   0             -8962.4707     -8962.4707     -4850.1622     -4850.1622      1.4367245e-06  50.092067      28.920668      35.343537      8.8399799e-09
Loop time of 0.476629 on 1 procs for 46 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.32106258411  -8962.47074017725   -8962.4707401783
  Force two-norm initial, final = 0.73964576 8.8399799e-09
  Force max component initial, final = 0.026316509 2.9932082e-10
  Final line search alpha, max atom move = 1 2.9932082e-10
  Iterations, force evaluations = 46 92

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.46934    | 0.46934    | 0.46934    |   0.0 | 98.47
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0014727  | 0.0014727  | 0.0014727  |   0.0 |  0.31
Output  | 0.00023153 | 0.00023153 | 0.00023153 |   0.0 |  0.05
Modify  | 0.00087307 | 0.00087307 | 0.00087307 |   0.0 |  0.18
Other   |            | 0.004711   |            |       |  0.99

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

displace_atoms 	all random ${atomjiggle} ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 1e-05 87287 units box
Displacing atoms ...
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        76   0             -8962.4707     -8962.4707     -4855.1497     -4855.1298     -0.00096622144  50.092067      28.920668      35.307298      0.0018569171 
        80   0             -8962.4707     -8962.4707     -4855.1555     -4855.1356     -0.011779125    50.092067      28.920668      35.307298      6.5723427e-05
        90   0             -8962.4707     -8962.4707     -4855.1531     -4855.1332     -0.0063900344   50.092067      28.920668      35.307298      5.3695965e-06
       100   0             -8962.4707     -8962.4707     -4855.1507     -4855.1309     -0.0011512521   50.092067      28.920668      35.307298      5.7223554e-07
       110   0             -8962.4707     -8962.4707     -4855.1503     -4855.1304     -0.00012465594  50.092067      28.920668      35.307298      9.0409633e-08
       119   0             -8962.4707     -8962.4707     -4855.1502     -4855.1304     -6.5769993e-06  50.092067      28.920668      35.307298      8.8373301e-09
Loop time of 0.459125 on 1 procs for 43 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.47073941504  -8962.47073971322  -8962.47073971329
  Force two-norm initial, final = 0.0018569171 8.8373301e-09
  Force max component initial, final = 9.7625584e-05 5.3059648e-10
  Final line search alpha, max atom move = 1 5.3059648e-10
  Iterations, force evaluations = 43 86

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.45223    | 0.45223    | 0.45223    |   0.0 | 98.50
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0013599  | 0.0013599  | 0.0013599  |   0.0 |  0.30
Output  | 0.00023307 | 0.00023307 | 0.00023307 |   0.0 |  0.05
Modify  | 0.00080385 | 0.00080385 | 0.00080385 |   0.0 |  0.18
Other   |            | 0.0045     |            |       |  0.98

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Ef equal "c_eatoms"
variable 	Efo equal $Ef
variable 	Efo equal -8962.47073971326f
variable	Cf equal 1.60217657e-16
variable 	A equal (${xdim}*${ydim})*1e-20
variable 	A equal (50.0920670213607*${ydim})*1e-20
variable 	A equal (50.0920670213607*28.9206683790474)*1e-20
variable 	SFE equal ((${Ef}-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/1.44869605874579e-17
variable 	Efomj equal ${Ef}*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/1.44869605874579e-17

####################################
print "Initial energy of atoms = ${Eo} eV"
Initial energy of atoms = -8964.07633391985 eV
print "Initial energy before twinning Efo = ${Ef} $Efomj" # in SFE in mJ/m^2"
Initial energy before twinning Efo = -8962.47073971326 -8962.47073971326fomj

#----------- for twin fault energy -----------------------
variable	Ndiscrt equal 30
variable    	i loop ${Ndiscrt}
variable    	i loop 30
label       	loop

variable 	xt_displace equal -1*(${latparam1}/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*20/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*20/30)
variable 	Bxt_displace equal 1.0+${i}/${Ndiscrt}
variable 	Bxt_displace equal 1.0+20/${Ndiscrt}
variable 	Bxt_displace equal 1.0+20/30

displace_atoms 	top2 move ${xt_displace} 0.0 0.0 units box
displace_atoms 	top2 move -1.11315704491913 0.0 0.0 units box
Displacing atoms ...

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
       119   0             -8953.1272     -8953.1272     -7151.6383     -2764.454       1953.3         50.092067      28.920668      35.307297      3.4467026    
       120   0             -8953.5966     -8953.5966     -6753.1577     -3182.9197      1332.767       50.092067      28.920668      35.307297      1.2428828    
       130   0             -8953.73       -8953.73       -7241.061      -3677.098       248.04099      50.092067      28.920668      35.307297      0.11041378   
       140   0             -8953.7331     -8953.7331     -7349.1064     -3786.383       3.4133884      50.092067      28.920668      35.307297      0.00030308461
       150   0             -8953.7331     -8953.7331     -7350.5949     -3787.935       0.0035426503   50.092067      28.920668      35.307297      1.9395057e-05
       160   0             -8953.7331     -8953.7331     -7350.5949     -3787.9378     -0.00082200046  50.092067      28.920668      35.307297      6.0694001e-07
       169   0             -8953.7331     -8953.7331     -7350.595      -3787.9379     -0.0010663085   50.092067      28.920668      35.307297      2.7875194e-07
Loop time of 0.539367 on 1 procs for 50 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
      -8953.1271644361  -8953.73311886304  -8953.73311886304
  Force two-norm initial, final = 3.4467026 2.7875194e-07
  Force max component initial, final = 0.17201229 1.6061327e-08
  Final line search alpha, max atom move = 0.5 8.0306637e-09
  Iterations, force evaluations = 50 100

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.53138    | 0.53138    | 0.53138    |   0.0 | 98.52
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0015704  | 0.0015704  | 0.0015704  |   0.0 |  0.29
Output  | 0.00029367 | 0.00029367 | 0.00029367 |   0.0 |  0.05
Modify  | 0.00093553 | 0.00093553 | 0.00093553 |   0.0 |  0.17
Other   |            | 0.00519    |            |       |  0.96

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3357 ave        3357 max        3357 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         196600 ave      196600 max      196600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 196600
Ave neighs/atom = 61.4375
Neighbor list builds = 0
Dangerous builds = 0

variable 	Eftwn equal "c_eatoms"
variable 	Eftwnmj equal ${Eftwn}*${Cf}/${A}
variable 	Eftwnmj equal -8953.73311886304*${Cf}/${A}
variable 	Eftwnmj equal -8953.73311886304*1.60217657e-16/${A}
variable 	Eftwnmj equal -8953.73311886304*1.60217657e-16/1.44869605874579e-17
variable 	TFEf equal ${Eftwnmj}-${Efomj}
variable 	TFEf equal -99023.2653044903-${Efomj}
variable 	TFEf equal -99023.2653044903--99119.8984893413

print 		"displacement and TFE = ${Bxt_displace} ${TFEf}" # in SFE in mJ/m^2"
displacement and TFE = 1.66666666666667 96.6331848510017

next 		i
jump		TFE_displacement1.lmpin
#####################################################################################################################
# Course: Theory, Modelling, and Simulation of Microstructures (TMS)
# Tutors: Dr. Arun Prakash
# Description: Input file for Twin Fault Energy (TFE) of your element
# Originally created by Richard Glaze, 2014. Modified by S. Roy, 2018
######################################################################################################################

# --------------------- INITIALIZAITION ---------------------


clear
units		metal
dimension	3
boundary	p p s
atom_style	atomic
variable 	latparam1 equal 4.09000014545435    ### provide the lattice constant from your calculation
variable 	x_displace equal -1*(${latparam1}/sqrt(6))
variable 	x_displace equal -1*(4.09000014545435/sqrt(6))
variable 	xdim equal ${latparam1}*sqrt(6)/2*10
variable 	xdim equal 4.09000014545435*sqrt(6)/2*10
variable 	ydim equal ${latparam1}*sqrt(2)/2*10
variable 	ydim equal 4.09000014545435*sqrt(2)/2*10
variable 	atomjiggle equal 1.0e-5
variable 	Bx_displace equal 1.0

# --------------------- ATOM DEFINITION ---------------------
lattice		fcc ${latparam1}
lattice		fcc 4.09000014545435
Lattice spacing in x,y,z = 4.0900001 4.0900001 4.0900001
region		1 block -.001 ${xdim} -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 28.9206683790474 -.001 16.5 units box
region 		2 block -.001 ${xdim} -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 28.9206683790474 16.5 36.5808 units box
region 		3 block -.001 ${xdim} -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 28.9206683790474 19.5 36.5808 units box
region		whole block 0 ${xdim} 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 28.9206683790474 0 36.5808 units box
#the -.001 in the -x and -y and lower limit of region 1 are only to overcome a simple numerical issue but can be considered 0
create_box 	1 whole
Created orthogonal box = (0 0 0) to (50.092067 28.920668 36.5808)
  1 by 1 by 1 MPI processor grid
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms	1 region 1
Created 1400 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms 	1 region 2
Created 1800 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds

# --------------------- FORCE FIELDS ---------------------
#Provide potential
pair_style      eam/alloy ### --> TYPE OF POTENTIAL (eam (OR) eam/alloy)
pair_coeff      *  *  CuAg.eam.alloy Ag  ### POTENTIAL FILENAME


# --------------------- SETTINGS ---------------------

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.411 | 5.411 | 5.411 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press          Volume    
         0   0             -8963.0005      0             -8963.0005     -5973.3391      51324.051    
        30   0             -8964.0763      0             -8964.0763     -3443.7334      51324.051    
Loop time of 0.30488 on 1 procs for 30 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -8963.00049826424  -8964.07633391507  -8964.07633391507
  Force two-norm initial, final = 3.47643 4.9599618e-07
  Force max component initial, final = 0.12627393 1.6676942e-08
  Final line search alpha, max atom move = 0.5 8.3384712e-09
  Iterations, force evaluations = 30 60

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.30036    | 0.30036    | 0.30036    |   0.0 | 98.52
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00093662 | 0.00093662 | 0.00093662 |   0.0 |  0.31
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0.00057613 | 0.00057613 | 0.00057613 |   0.0 |  0.19
Other   |            | 0.003005   |            |       |  0.99

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0

compute 	peratom all pe/atom
compute 	eatoms all reduce sum c_peratom
compute 	csym all centro/atom fcc
thermo 		10
thermo_style 	custom step temp pe c_eatoms pxx pyy pzz lx ly lz fnorm
#dump 		1 all custom 1 dump.relax.1.* id type xs ys zs c_peratom c_csym
run 0
WARNING: No fixes with time integration, atoms won't move (../verlet.cpp:60)
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 9
  2 neighbor lists, perpetual/occasional/extra = 1 1 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
  (2) compute centro/atom, occasional
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.042 | 5.042 | 5.042 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8964.0763     -8964.0763     -5177.9056     -5177.9056     -0.0070721536   50.092067      28.920668      35.343537      4.9599618e-07
Loop time of 9.22e-07 on 1 procs for 0 steps with 3200 atoms

216.9% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0          | 0          | 0          |   0.0 |  0.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0          | 0          | 0          |   0.0 |  0.00
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 9.22e-07   |            |       |100.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0
#this command creates a model of the script before the displacement and minimization occur
variable 	E equal "c_eatoms"
variable 	Eo equal $E
variable 	Eo equal -8964.07633391985
#variable 	E equal "c_eatoms" computes the initial energy of the model before any sliding is done
#E is necessary to store the initial energy in Eo

group 		bot region 1
1400 atoms in group bot
group 		top region 2
1800 atoms in group top
group 		top2 region 3
1400 atoms in group top2

displace_atoms 	top move ${x_displace} 0.0 0.0 units box
displace_atoms 	top move -1.66973556737869 0.0 0.0 units box
Displacing atoms ...

#displace_atoms is the command neccessary to move atoms into the next stacking arrangement (ie: A -> B)

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8962.3211     -8962.3211     -5591.7202     -5591.7202     -1576.99        50.092067      28.920668      35.343537      0.73964576   
        40   0             -8962.4682     -8962.4682     -4916.0068     -4916.0068     -147.92622      50.092067      28.920668      35.343537      0.079250389  
        50   0             -8962.4707     -8962.4707     -4849.2612     -4849.2612      2.0166763      50.092067      28.920668      35.343537      0.00021490913
        60   0             -8962.4707     -8962.4707     -4850.1594     -4850.1594      0.0068087804   50.092067      28.920668      35.343537      8.3903308e-06
        70   0             -8962.4707     -8962.4707     -4850.1627     -4850.1627     -0.0011681215   50.092067      28.920668      35.343537      1.9069354e-07
        76   0             -8962.4707     -8962.4707     -4850.1622     -4850.1622      1.4367245e-06  50.092067      28.920668      35.343537      8.8399799e-09
Loop time of 0.47832 on 1 procs for 46 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.32106258411  -8962.47074017725   -8962.4707401783
  Force two-norm initial, final = 0.73964576 8.8399799e-09
  Force max component initial, final = 0.026316509 2.9932082e-10
  Final line search alpha, max atom move = 1 2.9932082e-10
  Iterations, force evaluations = 46 92

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.47103    | 0.47103    | 0.47103    |   0.0 | 98.48
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0014562  | 0.0014562  | 0.0014562  |   0.0 |  0.30
Output  | 0.00023235 | 0.00023235 | 0.00023235 |   0.0 |  0.05
Modify  | 0.00086255 | 0.00086255 | 0.00086255 |   0.0 |  0.18
Other   |            | 0.004741   |            |       |  0.99

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

displace_atoms 	all random ${atomjiggle} ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 1e-05 87287 units box
Displacing atoms ...
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        76   0             -8962.4707     -8962.4707     -4855.1497     -4855.1298     -0.00096622144  50.092067      28.920668      35.307298      0.0018569171 
        80   0             -8962.4707     -8962.4707     -4855.1555     -4855.1356     -0.011779125    50.092067      28.920668      35.307298      6.5723427e-05
        90   0             -8962.4707     -8962.4707     -4855.1531     -4855.1332     -0.0063900344   50.092067      28.920668      35.307298      5.3695965e-06
       100   0             -8962.4707     -8962.4707     -4855.1507     -4855.1309     -0.0011512521   50.092067      28.920668      35.307298      5.7223554e-07
       110   0             -8962.4707     -8962.4707     -4855.1503     -4855.1304     -0.00012465594  50.092067      28.920668      35.307298      9.0409633e-08
       119   0             -8962.4707     -8962.4707     -4855.1502     -4855.1304     -6.5769993e-06  50.092067      28.920668      35.307298      8.8373301e-09
Loop time of 0.460306 on 1 procs for 43 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.47073941504  -8962.47073971322  -8962.47073971329
  Force two-norm initial, final = 0.0018569171 8.8373301e-09
  Force max component initial, final = 9.7625584e-05 5.3059648e-10
  Final line search alpha, max atom move = 1 5.3059648e-10
  Iterations, force evaluations = 43 86

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.45347    | 0.45347    | 0.45347    |   0.0 | 98.51
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0013808  | 0.0013808  | 0.0013808  |   0.0 |  0.30
Output  | 0.00023338 | 0.00023338 | 0.00023338 |   0.0 |  0.05
Modify  | 0.00081847 | 0.00081847 | 0.00081847 |   0.0 |  0.18
Other   |            | 0.004404   |            |       |  0.96

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Ef equal "c_eatoms"
variable 	Efo equal $Ef
variable 	Efo equal -8962.47073971326f
variable	Cf equal 1.60217657e-16
variable 	A equal (${xdim}*${ydim})*1e-20
variable 	A equal (50.0920670213607*${ydim})*1e-20
variable 	A equal (50.0920670213607*28.9206683790474)*1e-20
variable 	SFE equal ((${Ef}-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/1.44869605874579e-17
variable 	Efomj equal ${Ef}*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/1.44869605874579e-17

####################################
print "Initial energy of atoms = ${Eo} eV"
Initial energy of atoms = -8964.07633391985 eV
print "Initial energy before twinning Efo = ${Ef} $Efomj" # in SFE in mJ/m^2"
Initial energy before twinning Efo = -8962.47073971326 -8962.47073971326fomj

#----------- for twin fault energy -----------------------
variable	Ndiscrt equal 30
variable    	i loop ${Ndiscrt}
variable    	i loop 30
label       	loop

variable 	xt_displace equal -1*(${latparam1}/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*21/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*21/30)
variable 	Bxt_displace equal 1.0+${i}/${Ndiscrt}
variable 	Bxt_displace equal 1.0+21/${Ndiscrt}
variable 	Bxt_displace equal 1.0+21/30

displace_atoms 	top2 move ${xt_displace} 0.0 0.0 units box
displace_atoms 	top2 move -1.16881489716508 0.0 0.0 units box
Displacing atoms ...

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
       119   0             -8954.0505     -8954.0505     -7061.4371     -2994.4315      1466.2956      50.092067      28.920668      35.307297      2.8722726    
       120   0             -8954.3937     -8954.3937     -6761.4953     -3312.384       1022.902       50.092067      28.920668      35.307297      0.95944742   
       130   0             -8954.476      -8954.476      -7159.0805     -3721.8435      130.504        50.092067      28.920668      35.307297      0.072178335  
       140   0             -8954.4775     -8954.4775     -7214.3482     -3782.4196     -2.646484       50.092067      28.920668      35.307297      0.00025321579
       150   0             -8954.4775     -8954.4775     -7213.1878     -3781.2157      0.0071192865   50.092067      28.920668      35.307297      3.1989016e-06
       160   0             -8954.4775     -8954.4775     -7213.1911     -3781.2197     -0.0012534748   50.092067      28.920668      35.307297      2.278239e-07 
       161   0             -8954.4775     -8954.4775     -7213.1911     -3781.2197     -0.0012534748   50.092067      28.920668      35.307297      2.278239e-07 
Loop time of 0.455166 on 1 procs for 42 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -8954.05048009952  -8954.47748346822  -8954.47748346822
  Force two-norm initial, final = 2.8722726 2.278239e-07
  Force max component initial, final = 0.14310474 1.2941737e-08
  Final line search alpha, max atom move = 0.5 6.4708687e-09
  Iterations, force evaluations = 42 84

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.44843    | 0.44843    | 0.44843    |   0.0 | 98.52
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0013258  | 0.0013258  | 0.0013258  |   0.0 |  0.29
Output  | 0.00029412 | 0.00029412 | 0.00029412 |   0.0 |  0.06
Modify  | 0.00078808 | 0.00078808 | 0.00078808 |   0.0 |  0.17
Other   |            | 0.004324   |            |       |  0.95

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3357 ave        3357 max        3357 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         196600 ave      196600 max      196600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 196600
Ave neighs/atom = 61.4375
Neighbor list builds = 0
Dangerous builds = 0

variable 	Eftwn equal "c_eatoms"
variable 	Eftwnmj equal ${Eftwn}*${Cf}/${A}
variable 	Eftwnmj equal -8954.47748346823*${Cf}/${A}
variable 	Eftwnmj equal -8954.47748346823*1.60217657e-16/${A}
variable 	Eftwnmj equal -8954.47748346823*1.60217657e-16/1.44869605874579e-17
variable 	TFEf equal ${Eftwnmj}-${Efomj}
variable 	TFEf equal -99031.4975594397-${Efomj}
variable 	TFEf equal -99031.4975594397--99119.8984893413

print 		"displacement and TFE = ${Bxt_displace} ${TFEf}" # in SFE in mJ/m^2"
displacement and TFE = 1.7 88.4009299016034

next 		i
jump		TFE_displacement1.lmpin
#####################################################################################################################
# Course: Theory, Modelling, and Simulation of Microstructures (TMS)
# Tutors: Dr. Arun Prakash
# Description: Input file for Twin Fault Energy (TFE) of your element
# Originally created by Richard Glaze, 2014. Modified by S. Roy, 2018
######################################################################################################################

# --------------------- INITIALIZAITION ---------------------


clear
units		metal
dimension	3
boundary	p p s
atom_style	atomic
variable 	latparam1 equal 4.09000014545435    ### provide the lattice constant from your calculation
variable 	x_displace equal -1*(${latparam1}/sqrt(6))
variable 	x_displace equal -1*(4.09000014545435/sqrt(6))
variable 	xdim equal ${latparam1}*sqrt(6)/2*10
variable 	xdim equal 4.09000014545435*sqrt(6)/2*10
variable 	ydim equal ${latparam1}*sqrt(2)/2*10
variable 	ydim equal 4.09000014545435*sqrt(2)/2*10
variable 	atomjiggle equal 1.0e-5
variable 	Bx_displace equal 1.0

# --------------------- ATOM DEFINITION ---------------------
lattice		fcc ${latparam1}
lattice		fcc 4.09000014545435
Lattice spacing in x,y,z = 4.0900001 4.0900001 4.0900001
region		1 block -.001 ${xdim} -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 28.9206683790474 -.001 16.5 units box
region 		2 block -.001 ${xdim} -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 28.9206683790474 16.5 36.5808 units box
region 		3 block -.001 ${xdim} -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 28.9206683790474 19.5 36.5808 units box
region		whole block 0 ${xdim} 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 28.9206683790474 0 36.5808 units box
#the -.001 in the -x and -y and lower limit of region 1 are only to overcome a simple numerical issue but can be considered 0
create_box 	1 whole
Created orthogonal box = (0 0 0) to (50.092067 28.920668 36.5808)
  1 by 1 by 1 MPI processor grid
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms	1 region 1
Created 1400 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms 	1 region 2
Created 1800 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds

# --------------------- FORCE FIELDS ---------------------
#Provide potential
pair_style      eam/alloy ### --> TYPE OF POTENTIAL (eam (OR) eam/alloy)
pair_coeff      *  *  CuAg.eam.alloy Ag  ### POTENTIAL FILENAME


# --------------------- SETTINGS ---------------------

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.411 | 5.411 | 5.411 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press          Volume    
         0   0             -8963.0005      0             -8963.0005     -5973.3391      51324.051    
        30   0             -8964.0763      0             -8964.0763     -3443.7334      51324.051    
Loop time of 0.301164 on 1 procs for 30 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -8963.00049826424  -8964.07633391507  -8964.07633391507
  Force two-norm initial, final = 3.47643 4.9599618e-07
  Force max component initial, final = 0.12627393 1.6676942e-08
  Final line search alpha, max atom move = 0.5 8.3384712e-09
  Iterations, force evaluations = 30 60

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.29663    | 0.29663    | 0.29663    |   0.0 | 98.49
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.000945   | 0.000945   | 0.000945   |   0.0 |  0.31
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0.00056275 | 0.00056275 | 0.00056275 |   0.0 |  0.19
Other   |            | 0.003031   |            |       |  1.01

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0

compute 	peratom all pe/atom
compute 	eatoms all reduce sum c_peratom
compute 	csym all centro/atom fcc
thermo 		10
thermo_style 	custom step temp pe c_eatoms pxx pyy pzz lx ly lz fnorm
#dump 		1 all custom 1 dump.relax.1.* id type xs ys zs c_peratom c_csym
run 0
WARNING: No fixes with time integration, atoms won't move (../verlet.cpp:60)
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 9
  2 neighbor lists, perpetual/occasional/extra = 1 1 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
  (2) compute centro/atom, occasional
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.042 | 5.042 | 5.042 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8964.0763     -8964.0763     -5177.9056     -5177.9056     -0.0070721536   50.092067      28.920668      35.343537      4.9599618e-07
Loop time of 9.02e-07 on 1 procs for 0 steps with 3200 atoms

110.9% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0          | 0          | 0          |   0.0 |  0.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0          | 0          | 0          |   0.0 |  0.00
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 9.02e-07   |            |       |100.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0
#this command creates a model of the script before the displacement and minimization occur
variable 	E equal "c_eatoms"
variable 	Eo equal $E
variable 	Eo equal -8964.07633391985
#variable 	E equal "c_eatoms" computes the initial energy of the model before any sliding is done
#E is necessary to store the initial energy in Eo

group 		bot region 1
1400 atoms in group bot
group 		top region 2
1800 atoms in group top
group 		top2 region 3
1400 atoms in group top2

displace_atoms 	top move ${x_displace} 0.0 0.0 units box
displace_atoms 	top move -1.66973556737869 0.0 0.0 units box
Displacing atoms ...

#displace_atoms is the command neccessary to move atoms into the next stacking arrangement (ie: A -> B)

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8962.3211     -8962.3211     -5591.7202     -5591.7202     -1576.99        50.092067      28.920668      35.343537      0.73964576   
        40   0             -8962.4682     -8962.4682     -4916.0068     -4916.0068     -147.92622      50.092067      28.920668      35.343537      0.079250389  
        50   0             -8962.4707     -8962.4707     -4849.2612     -4849.2612      2.0166763      50.092067      28.920668      35.343537      0.00021490913
        60   0             -8962.4707     -8962.4707     -4850.1594     -4850.1594      0.0068087804   50.092067      28.920668      35.343537      8.3903308e-06
        70   0             -8962.4707     -8962.4707     -4850.1627     -4850.1627     -0.0011681215   50.092067      28.920668      35.343537      1.9069354e-07
        76   0             -8962.4707     -8962.4707     -4850.1622     -4850.1622      1.4367245e-06  50.092067      28.920668      35.343537      8.8399799e-09
Loop time of 0.478593 on 1 procs for 46 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.32106258411  -8962.47074017725   -8962.4707401783
  Force two-norm initial, final = 0.73964576 8.8399799e-09
  Force max component initial, final = 0.026316509 2.9932082e-10
  Final line search alpha, max atom move = 1 2.9932082e-10
  Iterations, force evaluations = 46 92

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.47127    | 0.47127    | 0.47127    |   0.0 | 98.47
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0014411  | 0.0014411  | 0.0014411  |   0.0 |  0.30
Output  | 0.00024799 | 0.00024799 | 0.00024799 |   0.0 |  0.05
Modify  | 0.00085643 | 0.00085643 | 0.00085643 |   0.0 |  0.18
Other   |            | 0.004782   |            |       |  1.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

displace_atoms 	all random ${atomjiggle} ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 1e-05 87287 units box
Displacing atoms ...
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        76   0             -8962.4707     -8962.4707     -4855.1497     -4855.1298     -0.00096622144  50.092067      28.920668      35.307298      0.0018569171 
        80   0             -8962.4707     -8962.4707     -4855.1555     -4855.1356     -0.011779125    50.092067      28.920668      35.307298      6.5723427e-05
        90   0             -8962.4707     -8962.4707     -4855.1531     -4855.1332     -0.0063900344   50.092067      28.920668      35.307298      5.3695965e-06
       100   0             -8962.4707     -8962.4707     -4855.1507     -4855.1309     -0.0011512521   50.092067      28.920668      35.307298      5.7223554e-07
       110   0             -8962.4707     -8962.4707     -4855.1503     -4855.1304     -0.00012465594  50.092067      28.920668      35.307298      9.0409633e-08
       119   0             -8962.4707     -8962.4707     -4855.1502     -4855.1304     -6.5769993e-06  50.092067      28.920668      35.307298      8.8373301e-09
Loop time of 0.463271 on 1 procs for 43 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.47073941504  -8962.47073971322  -8962.47073971329
  Force two-norm initial, final = 0.0018569171 8.8373301e-09
  Force max component initial, final = 9.7625584e-05 5.3059648e-10
  Final line search alpha, max atom move = 1 5.3059648e-10
  Iterations, force evaluations = 43 86

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.45635    | 0.45635    | 0.45635    |   0.0 | 98.51
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0013639  | 0.0013639  | 0.0013639  |   0.0 |  0.29
Output  | 0.00024748 | 0.00024748 | 0.00024748 |   0.0 |  0.05
Modify  | 0.00081653 | 0.00081653 | 0.00081653 |   0.0 |  0.18
Other   |            | 0.004493   |            |       |  0.97

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Ef equal "c_eatoms"
variable 	Efo equal $Ef
variable 	Efo equal -8962.47073971326f
variable	Cf equal 1.60217657e-16
variable 	A equal (${xdim}*${ydim})*1e-20
variable 	A equal (50.0920670213607*${ydim})*1e-20
variable 	A equal (50.0920670213607*28.9206683790474)*1e-20
variable 	SFE equal ((${Ef}-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/1.44869605874579e-17
variable 	Efomj equal ${Ef}*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/1.44869605874579e-17

####################################
print "Initial energy of atoms = ${Eo} eV"
Initial energy of atoms = -8964.07633391985 eV
print "Initial energy before twinning Efo = ${Ef} $Efomj" # in SFE in mJ/m^2"
Initial energy before twinning Efo = -8962.47073971326 -8962.47073971326fomj

#----------- for twin fault energy -----------------------
variable	Ndiscrt equal 30
variable    	i loop ${Ndiscrt}
variable    	i loop 30
label       	loop

variable 	xt_displace equal -1*(${latparam1}/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*22/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*22/30)
variable 	Bxt_displace equal 1.0+${i}/${Ndiscrt}
variable 	Bxt_displace equal 1.0+22/${Ndiscrt}
variable 	Bxt_displace equal 1.0+22/30

displace_atoms 	top2 move ${xt_displace} 0.0 0.0 units box
displace_atoms 	top2 move -1.22447274941104 0.0 0.0 units box
Displacing atoms ...

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.293 | 6.293 | 6.293 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
       119   0             -8955.0416     -8955.0416     -6932.7258     -3242.5254      956.44164      50.092067      28.920668      35.307297      2.2819392    
       120   0             -8955.2719     -8955.2719     -6723.92       -3461.268       680.10757      50.092067      28.920668      35.307297      0.6601848    
       130   0             -8955.3124     -8955.3124     -6977.2053     -3737.752       89.974936      50.092067      28.920668      35.307297      0.04766413   
       140   0             -8955.3131     -8955.3131     -7017.2623     -3778.3724     -1.0159893      50.092067      28.920668      35.307297      0.00011594761
       150   0             -8955.3131     -8955.3131     -7016.8862     -3777.9691     -0.14087827     50.092067      28.920668      35.307297      1.7876876e-05
       160   0             -8955.3131     -8955.3131     -7016.8283     -3777.9082     -0.0069743213   50.092067      28.920668      35.307297      6.6002464e-07
       170   0             -8955.3131     -8955.3131     -7016.825      -3777.9049      0.00038771014  50.092067      28.920668      35.307297      2.1769589e-07
       171   0             -8955.3131     -8955.3131     -7016.825      -3777.9049      0.00038771014  50.092067      28.920668      35.307297      2.1769589e-07
Loop time of 0.557387 on 1 procs for 52 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
      -8955.0416280185  -8955.31306881247  -8955.31306881247
  Force two-norm initial, final = 2.2819392 2.1769589e-07
  Force max component initial, final = 0.1132473 1.343303e-08
  Final line search alpha, max atom move = 0.5 6.7165151e-09
  Iterations, force evaluations = 52 103

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.54906    | 0.54906    | 0.54906    |   0.0 | 98.51
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0016715  | 0.0016715  | 0.0016715  |   0.0 |  0.30
Output  | 0.00035941 | 0.00035941 | 0.00035941 |   0.0 |  0.06
Modify  | 0.00099561 | 0.00099561 | 0.00099561 |   0.0 |  0.18
Other   |            | 0.005301   |            |       |  0.95

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3389 ave        3389 max        3389 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         196600 ave      196600 max      196600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 196600
Ave neighs/atom = 61.4375
Neighbor list builds = 0
Dangerous builds = 0

variable 	Eftwn equal "c_eatoms"
variable 	Eftwnmj equal ${Eftwn}*${Cf}/${A}
variable 	Eftwnmj equal -8955.31306881236*${Cf}/${A}
variable 	Eftwnmj equal -8955.31306881236*1.60217657e-16/${A}
variable 	Eftwnmj equal -8955.31306881236*1.60217657e-16/1.44869605874579e-17
variable 	TFEf equal ${Eftwnmj}-${Efomj}
variable 	TFEf equal -99040.7386645875-${Efomj}
variable 	TFEf equal -99040.7386645875--99119.8984893413

print 		"displacement and TFE = ${Bxt_displace} ${TFEf}" # in SFE in mJ/m^2"
displacement and TFE = 1.73333333333333 79.1598247538059

next 		i
jump		TFE_displacement1.lmpin
#####################################################################################################################
# Course: Theory, Modelling, and Simulation of Microstructures (TMS)
# Tutors: Dr. Arun Prakash
# Description: Input file for Twin Fault Energy (TFE) of your element
# Originally created by Richard Glaze, 2014. Modified by S. Roy, 2018
######################################################################################################################

# --------------------- INITIALIZAITION ---------------------


clear
units		metal
dimension	3
boundary	p p s
atom_style	atomic
variable 	latparam1 equal 4.09000014545435    ### provide the lattice constant from your calculation
variable 	x_displace equal -1*(${latparam1}/sqrt(6))
variable 	x_displace equal -1*(4.09000014545435/sqrt(6))
variable 	xdim equal ${latparam1}*sqrt(6)/2*10
variable 	xdim equal 4.09000014545435*sqrt(6)/2*10
variable 	ydim equal ${latparam1}*sqrt(2)/2*10
variable 	ydim equal 4.09000014545435*sqrt(2)/2*10
variable 	atomjiggle equal 1.0e-5
variable 	Bx_displace equal 1.0

# --------------------- ATOM DEFINITION ---------------------
lattice		fcc ${latparam1}
lattice		fcc 4.09000014545435
Lattice spacing in x,y,z = 4.0900001 4.0900001 4.0900001
region		1 block -.001 ${xdim} -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 28.9206683790474 -.001 16.5 units box
region 		2 block -.001 ${xdim} -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 28.9206683790474 16.5 36.5808 units box
region 		3 block -.001 ${xdim} -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 28.9206683790474 19.5 36.5808 units box
region		whole block 0 ${xdim} 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 28.9206683790474 0 36.5808 units box
#the -.001 in the -x and -y and lower limit of region 1 are only to overcome a simple numerical issue but can be considered 0
create_box 	1 whole
Created orthogonal box = (0 0 0) to (50.092067 28.920668 36.5808)
  1 by 1 by 1 MPI processor grid
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms	1 region 1
Created 1400 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms 	1 region 2
Created 1800 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds

# --------------------- FORCE FIELDS ---------------------
#Provide potential
pair_style      eam/alloy ### --> TYPE OF POTENTIAL (eam (OR) eam/alloy)
pair_coeff      *  *  CuAg.eam.alloy Ag  ### POTENTIAL FILENAME


# --------------------- SETTINGS ---------------------

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.411 | 5.411 | 5.411 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press          Volume    
         0   0             -8963.0005      0             -8963.0005     -5973.3391      51324.051    
        30   0             -8964.0763      0             -8964.0763     -3443.7334      51324.051    
Loop time of 0.302738 on 1 procs for 30 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -8963.00049826424  -8964.07633391507  -8964.07633391507
  Force two-norm initial, final = 3.47643 4.9599618e-07
  Force max component initial, final = 0.12627393 1.6676942e-08
  Final line search alpha, max atom move = 0.5 8.3384712e-09
  Iterations, force evaluations = 30 60

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.29823    | 0.29823    | 0.29823    |   0.0 | 98.51
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00094145 | 0.00094145 | 0.00094145 |   0.0 |  0.31
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0.00056173 | 0.00056173 | 0.00056173 |   0.0 |  0.19
Other   |            | 0.00301    |            |       |  0.99

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0

compute 	peratom all pe/atom
compute 	eatoms all reduce sum c_peratom
compute 	csym all centro/atom fcc
thermo 		10
thermo_style 	custom step temp pe c_eatoms pxx pyy pzz lx ly lz fnorm
#dump 		1 all custom 1 dump.relax.1.* id type xs ys zs c_peratom c_csym
run 0
WARNING: No fixes with time integration, atoms won't move (../verlet.cpp:60)
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 9
  2 neighbor lists, perpetual/occasional/extra = 1 1 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
  (2) compute centro/atom, occasional
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.042 | 5.042 | 5.042 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8964.0763     -8964.0763     -5177.9056     -5177.9056     -0.0070721536   50.092067      28.920668      35.343537      4.9599618e-07
Loop time of 9.29e-07 on 1 procs for 0 steps with 3200 atoms

107.6% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0          | 0          | 0          |   0.0 |  0.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0          | 0          | 0          |   0.0 |  0.00
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 9.29e-07   |            |       |100.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0
#this command creates a model of the script before the displacement and minimization occur
variable 	E equal "c_eatoms"
variable 	Eo equal $E
variable 	Eo equal -8964.07633391985
#variable 	E equal "c_eatoms" computes the initial energy of the model before any sliding is done
#E is necessary to store the initial energy in Eo

group 		bot region 1
1400 atoms in group bot
group 		top region 2
1800 atoms in group top
group 		top2 region 3
1400 atoms in group top2

displace_atoms 	top move ${x_displace} 0.0 0.0 units box
displace_atoms 	top move -1.66973556737869 0.0 0.0 units box
Displacing atoms ...

#displace_atoms is the command neccessary to move atoms into the next stacking arrangement (ie: A -> B)

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8962.3211     -8962.3211     -5591.7202     -5591.7202     -1576.99        50.092067      28.920668      35.343537      0.73964576   
        40   0             -8962.4682     -8962.4682     -4916.0068     -4916.0068     -147.92622      50.092067      28.920668      35.343537      0.079250389  
        50   0             -8962.4707     -8962.4707     -4849.2612     -4849.2612      2.0166763      50.092067      28.920668      35.343537      0.00021490913
        60   0             -8962.4707     -8962.4707     -4850.1594     -4850.1594      0.0068087804   50.092067      28.920668      35.343537      8.3903308e-06
        70   0             -8962.4707     -8962.4707     -4850.1627     -4850.1627     -0.0011681215   50.092067      28.920668      35.343537      1.9069354e-07
        76   0             -8962.4707     -8962.4707     -4850.1622     -4850.1622      1.4367245e-06  50.092067      28.920668      35.343537      8.8399799e-09
Loop time of 0.478068 on 1 procs for 46 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.32106258411  -8962.47074017725   -8962.4707401783
  Force two-norm initial, final = 0.73964576 8.8399799e-09
  Force max component initial, final = 0.026316509 2.9932082e-10
  Final line search alpha, max atom move = 1 2.9932082e-10
  Iterations, force evaluations = 46 92

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.4708     | 0.4708     | 0.4708     |   0.0 | 98.48
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0014407  | 0.0014407  | 0.0014407  |   0.0 |  0.30
Output  | 0.00023311 | 0.00023311 | 0.00023311 |   0.0 |  0.05
Modify  | 0.00087459 | 0.00087459 | 0.00087459 |   0.0 |  0.18
Other   |            | 0.004716   |            |       |  0.99

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

displace_atoms 	all random ${atomjiggle} ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 1e-05 87287 units box
Displacing atoms ...
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        76   0             -8962.4707     -8962.4707     -4855.1497     -4855.1298     -0.00096622144  50.092067      28.920668      35.307298      0.0018569171 
        80   0             -8962.4707     -8962.4707     -4855.1555     -4855.1356     -0.011779125    50.092067      28.920668      35.307298      6.5723427e-05
        90   0             -8962.4707     -8962.4707     -4855.1531     -4855.1332     -0.0063900344   50.092067      28.920668      35.307298      5.3695965e-06
       100   0             -8962.4707     -8962.4707     -4855.1507     -4855.1309     -0.0011512521   50.092067      28.920668      35.307298      5.7223554e-07
       110   0             -8962.4707     -8962.4707     -4855.1503     -4855.1304     -0.00012465594  50.092067      28.920668      35.307298      9.0409633e-08
       119   0             -8962.4707     -8962.4707     -4855.1502     -4855.1304     -6.5769993e-06  50.092067      28.920668      35.307298      8.8373301e-09
Loop time of 0.460211 on 1 procs for 43 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.47073941504  -8962.47073971322  -8962.47073971329
  Force two-norm initial, final = 0.0018569171 8.8373301e-09
  Force max component initial, final = 9.7625584e-05 5.3059648e-10
  Final line search alpha, max atom move = 1 5.3059648e-10
  Iterations, force evaluations = 43 86

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.45345    | 0.45345    | 0.45345    |   0.0 | 98.53
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0013451  | 0.0013451  | 0.0013451  |   0.0 |  0.29
Output  | 0.00023111 | 0.00023111 | 0.00023111 |   0.0 |  0.05
Modify  | 0.00080394 | 0.00080394 | 0.00080394 |   0.0 |  0.17
Other   |            | 0.004381   |            |       |  0.95

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Ef equal "c_eatoms"
variable 	Efo equal $Ef
variable 	Efo equal -8962.47073971326f
variable	Cf equal 1.60217657e-16
variable 	A equal (${xdim}*${ydim})*1e-20
variable 	A equal (50.0920670213607*${ydim})*1e-20
variable 	A equal (50.0920670213607*28.9206683790474)*1e-20
variable 	SFE equal ((${Ef}-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/1.44869605874579e-17
variable 	Efomj equal ${Ef}*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/1.44869605874579e-17

####################################
print "Initial energy of atoms = ${Eo} eV"
Initial energy of atoms = -8964.07633391985 eV
print "Initial energy before twinning Efo = ${Ef} $Efomj" # in SFE in mJ/m^2"
Initial energy before twinning Efo = -8962.47073971326 -8962.47073971326fomj

#----------- for twin fault energy -----------------------
variable	Ndiscrt equal 30
variable    	i loop ${Ndiscrt}
variable    	i loop 30
label       	loop

variable 	xt_displace equal -1*(${latparam1}/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*23/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*23/30)
variable 	Bxt_displace equal 1.0+${i}/${Ndiscrt}
variable 	Bxt_displace equal 1.0+23/${Ndiscrt}
variable 	Bxt_displace equal 1.0+23/30

displace_atoms 	top2 move ${xt_displace} 0.0 0.0 units box
displace_atoms 	top2 move -1.280130601657 0.0 0.0 units box
Displacing atoms ...

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.293 | 6.293 | 6.293 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
       119   0             -8956.0595     -8956.0595     -6774.8231     -3499.5936      451.43808      50.092067      28.920668      35.307297      1.7151847    
       120   0             -8956.1969     -8956.1969     -6641.4289     -3633.0181      308.66071      50.092067      28.920668      35.307297      0.39761653   
       130   0             -8956.2106     -8956.2106     -6743.6145     -3751.6845      62.693242      50.092067      28.920668      35.307297      0.027120976  
       140   0             -8956.2108     -8956.2108     -6769.8822     -3780.2201      0.089007722    50.092067      28.920668      35.307297      1.9504379e-05
       150   0             -8956.2108     -8956.2108     -6769.9222     -3780.2595      0.00071124479  50.092067      28.920668      35.307297      2.3366412e-06
       155   0             -8956.2108     -8956.2108     -6769.9226     -3780.26       -0.00036596831  50.092067      28.920668      35.307297      3.5556516e-07
Loop time of 0.388176 on 1 procs for 36 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -8956.05951766772  -8956.21078443227  -8956.21078443227
  Force two-norm initial, final = 1.7151847 3.5556516e-07
  Force max component initial, final = 0.084260283 1.9589479e-08
  Final line search alpha, max atom move = 0.5 9.7947393e-09
  Iterations, force evaluations = 36 72

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.38239    | 0.38239    | 0.38239    |   0.0 | 98.51
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0011541  | 0.0011541  | 0.0011541  |   0.0 |  0.30
Output  | 0.00023196 | 0.00023196 | 0.00023196 |   0.0 |  0.06
Modify  | 0.00067898 | 0.00067898 | 0.00067898 |   0.0 |  0.17
Other   |            | 0.003717   |            |       |  0.96

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3389 ave        3389 max        3389 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197000 ave      197000 max      197000 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197000
Ave neighs/atom = 61.5625
Neighbor list builds = 0
Dangerous builds = 0

variable 	Eftwn equal "c_eatoms"
variable 	Eftwnmj equal ${Eftwn}*${Cf}/${A}
variable 	Eftwnmj equal -8956.21078443233*${Cf}/${A}
variable 	Eftwnmj equal -8956.21078443233*1.60217657e-16/${A}
variable 	Eftwnmj equal -8956.21078443233*1.60217657e-16/1.44869605874579e-17
variable 	TFEf equal ${Eftwnmj}-${Efomj}
variable 	TFEf equal -99050.6668957313-${Efomj}
variable 	TFEf equal -99050.6668957313--99119.8984893413

print 		"displacement and TFE = ${Bxt_displace} ${TFEf}" # in SFE in mJ/m^2"
displacement and TFE = 1.76666666666667 69.2315936100058

next 		i
jump		TFE_displacement1.lmpin
#####################################################################################################################
# Course: Theory, Modelling, and Simulation of Microstructures (TMS)
# Tutors: Dr. Arun Prakash
# Description: Input file for Twin Fault Energy (TFE) of your element
# Originally created by Richard Glaze, 2014. Modified by S. Roy, 2018
######################################################################################################################

# --------------------- INITIALIZAITION ---------------------


clear
units		metal
dimension	3
boundary	p p s
atom_style	atomic
variable 	latparam1 equal 4.09000014545435    ### provide the lattice constant from your calculation
variable 	x_displace equal -1*(${latparam1}/sqrt(6))
variable 	x_displace equal -1*(4.09000014545435/sqrt(6))
variable 	xdim equal ${latparam1}*sqrt(6)/2*10
variable 	xdim equal 4.09000014545435*sqrt(6)/2*10
variable 	ydim equal ${latparam1}*sqrt(2)/2*10
variable 	ydim equal 4.09000014545435*sqrt(2)/2*10
variable 	atomjiggle equal 1.0e-5
variable 	Bx_displace equal 1.0

# --------------------- ATOM DEFINITION ---------------------
lattice		fcc ${latparam1}
lattice		fcc 4.09000014545435
Lattice spacing in x,y,z = 4.0900001 4.0900001 4.0900001
region		1 block -.001 ${xdim} -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 28.9206683790474 -.001 16.5 units box
region 		2 block -.001 ${xdim} -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 28.9206683790474 16.5 36.5808 units box
region 		3 block -.001 ${xdim} -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 28.9206683790474 19.5 36.5808 units box
region		whole block 0 ${xdim} 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 28.9206683790474 0 36.5808 units box
#the -.001 in the -x and -y and lower limit of region 1 are only to overcome a simple numerical issue but can be considered 0
create_box 	1 whole
Created orthogonal box = (0 0 0) to (50.092067 28.920668 36.5808)
  1 by 1 by 1 MPI processor grid
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms	1 region 1
Created 1400 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms 	1 region 2
Created 1800 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds

# --------------------- FORCE FIELDS ---------------------
#Provide potential
pair_style      eam/alloy ### --> TYPE OF POTENTIAL (eam (OR) eam/alloy)
pair_coeff      *  *  CuAg.eam.alloy Ag  ### POTENTIAL FILENAME


# --------------------- SETTINGS ---------------------

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.411 | 5.411 | 5.411 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press          Volume    
         0   0             -8963.0005      0             -8963.0005     -5973.3391      51324.051    
        30   0             -8964.0763      0             -8964.0763     -3443.7334      51324.051    
Loop time of 0.299256 on 1 procs for 30 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -8963.00049826424  -8964.07633391507  -8964.07633391507
  Force two-norm initial, final = 3.47643 4.9599618e-07
  Force max component initial, final = 0.12627393 1.6676942e-08
  Final line search alpha, max atom move = 0.5 8.3384712e-09
  Iterations, force evaluations = 30 60

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.29474    | 0.29474    | 0.29474    |   0.0 | 98.49
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00094802 | 0.00094802 | 0.00094802 |   0.0 |  0.32
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0.0005618  | 0.0005618  | 0.0005618  |   0.0 |  0.19
Other   |            | 0.003004   |            |       |  1.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0

compute 	peratom all pe/atom
compute 	eatoms all reduce sum c_peratom
compute 	csym all centro/atom fcc
thermo 		10
thermo_style 	custom step temp pe c_eatoms pxx pyy pzz lx ly lz fnorm
#dump 		1 all custom 1 dump.relax.1.* id type xs ys zs c_peratom c_csym
run 0
WARNING: No fixes with time integration, atoms won't move (../verlet.cpp:60)
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 9
  2 neighbor lists, perpetual/occasional/extra = 1 1 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
  (2) compute centro/atom, occasional
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.042 | 5.042 | 5.042 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8964.0763     -8964.0763     -5177.9056     -5177.9056     -0.0070721536   50.092067      28.920668      35.343537      4.9599618e-07
Loop time of 9.39e-07 on 1 procs for 0 steps with 3200 atoms

213.0% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0          | 0          | 0          |   0.0 |  0.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0          | 0          | 0          |   0.0 |  0.00
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 9.39e-07   |            |       |100.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0
#this command creates a model of the script before the displacement and minimization occur
variable 	E equal "c_eatoms"
variable 	Eo equal $E
variable 	Eo equal -8964.07633391985
#variable 	E equal "c_eatoms" computes the initial energy of the model before any sliding is done
#E is necessary to store the initial energy in Eo

group 		bot region 1
1400 atoms in group bot
group 		top region 2
1800 atoms in group top
group 		top2 region 3
1400 atoms in group top2

displace_atoms 	top move ${x_displace} 0.0 0.0 units box
displace_atoms 	top move -1.66973556737869 0.0 0.0 units box
Displacing atoms ...

#displace_atoms is the command neccessary to move atoms into the next stacking arrangement (ie: A -> B)

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8962.3211     -8962.3211     -5591.7202     -5591.7202     -1576.99        50.092067      28.920668      35.343537      0.73964576   
        40   0             -8962.4682     -8962.4682     -4916.0068     -4916.0068     -147.92622      50.092067      28.920668      35.343537      0.079250389  
        50   0             -8962.4707     -8962.4707     -4849.2612     -4849.2612      2.0166763      50.092067      28.920668      35.343537      0.00021490913
        60   0             -8962.4707     -8962.4707     -4850.1594     -4850.1594      0.0068087804   50.092067      28.920668      35.343537      8.3903308e-06
        70   0             -8962.4707     -8962.4707     -4850.1627     -4850.1627     -0.0011681215   50.092067      28.920668      35.343537      1.9069354e-07
        76   0             -8962.4707     -8962.4707     -4850.1622     -4850.1622      1.4367245e-06  50.092067      28.920668      35.343537      8.8399799e-09
Loop time of 0.472577 on 1 procs for 46 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.32106258411  -8962.47074017725   -8962.4707401783
  Force two-norm initial, final = 0.73964576 8.8399799e-09
  Force max component initial, final = 0.026316509 2.9932082e-10
  Final line search alpha, max atom move = 1 2.9932082e-10
  Iterations, force evaluations = 46 92

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.46533    | 0.46533    | 0.46533    |   0.0 | 98.47
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0014433  | 0.0014433  | 0.0014433  |   0.0 |  0.31
Output  | 0.00023164 | 0.00023164 | 0.00023164 |   0.0 |  0.05
Modify  | 0.00086915 | 0.00086915 | 0.00086915 |   0.0 |  0.18
Other   |            | 0.004704   |            |       |  1.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

displace_atoms 	all random ${atomjiggle} ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 1e-05 87287 units box
Displacing atoms ...
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        76   0             -8962.4707     -8962.4707     -4855.1497     -4855.1298     -0.00096622144  50.092067      28.920668      35.307298      0.0018569171 
        80   0             -8962.4707     -8962.4707     -4855.1555     -4855.1356     -0.011779125    50.092067      28.920668      35.307298      6.5723427e-05
        90   0             -8962.4707     -8962.4707     -4855.1531     -4855.1332     -0.0063900344   50.092067      28.920668      35.307298      5.3695965e-06
       100   0             -8962.4707     -8962.4707     -4855.1507     -4855.1309     -0.0011512521   50.092067      28.920668      35.307298      5.7223554e-07
       110   0             -8962.4707     -8962.4707     -4855.1503     -4855.1304     -0.00012465594  50.092067      28.920668      35.307298      9.0409633e-08
       119   0             -8962.4707     -8962.4707     -4855.1502     -4855.1304     -6.5769993e-06  50.092067      28.920668      35.307298      8.8373301e-09
Loop time of 0.456667 on 1 procs for 43 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.47073941504  -8962.47073971322  -8962.47073971329
  Force two-norm initial, final = 0.0018569171 8.8373301e-09
  Force max component initial, final = 9.7625584e-05 5.3059648e-10
  Final line search alpha, max atom move = 1 5.3059648e-10
  Iterations, force evaluations = 43 86

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.44986    | 0.44986    | 0.44986    |   0.0 | 98.51
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.001375   | 0.001375   | 0.001375   |   0.0 |  0.30
Output  | 0.00023776 | 0.00023776 | 0.00023776 |   0.0 |  0.05
Modify  | 0.00080352 | 0.00080352 | 0.00080352 |   0.0 |  0.18
Other   |            | 0.004386   |            |       |  0.96

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Ef equal "c_eatoms"
variable 	Efo equal $Ef
variable 	Efo equal -8962.47073971326f
variable	Cf equal 1.60217657e-16
variable 	A equal (${xdim}*${ydim})*1e-20
variable 	A equal (50.0920670213607*${ydim})*1e-20
variable 	A equal (50.0920670213607*28.9206683790474)*1e-20
variable 	SFE equal ((${Ef}-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/1.44869605874579e-17
variable 	Efomj equal ${Ef}*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/1.44869605874579e-17

####################################
print "Initial energy of atoms = ${Eo} eV"
Initial energy of atoms = -8964.07633391985 eV
print "Initial energy before twinning Efo = ${Ef} $Efomj" # in SFE in mJ/m^2"
Initial energy before twinning Efo = -8962.47073971326 -8962.47073971326fomj

#----------- for twin fault energy -----------------------
variable	Ndiscrt equal 30
variable    	i loop ${Ndiscrt}
variable    	i loop 30
label       	loop

variable 	xt_displace equal -1*(${latparam1}/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*24/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*24/30)
variable 	Bxt_displace equal 1.0+${i}/${Ndiscrt}
variable 	Bxt_displace equal 1.0+24/${Ndiscrt}
variable 	Bxt_displace equal 1.0+24/30

displace_atoms 	top2 move ${xt_displace} 0.0 0.0 units box
displace_atoms 	top2 move -1.33578845390295 0.0 0.0 units box
Displacing atoms ...

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
       119   0             -8957.0657     -8957.0657     -6595.512      -3758.0345     -23.425625      50.092067      28.920668      35.307297      1.2099764    
       120   0             -8957.1365     -8957.1365     -6520.199      -3827.8748     -79.907605      50.092067      28.920668      35.307297      0.1924437    
       130   0             -8957.1391     -8957.1391     -6482.4171     -3792.6495     -0.47331526     50.092067      28.920668      35.307297      0.0017590731 
       140   0             -8957.1391     -8957.1391     -6482.0887     -3792.3484      0.11742868     50.092067      28.920668      35.307297      2.4254737e-05
       150   0             -8957.1391     -8957.1391     -6482.1394     -3792.4023      0.00033501216  50.092067      28.920668      35.307297      2.1414076e-06
       160   0             -8957.1391     -8957.1391     -6482.1396     -3792.4025     -1.3950531e-05  50.092067      28.920668      35.307297      3.8824057e-07
       170   0             -8957.1391     -8957.1391     -6482.1394     -3792.4024      0.00016676695  50.092067      28.920668      35.307297      2.9464428e-08
       178   0             -8957.1391     -8957.1391     -6482.1395     -3792.4025      3.9113699e-05  50.092067      28.920668      35.307297      9.1868446e-09
Loop time of 0.621527 on 1 procs for 59 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8957.06572687769   -8957.1390764249  -8957.13907642494
  Force two-norm initial, final = 1.2099764 9.1868446e-09
  Force max component initial, final = 0.05770212 6.1483837e-10
  Final line search alpha, max atom move = 1 6.1483837e-10
  Iterations, force evaluations = 59 117

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.6122     | 0.6122     | 0.6122     |   0.0 | 98.50
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0019089  | 0.0019089  | 0.0019089  |   0.0 |  0.31
Output  | 0.00034849 | 0.00034849 | 0.00034849 |   0.0 |  0.06
Modify  | 0.0010905  | 0.0010905  | 0.0010905  |   0.0 |  0.18
Other   |            | 0.005983   |            |       |  0.96

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Eftwn equal "c_eatoms"
variable 	Eftwnmj equal ${Eftwn}*${Cf}/${A}
variable 	Eftwnmj equal -8957.13907642493*${Cf}/${A}
variable 	Eftwnmj equal -8957.13907642493*1.60217657e-16/${A}
variable 	Eftwnmj equal -8957.13907642493*1.60217657e-16/1.44869605874579e-17
variable 	TFEf equal ${Eftwnmj}-${Efomj}
variable 	TFEf equal -99060.9332844032-${Efomj}
variable 	TFEf equal -99060.9332844032--99119.8984893413

print 		"displacement and TFE = ${Bxt_displace} ${TFEf}" # in SFE in mJ/m^2"
displacement and TFE = 1.8 58.9652049380966

next 		i
jump		TFE_displacement1.lmpin
#####################################################################################################################
# Course: Theory, Modelling, and Simulation of Microstructures (TMS)
# Tutors: Dr. Arun Prakash
# Description: Input file for Twin Fault Energy (TFE) of your element
# Originally created by Richard Glaze, 2014. Modified by S. Roy, 2018
######################################################################################################################

# --------------------- INITIALIZAITION ---------------------


clear
units		metal
dimension	3
boundary	p p s
atom_style	atomic
variable 	latparam1 equal 4.09000014545435    ### provide the lattice constant from your calculation
variable 	x_displace equal -1*(${latparam1}/sqrt(6))
variable 	x_displace equal -1*(4.09000014545435/sqrt(6))
variable 	xdim equal ${latparam1}*sqrt(6)/2*10
variable 	xdim equal 4.09000014545435*sqrt(6)/2*10
variable 	ydim equal ${latparam1}*sqrt(2)/2*10
variable 	ydim equal 4.09000014545435*sqrt(2)/2*10
variable 	atomjiggle equal 1.0e-5
variable 	Bx_displace equal 1.0

# --------------------- ATOM DEFINITION ---------------------
lattice		fcc ${latparam1}
lattice		fcc 4.09000014545435
Lattice spacing in x,y,z = 4.0900001 4.0900001 4.0900001
region		1 block -.001 ${xdim} -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 28.9206683790474 -.001 16.5 units box
region 		2 block -.001 ${xdim} -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 28.9206683790474 16.5 36.5808 units box
region 		3 block -.001 ${xdim} -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 28.9206683790474 19.5 36.5808 units box
region		whole block 0 ${xdim} 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 28.9206683790474 0 36.5808 units box
#the -.001 in the -x and -y and lower limit of region 1 are only to overcome a simple numerical issue but can be considered 0
create_box 	1 whole
Created orthogonal box = (0 0 0) to (50.092067 28.920668 36.5808)
  1 by 1 by 1 MPI processor grid
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms	1 region 1
Created 1400 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms 	1 region 2
Created 1800 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds

# --------------------- FORCE FIELDS ---------------------
#Provide potential
pair_style      eam/alloy ### --> TYPE OF POTENTIAL (eam (OR) eam/alloy)
pair_coeff      *  *  CuAg.eam.alloy Ag  ### POTENTIAL FILENAME


# --------------------- SETTINGS ---------------------

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.411 | 5.411 | 5.411 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press          Volume    
         0   0             -8963.0005      0             -8963.0005     -5973.3391      51324.051    
        30   0             -8964.0763      0             -8964.0763     -3443.7334      51324.051    
Loop time of 0.300014 on 1 procs for 30 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -8963.00049826424  -8964.07633391507  -8964.07633391507
  Force two-norm initial, final = 3.47643 4.9599618e-07
  Force max component initial, final = 0.12627393 1.6676942e-08
  Final line search alpha, max atom move = 0.5 8.3384712e-09
  Iterations, force evaluations = 30 60

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.29549    | 0.29549    | 0.29549    |   0.0 | 98.49
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00093856 | 0.00093856 | 0.00093856 |   0.0 |  0.31
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0.0005645  | 0.0005645  | 0.0005645  |   0.0 |  0.19
Other   |            | 0.003019   |            |       |  1.01

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0

compute 	peratom all pe/atom
compute 	eatoms all reduce sum c_peratom
compute 	csym all centro/atom fcc
thermo 		10
thermo_style 	custom step temp pe c_eatoms pxx pyy pzz lx ly lz fnorm
#dump 		1 all custom 1 dump.relax.1.* id type xs ys zs c_peratom c_csym
run 0
WARNING: No fixes with time integration, atoms won't move (../verlet.cpp:60)
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 9
  2 neighbor lists, perpetual/occasional/extra = 1 1 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
  (2) compute centro/atom, occasional
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.042 | 5.042 | 5.042 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8964.0763     -8964.0763     -5177.9056     -5177.9056     -0.0070721536   50.092067      28.920668      35.343537      4.9599618e-07
Loop time of 8.84e-07 on 1 procs for 0 steps with 3200 atoms

113.1% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0          | 0          | 0          |   0.0 |  0.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0          | 0          | 0          |   0.0 |  0.00
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 8.84e-07   |            |       |100.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0
#this command creates a model of the script before the displacement and minimization occur
variable 	E equal "c_eatoms"
variable 	Eo equal $E
variable 	Eo equal -8964.07633391985
#variable 	E equal "c_eatoms" computes the initial energy of the model before any sliding is done
#E is necessary to store the initial energy in Eo

group 		bot region 1
1400 atoms in group bot
group 		top region 2
1800 atoms in group top
group 		top2 region 3
1400 atoms in group top2

displace_atoms 	top move ${x_displace} 0.0 0.0 units box
displace_atoms 	top move -1.66973556737869 0.0 0.0 units box
Displacing atoms ...

#displace_atoms is the command neccessary to move atoms into the next stacking arrangement (ie: A -> B)

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8962.3211     -8962.3211     -5591.7202     -5591.7202     -1576.99        50.092067      28.920668      35.343537      0.73964576   
        40   0             -8962.4682     -8962.4682     -4916.0068     -4916.0068     -147.92622      50.092067      28.920668      35.343537      0.079250389  
        50   0             -8962.4707     -8962.4707     -4849.2612     -4849.2612      2.0166763      50.092067      28.920668      35.343537      0.00021490913
        60   0             -8962.4707     -8962.4707     -4850.1594     -4850.1594      0.0068087804   50.092067      28.920668      35.343537      8.3903308e-06
        70   0             -8962.4707     -8962.4707     -4850.1627     -4850.1627     -0.0011681215   50.092067      28.920668      35.343537      1.9069354e-07
        76   0             -8962.4707     -8962.4707     -4850.1622     -4850.1622      1.4367245e-06  50.092067      28.920668      35.343537      8.8399799e-09
Loop time of 0.475681 on 1 procs for 46 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.32106258411  -8962.47074017725   -8962.4707401783
  Force two-norm initial, final = 0.73964576 8.8399799e-09
  Force max component initial, final = 0.026316509 2.9932082e-10
  Final line search alpha, max atom move = 1 2.9932082e-10
  Iterations, force evaluations = 46 92

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.46829    | 0.46829    | 0.46829    |   0.0 | 98.45
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0014512  | 0.0014512  | 0.0014512  |   0.0 |  0.31
Output  | 0.00023328 | 0.00023328 | 0.00023328 |   0.0 |  0.05
Modify  | 0.00087367 | 0.00087367 | 0.00087367 |   0.0 |  0.18
Other   |            | 0.00483    |            |       |  1.02

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

displace_atoms 	all random ${atomjiggle} ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 1e-05 87287 units box
Displacing atoms ...
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        76   0             -8962.4707     -8962.4707     -4855.1497     -4855.1298     -0.00096622144  50.092067      28.920668      35.307298      0.0018569171 
        80   0             -8962.4707     -8962.4707     -4855.1555     -4855.1356     -0.011779125    50.092067      28.920668      35.307298      6.5723427e-05
        90   0             -8962.4707     -8962.4707     -4855.1531     -4855.1332     -0.0063900344   50.092067      28.920668      35.307298      5.3695965e-06
       100   0             -8962.4707     -8962.4707     -4855.1507     -4855.1309     -0.0011512521   50.092067      28.920668      35.307298      5.7223554e-07
       110   0             -8962.4707     -8962.4707     -4855.1503     -4855.1304     -0.00012465594  50.092067      28.920668      35.307298      9.0409633e-08
       119   0             -8962.4707     -8962.4707     -4855.1502     -4855.1304     -6.5769993e-06  50.092067      28.920668      35.307298      8.8373301e-09
Loop time of 0.457852 on 1 procs for 43 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.47073941504  -8962.47073971322  -8962.47073971329
  Force two-norm initial, final = 0.0018569171 8.8373301e-09
  Force max component initial, final = 9.7625584e-05 5.3059648e-10
  Final line search alpha, max atom move = 1 5.3059648e-10
  Iterations, force evaluations = 43 86

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.45107    | 0.45107    | 0.45107    |   0.0 | 98.52
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0013714  | 0.0013714  | 0.0013714  |   0.0 |  0.30
Output  | 0.00023392 | 0.00023392 | 0.00023392 |   0.0 |  0.05
Modify  | 0.0008046  | 0.0008046  | 0.0008046  |   0.0 |  0.18
Other   |            | 0.004371   |            |       |  0.95

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Ef equal "c_eatoms"
variable 	Efo equal $Ef
variable 	Efo equal -8962.47073971326f
variable	Cf equal 1.60217657e-16
variable 	A equal (${xdim}*${ydim})*1e-20
variable 	A equal (50.0920670213607*${ydim})*1e-20
variable 	A equal (50.0920670213607*28.9206683790474)*1e-20
variable 	SFE equal ((${Ef}-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/1.44869605874579e-17
variable 	Efomj equal ${Ef}*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/1.44869605874579e-17

####################################
print "Initial energy of atoms = ${Eo} eV"
Initial energy of atoms = -8964.07633391985 eV
print "Initial energy before twinning Efo = ${Ef} $Efomj" # in SFE in mJ/m^2"
Initial energy before twinning Efo = -8962.47073971326 -8962.47073971326fomj

#----------- for twin fault energy -----------------------
variable	Ndiscrt equal 30
variable    	i loop ${Ndiscrt}
variable    	i loop 30
label       	loop

variable 	xt_displace equal -1*(${latparam1}/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*25/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*25/30)
variable 	Bxt_displace equal 1.0+${i}/${Ndiscrt}
variable 	Bxt_displace equal 1.0+25/${Ndiscrt}
variable 	Bxt_displace equal 1.0+25/30

displace_atoms 	top2 move ${xt_displace} 0.0 0.0 units box
displace_atoms 	top2 move -1.39144630614891 0.0 0.0 units box
Displacing atoms ...

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
       119   0             -8958.024      -8958.024      -6400.0299     -4014.0588     -451.20677      50.092067      28.920668      35.307297      0.80124725   
       120   0             -8958.0558     -8958.0558     -6364.32       -4044.4941     -466.66215      50.092067      28.920668      35.307297      0.11430088   
       130   0             -8958.0621     -8958.0621     -6178.2128     -3837.4589     -34.41103       50.092067      28.920668      35.307297      0.019557992  
       140   0             -8958.0623     -8958.0623     -6163.118      -3821.1127     -0.27239184     50.092067      28.920668      35.307297      3.0719872e-05
       150   0             -8958.0623     -8958.0623     -6162.9982     -3820.9879      0.00013731609  50.092067      28.920668      35.307297      4.1995795e-07
       160   0             -8958.0623     -8958.0623     -6162.9981     -3820.9878      0.00033858171  50.092067      28.920668      35.307297      2.7878011e-07
       170   0             -8958.0623     -8958.0623     -6162.9982     -3820.9879      0.00011091569  50.092067      28.920668      35.307297      2.3948469e-08
       176   0             -8958.0623     -8958.0623     -6162.9983     -3820.9879      2.881664e-05   50.092067      28.920668      35.307297      7.3111223e-09
Loop time of 0.609121 on 1 procs for 57 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8958.02398384667  -8958.06227491326  -8958.06227491335
  Force two-norm initial, final = 0.80124725 7.3111223e-09
  Force max component initial, final = 0.034461836 4.7596758e-10
  Final line search alpha, max atom move = 1 4.7596758e-10
  Iterations, force evaluations = 57 114

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.60002    | 0.60002    | 0.60002    |   0.0 | 98.51
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0017884  | 0.0017884  | 0.0017884  |   0.0 |  0.29
Output  | 0.00035285 | 0.00035285 | 0.00035285 |   0.0 |  0.06
Modify  | 0.0010835  | 0.0010835  | 0.0010835  |   0.0 |  0.18
Other   |            | 0.005875   |            |       |  0.96

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Eftwn equal "c_eatoms"
variable 	Eftwnmj equal ${Eftwn}*${Cf}/${A}
variable 	Eftwnmj equal -8958.06227491338*${Cf}/${A}
variable 	Eftwnmj equal -8958.06227491338*1.60217657e-16/${A}
variable 	Eftwnmj equal -8958.06227491338*1.60217657e-16/1.44869605874579e-17
variable 	TFEf equal ${Eftwnmj}-${Efomj}
variable 	TFEf equal -99071.1433417767-${Efomj}
variable 	TFEf equal -99071.1433417767--99119.8984893413

print 		"displacement and TFE = ${Bxt_displace} ${TFEf}" # in SFE in mJ/m^2"
displacement and TFE = 1.83333333333333 48.7551475646032

next 		i
jump		TFE_displacement1.lmpin
#####################################################################################################################
# Course: Theory, Modelling, and Simulation of Microstructures (TMS)
# Tutors: Dr. Arun Prakash
# Description: Input file for Twin Fault Energy (TFE) of your element
# Originally created by Richard Glaze, 2014. Modified by S. Roy, 2018
######################################################################################################################

# --------------------- INITIALIZAITION ---------------------


clear
units		metal
dimension	3
boundary	p p s
atom_style	atomic
variable 	latparam1 equal 4.09000014545435    ### provide the lattice constant from your calculation
variable 	x_displace equal -1*(${latparam1}/sqrt(6))
variable 	x_displace equal -1*(4.09000014545435/sqrt(6))
variable 	xdim equal ${latparam1}*sqrt(6)/2*10
variable 	xdim equal 4.09000014545435*sqrt(6)/2*10
variable 	ydim equal ${latparam1}*sqrt(2)/2*10
variable 	ydim equal 4.09000014545435*sqrt(2)/2*10
variable 	atomjiggle equal 1.0e-5
variable 	Bx_displace equal 1.0

# --------------------- ATOM DEFINITION ---------------------
lattice		fcc ${latparam1}
lattice		fcc 4.09000014545435
Lattice spacing in x,y,z = 4.0900001 4.0900001 4.0900001
region		1 block -.001 ${xdim} -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 28.9206683790474 -.001 16.5 units box
region 		2 block -.001 ${xdim} -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 28.9206683790474 16.5 36.5808 units box
region 		3 block -.001 ${xdim} -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 28.9206683790474 19.5 36.5808 units box
region		whole block 0 ${xdim} 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 28.9206683790474 0 36.5808 units box
#the -.001 in the -x and -y and lower limit of region 1 are only to overcome a simple numerical issue but can be considered 0
create_box 	1 whole
Created orthogonal box = (0 0 0) to (50.092067 28.920668 36.5808)
  1 by 1 by 1 MPI processor grid
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms	1 region 1
Created 1400 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms 	1 region 2
Created 1800 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds

# --------------------- FORCE FIELDS ---------------------
#Provide potential
pair_style      eam/alloy ### --> TYPE OF POTENTIAL (eam (OR) eam/alloy)
pair_coeff      *  *  CuAg.eam.alloy Ag  ### POTENTIAL FILENAME


# --------------------- SETTINGS ---------------------

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.411 | 5.411 | 5.411 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press          Volume    
         0   0             -8963.0005      0             -8963.0005     -5973.3391      51324.051    
        30   0             -8964.0763      0             -8964.0763     -3443.7334      51324.051    
Loop time of 0.298046 on 1 procs for 30 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -8963.00049826424  -8964.07633391507  -8964.07633391507
  Force two-norm initial, final = 3.47643 4.9599618e-07
  Force max component initial, final = 0.12627393 1.6676942e-08
  Final line search alpha, max atom move = 0.5 8.3384712e-09
  Iterations, force evaluations = 30 60

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.29348    | 0.29348    | 0.29348    |   0.0 | 98.47
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00094964 | 0.00094964 | 0.00094964 |   0.0 |  0.32
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0.00056464 | 0.00056464 | 0.00056464 |   0.0 |  0.19
Other   |            | 0.003047   |            |       |  1.02

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0

compute 	peratom all pe/atom
compute 	eatoms all reduce sum c_peratom
compute 	csym all centro/atom fcc
thermo 		10
thermo_style 	custom step temp pe c_eatoms pxx pyy pzz lx ly lz fnorm
#dump 		1 all custom 1 dump.relax.1.* id type xs ys zs c_peratom c_csym
run 0
WARNING: No fixes with time integration, atoms won't move (../verlet.cpp:60)
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 9
  2 neighbor lists, perpetual/occasional/extra = 1 1 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
  (2) compute centro/atom, occasional
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.042 | 5.042 | 5.042 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8964.0763     -8964.0763     -5177.9056     -5177.9056     -0.0070721536   50.092067      28.920668      35.343537      4.9599618e-07
Loop time of 9.42e-07 on 1 procs for 0 steps with 3200 atoms

106.2% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0          | 0          | 0          |   0.0 |  0.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0          | 0          | 0          |   0.0 |  0.00
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 9.42e-07   |            |       |100.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0
#this command creates a model of the script before the displacement and minimization occur
variable 	E equal "c_eatoms"
variable 	Eo equal $E
variable 	Eo equal -8964.07633391985
#variable 	E equal "c_eatoms" computes the initial energy of the model before any sliding is done
#E is necessary to store the initial energy in Eo

group 		bot region 1
1400 atoms in group bot
group 		top region 2
1800 atoms in group top
group 		top2 region 3
1400 atoms in group top2

displace_atoms 	top move ${x_displace} 0.0 0.0 units box
displace_atoms 	top move -1.66973556737869 0.0 0.0 units box
Displacing atoms ...

#displace_atoms is the command neccessary to move atoms into the next stacking arrangement (ie: A -> B)

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8962.3211     -8962.3211     -5591.7202     -5591.7202     -1576.99        50.092067      28.920668      35.343537      0.73964576   
        40   0             -8962.4682     -8962.4682     -4916.0068     -4916.0068     -147.92622      50.092067      28.920668      35.343537      0.079250389  
        50   0             -8962.4707     -8962.4707     -4849.2612     -4849.2612      2.0166763      50.092067      28.920668      35.343537      0.00021490913
        60   0             -8962.4707     -8962.4707     -4850.1594     -4850.1594      0.0068087804   50.092067      28.920668      35.343537      8.3903308e-06
        70   0             -8962.4707     -8962.4707     -4850.1627     -4850.1627     -0.0011681215   50.092067      28.920668      35.343537      1.9069354e-07
        76   0             -8962.4707     -8962.4707     -4850.1622     -4850.1622      1.4367245e-06  50.092067      28.920668      35.343537      8.8399799e-09
Loop time of 0.472379 on 1 procs for 46 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.32106258411  -8962.47074017725   -8962.4707401783
  Force two-norm initial, final = 0.73964576 8.8399799e-09
  Force max component initial, final = 0.026316509 2.9932082e-10
  Final line search alpha, max atom move = 1 2.9932082e-10
  Iterations, force evaluations = 46 92

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.46501    | 0.46501    | 0.46501    |   0.0 | 98.44
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0014633  | 0.0014633  | 0.0014633  |   0.0 |  0.31
Output  | 0.00023199 | 0.00023199 | 0.00023199 |   0.0 |  0.05
Modify  | 0.00086173 | 0.00086173 | 0.00086173 |   0.0 |  0.18
Other   |            | 0.004813   |            |       |  1.02

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

displace_atoms 	all random ${atomjiggle} ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 1e-05 87287 units box
Displacing atoms ...
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        76   0             -8962.4707     -8962.4707     -4855.1497     -4855.1298     -0.00096622144  50.092067      28.920668      35.307298      0.0018569171 
        80   0             -8962.4707     -8962.4707     -4855.1555     -4855.1356     -0.011779125    50.092067      28.920668      35.307298      6.5723427e-05
        90   0             -8962.4707     -8962.4707     -4855.1531     -4855.1332     -0.0063900344   50.092067      28.920668      35.307298      5.3695965e-06
       100   0             -8962.4707     -8962.4707     -4855.1507     -4855.1309     -0.0011512521   50.092067      28.920668      35.307298      5.7223554e-07
       110   0             -8962.4707     -8962.4707     -4855.1503     -4855.1304     -0.00012465594  50.092067      28.920668      35.307298      9.0409633e-08
       119   0             -8962.4707     -8962.4707     -4855.1502     -4855.1304     -6.5769993e-06  50.092067      28.920668      35.307298      8.8373301e-09
Loop time of 0.457413 on 1 procs for 43 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.47073941504  -8962.47073971322  -8962.47073971329
  Force two-norm initial, final = 0.0018569171 8.8373301e-09
  Force max component initial, final = 9.7625584e-05 5.3059648e-10
  Final line search alpha, max atom move = 1 5.3059648e-10
  Iterations, force evaluations = 43 86

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.45039    | 0.45039    | 0.45039    |   0.0 | 98.46
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0013772  | 0.0013772  | 0.0013772  |   0.0 |  0.30
Output  | 0.00023071 | 0.00023071 | 0.00023071 |   0.0 |  0.05
Modify  | 0.00086774 | 0.00086774 | 0.00086774 |   0.0 |  0.19
Other   |            | 0.004551   |            |       |  0.99

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Ef equal "c_eatoms"
variable 	Efo equal $Ef
variable 	Efo equal -8962.47073971326f
variable	Cf equal 1.60217657e-16
variable 	A equal (${xdim}*${ydim})*1e-20
variable 	A equal (50.0920670213607*${ydim})*1e-20
variable 	A equal (50.0920670213607*28.9206683790474)*1e-20
variable 	SFE equal ((${Ef}-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/1.44869605874579e-17
variable 	Efomj equal ${Ef}*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/1.44869605874579e-17

####################################
print "Initial energy of atoms = ${Eo} eV"
Initial energy of atoms = -8964.07633391985 eV
print "Initial energy before twinning Efo = ${Ef} $Efomj" # in SFE in mJ/m^2"
Initial energy before twinning Efo = -8962.47073971326 -8962.47073971326fomj

#----------- for twin fault energy -----------------------
variable	Ndiscrt equal 30
variable    	i loop ${Ndiscrt}
variable    	i loop 30
label       	loop

variable 	xt_displace equal -1*(${latparam1}/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*26/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*26/30)
variable 	Bxt_displace equal 1.0+${i}/${Ndiscrt}
variable 	Bxt_displace equal 1.0+26/${Ndiscrt}
variable 	Bxt_displace equal 1.0+26/30

displace_atoms 	top2 move ${xt_displace} 0.0 0.0 units box
displace_atoms 	top2 move -1.44710415839486 0.0 0.0 units box
Displacing atoms ...

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
       119   0             -8958.8985     -8958.8985     -6191.6082     -4267.3108     -822.47282      50.092067      28.920668      35.307297      0.54013286   
       120   0             -8958.9153     -8958.9153     -6178.7303     -4278.8765     -828.58839      50.092067      28.920668      35.307297      0.20401535   
       130   0             -8958.9381     -8958.9381     -5849.4206     -3903.2761     -58.697743      50.092067      28.920668      35.307297      0.029327711  
       140   0             -8958.9385     -8958.9385     -5822.8902     -3875.3492     -0.67541182     50.092067      28.920668      35.307297      7.3411072e-05
       150   0             -8958.9385     -8958.9385     -5822.592      -3875.0335      0.00074116001  50.092067      28.920668      35.307297      1.8123363e-06
       160   0             -8958.9385     -8958.9385     -5822.5921     -3875.0335      0.0006341975   50.092067      28.920668      35.307297      2.020162e-07 
       170   0             -8958.9385     -8958.9385     -5822.5923     -3875.0336      0.00021527446  50.092067      28.920668      35.307297      5.6647217e-08
       177   0             -8958.9385     -8958.9385     -5822.5924     -3875.0337      1.3546989e-05  50.092067      28.920668      35.307297      7.3974069e-09
Loop time of 0.615027 on 1 procs for 58 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8958.89846794503   -8958.9385177838  -8958.93851778401
  Force two-norm initial, final = 0.54013286 7.3974069e-09
  Force max component initial, final = 0.023269609 5.926922e-10
  Final line search alpha, max atom move = 1 5.926922e-10
  Iterations, force evaluations = 58 116

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.60582    | 0.60582    | 0.60582    |   0.0 | 98.50
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.001801   | 0.001801   | 0.001801   |   0.0 |  0.29
Output  | 0.00034678 | 0.00034678 | 0.00034678 |   0.0 |  0.06
Modify  | 0.0010995  | 0.0010995  | 0.0010995  |   0.0 |  0.18
Other   |            | 0.00596    |            |       |  0.97

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Eftwn equal "c_eatoms"
variable 	Eftwnmj equal ${Eftwn}*${Cf}/${A}
variable 	Eftwnmj equal -8958.9385177839*${Cf}/${A}
variable 	Eftwnmj equal -8958.9385177839*1.60217657e-16/${A}
variable 	Eftwnmj equal -8958.9385177839*1.60217657e-16/1.44869605874579e-17
variable 	TFEf equal ${Eftwnmj}-${Efomj}
variable 	TFEf equal -99080.8340963577-${Efomj}
variable 	TFEf equal -99080.8340963577--99119.8984893413

print 		"displacement and TFE = ${Bxt_displace} ${TFEf}" # in SFE in mJ/m^2"
displacement and TFE = 1.86666666666667 39.0643929835933

next 		i
jump		TFE_displacement1.lmpin
#####################################################################################################################
# Course: Theory, Modelling, and Simulation of Microstructures (TMS)
# Tutors: Dr. Arun Prakash
# Description: Input file for Twin Fault Energy (TFE) of your element
# Originally created by Richard Glaze, 2014. Modified by S. Roy, 2018
######################################################################################################################

# --------------------- INITIALIZAITION ---------------------


clear
units		metal
dimension	3
boundary	p p s
atom_style	atomic
variable 	latparam1 equal 4.09000014545435    ### provide the lattice constant from your calculation
variable 	x_displace equal -1*(${latparam1}/sqrt(6))
variable 	x_displace equal -1*(4.09000014545435/sqrt(6))
variable 	xdim equal ${latparam1}*sqrt(6)/2*10
variable 	xdim equal 4.09000014545435*sqrt(6)/2*10
variable 	ydim equal ${latparam1}*sqrt(2)/2*10
variable 	ydim equal 4.09000014545435*sqrt(2)/2*10
variable 	atomjiggle equal 1.0e-5
variable 	Bx_displace equal 1.0

# --------------------- ATOM DEFINITION ---------------------
lattice		fcc ${latparam1}
lattice		fcc 4.09000014545435
Lattice spacing in x,y,z = 4.0900001 4.0900001 4.0900001
region		1 block -.001 ${xdim} -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 28.9206683790474 -.001 16.5 units box
region 		2 block -.001 ${xdim} -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 28.9206683790474 16.5 36.5808 units box
region 		3 block -.001 ${xdim} -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 28.9206683790474 19.5 36.5808 units box
region		whole block 0 ${xdim} 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 28.9206683790474 0 36.5808 units box
#the -.001 in the -x and -y and lower limit of region 1 are only to overcome a simple numerical issue but can be considered 0
create_box 	1 whole
Created orthogonal box = (0 0 0) to (50.092067 28.920668 36.5808)
  1 by 1 by 1 MPI processor grid
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms	1 region 1
Created 1400 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms 	1 region 2
Created 1800 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds

# --------------------- FORCE FIELDS ---------------------
#Provide potential
pair_style      eam/alloy ### --> TYPE OF POTENTIAL (eam (OR) eam/alloy)
pair_coeff      *  *  CuAg.eam.alloy Ag  ### POTENTIAL FILENAME


# --------------------- SETTINGS ---------------------

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.411 | 5.411 | 5.411 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press          Volume    
         0   0             -8963.0005      0             -8963.0005     -5973.3391      51324.051    
        30   0             -8964.0763      0             -8964.0763     -3443.7334      51324.051    
Loop time of 0.301115 on 1 procs for 30 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -8963.00049826424  -8964.07633391507  -8964.07633391507
  Force two-norm initial, final = 3.47643 4.9599618e-07
  Force max component initial, final = 0.12627393 1.6676942e-08
  Final line search alpha, max atom move = 0.5 8.3384712e-09
  Iterations, force evaluations = 30 60

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.29651    | 0.29651    | 0.29651    |   0.0 | 98.47
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00093772 | 0.00093772 | 0.00093772 |   0.0 |  0.31
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0.00056762 | 0.00056762 | 0.00056762 |   0.0 |  0.19
Other   |            | 0.003095   |            |       |  1.03

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0

compute 	peratom all pe/atom
compute 	eatoms all reduce sum c_peratom
compute 	csym all centro/atom fcc
thermo 		10
thermo_style 	custom step temp pe c_eatoms pxx pyy pzz lx ly lz fnorm
#dump 		1 all custom 1 dump.relax.1.* id type xs ys zs c_peratom c_csym
run 0
WARNING: No fixes with time integration, atoms won't move (../verlet.cpp:60)
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 9
  2 neighbor lists, perpetual/occasional/extra = 1 1 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
  (2) compute centro/atom, occasional
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.042 | 5.042 | 5.042 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8964.0763     -8964.0763     -5177.9056     -5177.9056     -0.0070721536   50.092067      28.920668      35.343537      4.9599618e-07
Loop time of 9.01e-07 on 1 procs for 0 steps with 3200 atoms

222.0% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0          | 0          | 0          |   0.0 |  0.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0          | 0          | 0          |   0.0 |  0.00
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 9.01e-07   |            |       |100.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0
#this command creates a model of the script before the displacement and minimization occur
variable 	E equal "c_eatoms"
variable 	Eo equal $E
variable 	Eo equal -8964.07633391985
#variable 	E equal "c_eatoms" computes the initial energy of the model before any sliding is done
#E is necessary to store the initial energy in Eo

group 		bot region 1
1400 atoms in group bot
group 		top region 2
1800 atoms in group top
group 		top2 region 3
1400 atoms in group top2

displace_atoms 	top move ${x_displace} 0.0 0.0 units box
displace_atoms 	top move -1.66973556737869 0.0 0.0 units box
Displacing atoms ...

#displace_atoms is the command neccessary to move atoms into the next stacking arrangement (ie: A -> B)

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8962.3211     -8962.3211     -5591.7202     -5591.7202     -1576.99        50.092067      28.920668      35.343537      0.73964576   
        40   0             -8962.4682     -8962.4682     -4916.0068     -4916.0068     -147.92622      50.092067      28.920668      35.343537      0.079250389  
        50   0             -8962.4707     -8962.4707     -4849.2612     -4849.2612      2.0166763      50.092067      28.920668      35.343537      0.00021490913
        60   0             -8962.4707     -8962.4707     -4850.1594     -4850.1594      0.0068087804   50.092067      28.920668      35.343537      8.3903308e-06
        70   0             -8962.4707     -8962.4707     -4850.1627     -4850.1627     -0.0011681215   50.092067      28.920668      35.343537      1.9069354e-07
        76   0             -8962.4707     -8962.4707     -4850.1622     -4850.1622      1.4367245e-06  50.092067      28.920668      35.343537      8.8399799e-09
Loop time of 0.472484 on 1 procs for 46 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.32106258411  -8962.47074017725   -8962.4707401783
  Force two-norm initial, final = 0.73964576 8.8399799e-09
  Force max component initial, final = 0.026316509 2.9932082e-10
  Final line search alpha, max atom move = 1 2.9932082e-10
  Iterations, force evaluations = 46 92

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.4652     | 0.4652     | 0.4652     |   0.0 | 98.46
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0014605  | 0.0014605  | 0.0014605  |   0.0 |  0.31
Output  | 0.00023238 | 0.00023238 | 0.00023238 |   0.0 |  0.05
Modify  | 0.00087447 | 0.00087447 | 0.00087447 |   0.0 |  0.19
Other   |            | 0.004721   |            |       |  1.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

displace_atoms 	all random ${atomjiggle} ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 1e-05 87287 units box
Displacing atoms ...
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        76   0             -8962.4707     -8962.4707     -4855.1497     -4855.1298     -0.00096622144  50.092067      28.920668      35.307298      0.0018569171 
        80   0             -8962.4707     -8962.4707     -4855.1555     -4855.1356     -0.011779125    50.092067      28.920668      35.307298      6.5723427e-05
        90   0             -8962.4707     -8962.4707     -4855.1531     -4855.1332     -0.0063900344   50.092067      28.920668      35.307298      5.3695965e-06
       100   0             -8962.4707     -8962.4707     -4855.1507     -4855.1309     -0.0011512521   50.092067      28.920668      35.307298      5.7223554e-07
       110   0             -8962.4707     -8962.4707     -4855.1503     -4855.1304     -0.00012465594  50.092067      28.920668      35.307298      9.0409633e-08
       119   0             -8962.4707     -8962.4707     -4855.1502     -4855.1304     -6.5769993e-06  50.092067      28.920668      35.307298      8.8373301e-09
Loop time of 0.459878 on 1 procs for 43 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.47073941504  -8962.47073971322  -8962.47073971329
  Force two-norm initial, final = 0.0018569171 8.8373301e-09
  Force max component initial, final = 9.7625584e-05 5.3059648e-10
  Final line search alpha, max atom move = 1 5.3059648e-10
  Iterations, force evaluations = 43 86

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.453      | 0.453      | 0.453      |   0.0 | 98.50
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0013259  | 0.0013259  | 0.0013259  |   0.0 |  0.29
Output  | 0.00024826 | 0.00024826 | 0.00024826 |   0.0 |  0.05
Modify  | 0.00082452 | 0.00082452 | 0.00082452 |   0.0 |  0.18
Other   |            | 0.004484   |            |       |  0.97

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Ef equal "c_eatoms"
variable 	Efo equal $Ef
variable 	Efo equal -8962.47073971326f
variable	Cf equal 1.60217657e-16
variable 	A equal (${xdim}*${ydim})*1e-20
variable 	A equal (50.0920670213607*${ydim})*1e-20
variable 	A equal (50.0920670213607*28.9206683790474)*1e-20
variable 	SFE equal ((${Ef}-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/1.44869605874579e-17
variable 	Efomj equal ${Ef}*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/1.44869605874579e-17

####################################
print "Initial energy of atoms = ${Eo} eV"
Initial energy of atoms = -8964.07633391985 eV
print "Initial energy before twinning Efo = ${Ef} $Efomj" # in SFE in mJ/m^2"
Initial energy before twinning Efo = -8962.47073971326 -8962.47073971326fomj

#----------- for twin fault energy -----------------------
variable	Ndiscrt equal 30
variable    	i loop ${Ndiscrt}
variable    	i loop 30
label       	loop

variable 	xt_displace equal -1*(${latparam1}/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*27/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*27/30)
variable 	Bxt_displace equal 1.0+${i}/${Ndiscrt}
variable 	Bxt_displace equal 1.0+27/${Ndiscrt}
variable 	Bxt_displace equal 1.0+27/30

displace_atoms 	top2 move ${xt_displace} 0.0 0.0 units box
displace_atoms 	top2 move -1.50276201064082 0.0 0.0 units box
Displacing atoms ...

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
       119   0             -8959.6512     -8959.6512     -5972.9163     -4521.2991     -1136.9363      50.092067      28.920668      35.307297      0.49031256   
       120   0             -8959.6752     -8959.6752     -5978.6901     -4521.5652     -1152.3206      50.092067      28.920668      35.307297      0.35416404   
       130   0             -8959.7179     -8959.7179     -5503.9218     -3995.4128     -66.027099      50.092067      28.920668      35.307297      0.046481969  
       140   0             -8959.7187     -8959.7187     -5472.3464     -3964.1231      0.59900357     50.092067      28.920668      35.307297      8.4717828e-05
       150   0             -8959.7187     -8959.7187     -5472.6126     -3964.4025     -6.3328571e-05  50.092067      28.920668      35.307297      1.7912569e-06
       160   0             -8959.7187     -8959.7187     -5472.6124     -3964.4023      0.00038675358  50.092067      28.920668      35.307297      2.4030499e-07
       170   0             -8959.7187     -8959.7187     -5472.6125     -3964.4024      0.00023715355  50.092067      28.920668      35.307297      3.6964523e-08
       178   0             -8959.7187     -8959.7187     -5472.6126     -3964.4025      5.9017466e-06  50.092067      28.920668      35.307297      5.5120555e-09
Loop time of 0.628486 on 1 procs for 59 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8959.65121248194  -8959.71868602102   -8959.7186860209
  Force two-norm initial, final = 0.49031256 5.5120555e-09
  Force max component initial, final = 0.024881018 3.8463304e-10
  Final line search alpha, max atom move = 1 3.8463304e-10
  Iterations, force evaluations = 59 118

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.61915    | 0.61915    | 0.61915    |   0.0 | 98.51
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0018198  | 0.0018198  | 0.0018198  |   0.0 |  0.29
Output  | 0.00034679 | 0.00034679 | 0.00034679 |   0.0 |  0.06
Modify  | 0.0011025  | 0.0011025  | 0.0011025  |   0.0 |  0.18
Other   |            | 0.006065   |            |       |  0.96

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Eftwn equal "c_eatoms"
variable 	Eftwnmj equal ${Eftwn}*${Cf}/${A}
variable 	Eftwnmj equal -8959.71868602098*${Cf}/${A}
variable 	Eftwnmj equal -8959.71868602098*1.60217657e-16/${A}
variable 	Eftwnmj equal -8959.71868602098*1.60217657e-16/1.44869605874579e-17
variable 	TFEf equal ${Eftwnmj}-${Efomj}
variable 	TFEf equal -99089.4623193902-${Efomj}
variable 	TFEf equal -99089.4623193902--99119.8984893413

print 		"displacement and TFE = ${Bxt_displace} ${TFEf}" # in SFE in mJ/m^2"
displacement and TFE = 1.9 30.4361699511064

next 		i
jump		TFE_displacement1.lmpin
#####################################################################################################################
# Course: Theory, Modelling, and Simulation of Microstructures (TMS)
# Tutors: Dr. Arun Prakash
# Description: Input file for Twin Fault Energy (TFE) of your element
# Originally created by Richard Glaze, 2014. Modified by S. Roy, 2018
######################################################################################################################

# --------------------- INITIALIZAITION ---------------------


clear
units		metal
dimension	3
boundary	p p s
atom_style	atomic
variable 	latparam1 equal 4.09000014545435    ### provide the lattice constant from your calculation
variable 	x_displace equal -1*(${latparam1}/sqrt(6))
variable 	x_displace equal -1*(4.09000014545435/sqrt(6))
variable 	xdim equal ${latparam1}*sqrt(6)/2*10
variable 	xdim equal 4.09000014545435*sqrt(6)/2*10
variable 	ydim equal ${latparam1}*sqrt(2)/2*10
variable 	ydim equal 4.09000014545435*sqrt(2)/2*10
variable 	atomjiggle equal 1.0e-5
variable 	Bx_displace equal 1.0

# --------------------- ATOM DEFINITION ---------------------
lattice		fcc ${latparam1}
lattice		fcc 4.09000014545435
Lattice spacing in x,y,z = 4.0900001 4.0900001 4.0900001
region		1 block -.001 ${xdim} -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 28.9206683790474 -.001 16.5 units box
region 		2 block -.001 ${xdim} -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 28.9206683790474 16.5 36.5808 units box
region 		3 block -.001 ${xdim} -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 28.9206683790474 19.5 36.5808 units box
region		whole block 0 ${xdim} 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 28.9206683790474 0 36.5808 units box
#the -.001 in the -x and -y and lower limit of region 1 are only to overcome a simple numerical issue but can be considered 0
create_box 	1 whole
Created orthogonal box = (0 0 0) to (50.092067 28.920668 36.5808)
  1 by 1 by 1 MPI processor grid
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms	1 region 1
Created 1400 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms 	1 region 2
Created 1800 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds

# --------------------- FORCE FIELDS ---------------------
#Provide potential
pair_style      eam/alloy ### --> TYPE OF POTENTIAL (eam (OR) eam/alloy)
pair_coeff      *  *  CuAg.eam.alloy Ag  ### POTENTIAL FILENAME


# --------------------- SETTINGS ---------------------

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.411 | 5.411 | 5.411 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press          Volume    
         0   0             -8963.0005      0             -8963.0005     -5973.3391      51324.051    
        30   0             -8964.0763      0             -8964.0763     -3443.7334      51324.051    
Loop time of 0.303826 on 1 procs for 30 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -8963.00049826424  -8964.07633391507  -8964.07633391507
  Force two-norm initial, final = 3.47643 4.9599618e-07
  Force max component initial, final = 0.12627393 1.6676942e-08
  Final line search alpha, max atom move = 0.5 8.3384712e-09
  Iterations, force evaluations = 30 60

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.29923    | 0.29923    | 0.29923    |   0.0 | 98.49
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0009449  | 0.0009449  | 0.0009449  |   0.0 |  0.31
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0.00058415 | 0.00058415 | 0.00058415 |   0.0 |  0.19
Other   |            | 0.003071   |            |       |  1.01

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0

compute 	peratom all pe/atom
compute 	eatoms all reduce sum c_peratom
compute 	csym all centro/atom fcc
thermo 		10
thermo_style 	custom step temp pe c_eatoms pxx pyy pzz lx ly lz fnorm
#dump 		1 all custom 1 dump.relax.1.* id type xs ys zs c_peratom c_csym
run 0
WARNING: No fixes with time integration, atoms won't move (../verlet.cpp:60)
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 9
  2 neighbor lists, perpetual/occasional/extra = 1 1 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
  (2) compute centro/atom, occasional
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.042 | 5.042 | 5.042 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8964.0763     -8964.0763     -5177.9056     -5177.9056     -0.0070721536   50.092067      28.920668      35.343537      4.9599618e-07
Loop time of 1.027e-06 on 1 procs for 0 steps with 3200 atoms

97.4% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0          | 0          | 0          |   0.0 |  0.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0          | 0          | 0          |   0.0 |  0.00
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.027e-06  |            |       |100.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0
#this command creates a model of the script before the displacement and minimization occur
variable 	E equal "c_eatoms"
variable 	Eo equal $E
variable 	Eo equal -8964.07633391985
#variable 	E equal "c_eatoms" computes the initial energy of the model before any sliding is done
#E is necessary to store the initial energy in Eo

group 		bot region 1
1400 atoms in group bot
group 		top region 2
1800 atoms in group top
group 		top2 region 3
1400 atoms in group top2

displace_atoms 	top move ${x_displace} 0.0 0.0 units box
displace_atoms 	top move -1.66973556737869 0.0 0.0 units box
Displacing atoms ...

#displace_atoms is the command neccessary to move atoms into the next stacking arrangement (ie: A -> B)

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8962.3211     -8962.3211     -5591.7202     -5591.7202     -1576.99        50.092067      28.920668      35.343537      0.73964576   
        40   0             -8962.4682     -8962.4682     -4916.0068     -4916.0068     -147.92622      50.092067      28.920668      35.343537      0.079250389  
        50   0             -8962.4707     -8962.4707     -4849.2612     -4849.2612      2.0166763      50.092067      28.920668      35.343537      0.00021490913
        60   0             -8962.4707     -8962.4707     -4850.1594     -4850.1594      0.0068087804   50.092067      28.920668      35.343537      8.3903308e-06
        70   0             -8962.4707     -8962.4707     -4850.1627     -4850.1627     -0.0011681215   50.092067      28.920668      35.343537      1.9069354e-07
        76   0             -8962.4707     -8962.4707     -4850.1622     -4850.1622      1.4367245e-06  50.092067      28.920668      35.343537      8.8399799e-09
Loop time of 0.473852 on 1 procs for 46 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.32106258411  -8962.47074017725   -8962.4707401783
  Force two-norm initial, final = 0.73964576 8.8399799e-09
  Force max component initial, final = 0.026316509 2.9932082e-10
  Final line search alpha, max atom move = 1 2.9932082e-10
  Iterations, force evaluations = 46 92

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.46658    | 0.46658    | 0.46658    |   0.0 | 98.47
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0014215  | 0.0014215  | 0.0014215  |   0.0 |  0.30
Output  | 0.00023262 | 0.00023262 | 0.00023262 |   0.0 |  0.05
Modify  | 0.00087662 | 0.00087662 | 0.00087662 |   0.0 |  0.18
Other   |            | 0.004742   |            |       |  1.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

displace_atoms 	all random ${atomjiggle} ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 1e-05 87287 units box
Displacing atoms ...
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        76   0             -8962.4707     -8962.4707     -4855.1497     -4855.1298     -0.00096622144  50.092067      28.920668      35.307298      0.0018569171 
        80   0             -8962.4707     -8962.4707     -4855.1555     -4855.1356     -0.011779125    50.092067      28.920668      35.307298      6.5723427e-05
        90   0             -8962.4707     -8962.4707     -4855.1531     -4855.1332     -0.0063900344   50.092067      28.920668      35.307298      5.3695965e-06
       100   0             -8962.4707     -8962.4707     -4855.1507     -4855.1309     -0.0011512521   50.092067      28.920668      35.307298      5.7223554e-07
       110   0             -8962.4707     -8962.4707     -4855.1503     -4855.1304     -0.00012465594  50.092067      28.920668      35.307298      9.0409633e-08
       119   0             -8962.4707     -8962.4707     -4855.1502     -4855.1304     -6.5769993e-06  50.092067      28.920668      35.307298      8.8373301e-09
Loop time of 0.458043 on 1 procs for 43 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.47073941504  -8962.47073971322  -8962.47073971329
  Force two-norm initial, final = 0.0018569171 8.8373301e-09
  Force max component initial, final = 9.7625584e-05 5.3059648e-10
  Final line search alpha, max atom move = 1 5.3059648e-10
  Iterations, force evaluations = 43 86

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.45125    | 0.45125    | 0.45125    |   0.0 | 98.52
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0013211  | 0.0013211  | 0.0013211  |   0.0 |  0.29
Output  | 0.00023261 | 0.00023261 | 0.00023261 |   0.0 |  0.05
Modify  | 0.00080466 | 0.00080466 | 0.00080466 |   0.0 |  0.18
Other   |            | 0.004432   |            |       |  0.97

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Ef equal "c_eatoms"
variable 	Efo equal $Ef
variable 	Efo equal -8962.47073971326f
variable	Cf equal 1.60217657e-16
variable 	A equal (${xdim}*${ydim})*1e-20
variable 	A equal (50.0920670213607*${ydim})*1e-20
variable 	A equal (50.0920670213607*28.9206683790474)*1e-20
variable 	SFE equal ((${Ef}-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/1.44869605874579e-17
variable 	Efomj equal ${Ef}*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/1.44869605874579e-17

####################################
print "Initial energy of atoms = ${Eo} eV"
Initial energy of atoms = -8964.07633391985 eV
print "Initial energy before twinning Efo = ${Ef} $Efomj" # in SFE in mJ/m^2"
Initial energy before twinning Efo = -8962.47073971326 -8962.47073971326fomj

#----------- for twin fault energy -----------------------
variable	Ndiscrt equal 30
variable    	i loop ${Ndiscrt}
variable    	i loop 30
label       	loop

variable 	xt_displace equal -1*(${latparam1}/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*28/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*28/30)
variable 	Bxt_displace equal 1.0+${i}/${Ndiscrt}
variable 	Bxt_displace equal 1.0+28/${Ndiscrt}
variable 	Bxt_displace equal 1.0+28/30

displace_atoms 	top2 move ${xt_displace} 0.0 0.0 units box
displace_atoms 	top2 move -1.55841986288678 0.0 0.0 units box
Displacing atoms ...

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
       119   0             -8960.2408     -8960.2408     -5745.8853     -4775.9703     -1384.4095      50.092067      28.920668      35.307297      0.59450536   
       120   0             -8960.2875     -8960.2875     -5768.1902     -4766.6509     -1415.943       50.092067      28.920668      35.307297      0.36503446   
       130   0             -8960.346      -8960.346      -5173.8495     -4144.7076     -99.886062      50.092067      28.920668      35.307297      0.054568474  
       140   0             -8960.3472     -8960.3472     -5127.1808     -4098.1352     -1.2792041      50.092067      28.920668      35.307297      0.00014933292
       150   0             -8960.3472     -8960.3472     -5126.6128     -4097.5581     -0.0018754558   50.092067      28.920668      35.307297      7.1703362e-07
       160   0             -8960.3472     -8960.3472     -5126.6118     -4097.5572      0.00019721992  50.092067      28.920668      35.307297      1.4185235e-07
       170   0             -8960.3472     -8960.3472     -5126.6119     -4097.5572      9.942481e-05   50.092067      28.920668      35.307297      4.7526144e-08
       177   0             -8960.3472     -8960.3472     -5126.6119     -4097.5573      3.018924e-06   50.092067      28.920668      35.307297      6.9003021e-09
Loop time of 0.617326 on 1 procs for 58 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
      -8960.2407864756  -8960.34717591958  -8960.34717591958
  Force two-norm initial, final = 0.59450536 6.9003021e-09
  Force max component initial, final = 0.026154104 4.7205547e-10
  Final line search alpha, max atom move = 1 4.7205547e-10
  Iterations, force evaluations = 58 116

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.60826    | 0.60826    | 0.60826    |   0.0 | 98.53
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0017832  | 0.0017832  | 0.0017832  |   0.0 |  0.29
Output  | 0.00036481 | 0.00036481 | 0.00036481 |   0.0 |  0.06
Modify  | 0.0010819  | 0.0010819  | 0.0010819  |   0.0 |  0.18
Other   |            | 0.005832   |            |       |  0.94

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Eftwn equal "c_eatoms"
variable 	Eftwnmj equal ${Eftwn}*${Cf}/${A}
variable 	Eftwnmj equal -8960.34717591962*${Cf}/${A}
variable 	Eftwnmj equal -8960.34717591962*1.60217657e-16/${A}
variable 	Eftwnmj equal -8960.34717591962*1.60217657e-16/1.44869605874579e-17
variable 	TFEf equal ${Eftwnmj}-${Efomj}
variable 	TFEf equal -99096.4130650901-${Efomj}
variable 	TFEf equal -99096.4130650901--99119.8984893413

print 		"displacement and TFE = ${Bxt_displace} ${TFEf}" # in SFE in mJ/m^2"
displacement and TFE = 1.93333333333333 23.4854242511938

next 		i
jump		TFE_displacement1.lmpin
#####################################################################################################################
# Course: Theory, Modelling, and Simulation of Microstructures (TMS)
# Tutors: Dr. Arun Prakash
# Description: Input file for Twin Fault Energy (TFE) of your element
# Originally created by Richard Glaze, 2014. Modified by S. Roy, 2018
######################################################################################################################

# --------------------- INITIALIZAITION ---------------------


clear
units		metal
dimension	3
boundary	p p s
atom_style	atomic
variable 	latparam1 equal 4.09000014545435    ### provide the lattice constant from your calculation
variable 	x_displace equal -1*(${latparam1}/sqrt(6))
variable 	x_displace equal -1*(4.09000014545435/sqrt(6))
variable 	xdim equal ${latparam1}*sqrt(6)/2*10
variable 	xdim equal 4.09000014545435*sqrt(6)/2*10
variable 	ydim equal ${latparam1}*sqrt(2)/2*10
variable 	ydim equal 4.09000014545435*sqrt(2)/2*10
variable 	atomjiggle equal 1.0e-5
variable 	Bx_displace equal 1.0

# --------------------- ATOM DEFINITION ---------------------
lattice		fcc ${latparam1}
lattice		fcc 4.09000014545435
Lattice spacing in x,y,z = 4.0900001 4.0900001 4.0900001
region		1 block -.001 ${xdim} -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 28.9206683790474 -.001 16.5 units box
region 		2 block -.001 ${xdim} -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 28.9206683790474 16.5 36.5808 units box
region 		3 block -.001 ${xdim} -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 28.9206683790474 19.5 36.5808 units box
region		whole block 0 ${xdim} 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 28.9206683790474 0 36.5808 units box
#the -.001 in the -x and -y and lower limit of region 1 are only to overcome a simple numerical issue but can be considered 0
create_box 	1 whole
Created orthogonal box = (0 0 0) to (50.092067 28.920668 36.5808)
  1 by 1 by 1 MPI processor grid
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms	1 region 1
Created 1400 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms 	1 region 2
Created 1800 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds

# --------------------- FORCE FIELDS ---------------------
#Provide potential
pair_style      eam/alloy ### --> TYPE OF POTENTIAL (eam (OR) eam/alloy)
pair_coeff      *  *  CuAg.eam.alloy Ag  ### POTENTIAL FILENAME


# --------------------- SETTINGS ---------------------

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.411 | 5.411 | 5.411 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press          Volume    
         0   0             -8963.0005      0             -8963.0005     -5973.3391      51324.051    
        30   0             -8964.0763      0             -8964.0763     -3443.7334      51324.051    
Loop time of 0.300817 on 1 procs for 30 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -8963.00049826424  -8964.07633391507  -8964.07633391507
  Force two-norm initial, final = 3.47643 4.9599618e-07
  Force max component initial, final = 0.12627393 1.6676942e-08
  Final line search alpha, max atom move = 0.5 8.3384712e-09
  Iterations, force evaluations = 30 60

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.2963     | 0.2963     | 0.2963     |   0.0 | 98.50
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00093313 | 0.00093313 | 0.00093313 |   0.0 |  0.31
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0.00056669 | 0.00056669 | 0.00056669 |   0.0 |  0.19
Other   |            | 0.00302    |            |       |  1.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0

compute 	peratom all pe/atom
compute 	eatoms all reduce sum c_peratom
compute 	csym all centro/atom fcc
thermo 		10
thermo_style 	custom step temp pe c_eatoms pxx pyy pzz lx ly lz fnorm
#dump 		1 all custom 1 dump.relax.1.* id type xs ys zs c_peratom c_csym
run 0
WARNING: No fixes with time integration, atoms won't move (../verlet.cpp:60)
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 9
  2 neighbor lists, perpetual/occasional/extra = 1 1 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
  (2) compute centro/atom, occasional
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.042 | 5.042 | 5.042 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8964.0763     -8964.0763     -5177.9056     -5177.9056     -0.0070721536   50.092067      28.920668      35.343537      4.9599618e-07
Loop time of 9.14e-07 on 1 procs for 0 steps with 3200 atoms

109.4% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0          | 0          | 0          |   0.0 |  0.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0          | 0          | 0          |   0.0 |  0.00
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 9.14e-07   |            |       |100.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0
#this command creates a model of the script before the displacement and minimization occur
variable 	E equal "c_eatoms"
variable 	Eo equal $E
variable 	Eo equal -8964.07633391985
#variable 	E equal "c_eatoms" computes the initial energy of the model before any sliding is done
#E is necessary to store the initial energy in Eo

group 		bot region 1
1400 atoms in group bot
group 		top region 2
1800 atoms in group top
group 		top2 region 3
1400 atoms in group top2

displace_atoms 	top move ${x_displace} 0.0 0.0 units box
displace_atoms 	top move -1.66973556737869 0.0 0.0 units box
Displacing atoms ...

#displace_atoms is the command neccessary to move atoms into the next stacking arrangement (ie: A -> B)

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8962.3211     -8962.3211     -5591.7202     -5591.7202     -1576.99        50.092067      28.920668      35.343537      0.73964576   
        40   0             -8962.4682     -8962.4682     -4916.0068     -4916.0068     -147.92622      50.092067      28.920668      35.343537      0.079250389  
        50   0             -8962.4707     -8962.4707     -4849.2612     -4849.2612      2.0166763      50.092067      28.920668      35.343537      0.00021490913
        60   0             -8962.4707     -8962.4707     -4850.1594     -4850.1594      0.0068087804   50.092067      28.920668      35.343537      8.3903308e-06
        70   0             -8962.4707     -8962.4707     -4850.1627     -4850.1627     -0.0011681215   50.092067      28.920668      35.343537      1.9069354e-07
        76   0             -8962.4707     -8962.4707     -4850.1622     -4850.1622      1.4367245e-06  50.092067      28.920668      35.343537      8.8399799e-09
Loop time of 0.479272 on 1 procs for 46 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.32106258411  -8962.47074017725   -8962.4707401783
  Force two-norm initial, final = 0.73964576 8.8399799e-09
  Force max component initial, final = 0.026316509 2.9932082e-10
  Final line search alpha, max atom move = 1 2.9932082e-10
  Iterations, force evaluations = 46 92

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.47198    | 0.47198    | 0.47198    |   0.0 | 98.48
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0014436  | 0.0014436  | 0.0014436  |   0.0 |  0.30
Output  | 0.00023055 | 0.00023055 | 0.00023055 |   0.0 |  0.05
Modify  | 0.00088151 | 0.00088151 | 0.00088151 |   0.0 |  0.18
Other   |            | 0.004732   |            |       |  0.99

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

displace_atoms 	all random ${atomjiggle} ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 1e-05 87287 units box
Displacing atoms ...
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        76   0             -8962.4707     -8962.4707     -4855.1497     -4855.1298     -0.00096622144  50.092067      28.920668      35.307298      0.0018569171 
        80   0             -8962.4707     -8962.4707     -4855.1555     -4855.1356     -0.011779125    50.092067      28.920668      35.307298      6.5723427e-05
        90   0             -8962.4707     -8962.4707     -4855.1531     -4855.1332     -0.0063900344   50.092067      28.920668      35.307298      5.3695965e-06
       100   0             -8962.4707     -8962.4707     -4855.1507     -4855.1309     -0.0011512521   50.092067      28.920668      35.307298      5.7223554e-07
       110   0             -8962.4707     -8962.4707     -4855.1503     -4855.1304     -0.00012465594  50.092067      28.920668      35.307298      9.0409633e-08
       119   0             -8962.4707     -8962.4707     -4855.1502     -4855.1304     -6.5769993e-06  50.092067      28.920668      35.307298      8.8373301e-09
Loop time of 0.464426 on 1 procs for 43 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.47073941504  -8962.47073971322  -8962.47073971329
  Force two-norm initial, final = 0.0018569171 8.8373301e-09
  Force max component initial, final = 9.7625584e-05 5.3059648e-10
  Final line search alpha, max atom move = 1 5.3059648e-10
  Iterations, force evaluations = 43 86

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.45761    | 0.45761    | 0.45761    |   0.0 | 98.53
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0013404  | 0.0013404  | 0.0013404  |   0.0 |  0.29
Output  | 0.00023066 | 0.00023066 | 0.00023066 |   0.0 |  0.05
Modify  | 0.00080887 | 0.00080887 | 0.00080887 |   0.0 |  0.17
Other   |            | 0.00444    |            |       |  0.96

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Ef equal "c_eatoms"
variable 	Efo equal $Ef
variable 	Efo equal -8962.47073971326f
variable	Cf equal 1.60217657e-16
variable 	A equal (${xdim}*${ydim})*1e-20
variable 	A equal (50.0920670213607*${ydim})*1e-20
variable 	A equal (50.0920670213607*28.9206683790474)*1e-20
variable 	SFE equal ((${Ef}-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/1.44869605874579e-17
variable 	Efomj equal ${Ef}*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/1.44869605874579e-17

####################################
print "Initial energy of atoms = ${Eo} eV"
Initial energy of atoms = -8964.07633391985 eV
print "Initial energy before twinning Efo = ${Ef} $Efomj" # in SFE in mJ/m^2"
Initial energy before twinning Efo = -8962.47073971326 -8962.47073971326fomj

#----------- for twin fault energy -----------------------
variable	Ndiscrt equal 30
variable    	i loop ${Ndiscrt}
variable    	i loop 30
label       	loop

variable 	xt_displace equal -1*(${latparam1}/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*29/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*29/30)
variable 	Bxt_displace equal 1.0+${i}/${Ndiscrt}
variable 	Bxt_displace equal 1.0+29/${Ndiscrt}
variable 	Bxt_displace equal 1.0+29/30

displace_atoms 	top2 move ${xt_displace} 0.0 0.0 units box
displace_atoms 	top2 move -1.61407771513273 0.0 0.0 units box
Displacing atoms ...

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
       119   0             -8960.6249     -8960.6249     -5511.872      -5027.5889     -1545.3609      50.092067      28.920668      35.307297      0.70686046   
       120   0             -8960.6882     -8960.6882     -5530.1651     -5023.0545     -1584.9398      50.092067      28.920668      35.307297      0.3930522    
       130   0             -8960.7635     -8960.7635     -4857.5084     -4337.355      -119.80742      50.092067      28.920668      35.307297      0.061516261  
       140   0             -8960.7651     -8960.7651     -4802.7135     -4281.8948     -3.0674941      50.092067      28.920668      35.307297      0.00072218619
       150   0             -8960.7651     -8960.7651     -4801.3213     -4280.4833     -0.01363827     50.092067      28.920668      35.307297      1.0362824e-05
       160   0             -8960.7651     -8960.7651     -4801.3152     -4280.477      -0.00049889818  50.092067      28.920668      35.307297      5.5184167e-07
       170   0             -8960.7651     -8960.7651     -4801.315      -4280.4768      2.7805358e-05  50.092067      28.920668      35.307297      3.8005592e-08
       178   0             -8960.7651     -8960.7651     -4801.315      -4280.4768      6.9902399e-05  50.092067      28.920668      35.307297      9.6928675e-09
Loop time of 0.630767 on 1 procs for 59 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8960.62493221222  -8960.76510826064  -8960.76510826064
  Force two-norm initial, final = 0.70686046 9.6928675e-09
  Force max component initial, final = 0.026972586 6.2577067e-10
  Final line search alpha, max atom move = 1 6.2577067e-10
  Iterations, force evaluations = 59 117

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.62148    | 0.62148    | 0.62148    |   0.0 | 98.53
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0018329  | 0.0018329  | 0.0018329  |   0.0 |  0.29
Output  | 0.00035008 | 0.00035008 | 0.00035008 |   0.0 |  0.06
Modify  | 0.0011165  | 0.0011165  | 0.0011165  |   0.0 |  0.18
Other   |            | 0.005987   |            |       |  0.95

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Eftwn equal "c_eatoms"
variable 	Eftwnmj equal ${Eftwn}*${Cf}/${A}
variable 	Eftwnmj equal -8960.7651082607*${Cf}/${A}
variable 	Eftwnmj equal -8960.7651082607*1.60217657e-16/${A}
variable 	Eftwnmj equal -8960.7651082607*1.60217657e-16/1.44869605874579e-17
variable 	TFEf equal ${Eftwnmj}-${Efomj}
variable 	TFEf equal -99101.0351623249-${Efomj}
variable 	TFEf equal -99101.0351623249--99119.8984893413

print 		"displacement and TFE = ${Bxt_displace} ${TFEf}" # in SFE in mJ/m^2"
displacement and TFE = 1.96666666666667 18.8633270163991

next 		i
jump		TFE_displacement1.lmpin
#####################################################################################################################
# Course: Theory, Modelling, and Simulation of Microstructures (TMS)
# Tutors: Dr. Arun Prakash
# Description: Input file for Twin Fault Energy (TFE) of your element
# Originally created by Richard Glaze, 2014. Modified by S. Roy, 2018
######################################################################################################################

# --------------------- INITIALIZAITION ---------------------


clear
units		metal
dimension	3
boundary	p p s
atom_style	atomic
variable 	latparam1 equal 4.09000014545435    ### provide the lattice constant from your calculation
variable 	x_displace equal -1*(${latparam1}/sqrt(6))
variable 	x_displace equal -1*(4.09000014545435/sqrt(6))
variable 	xdim equal ${latparam1}*sqrt(6)/2*10
variable 	xdim equal 4.09000014545435*sqrt(6)/2*10
variable 	ydim equal ${latparam1}*sqrt(2)/2*10
variable 	ydim equal 4.09000014545435*sqrt(2)/2*10
variable 	atomjiggle equal 1.0e-5
variable 	Bx_displace equal 1.0

# --------------------- ATOM DEFINITION ---------------------
lattice		fcc ${latparam1}
lattice		fcc 4.09000014545435
Lattice spacing in x,y,z = 4.0900001 4.0900001 4.0900001
region		1 block -.001 ${xdim} -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 ${ydim} -.001 16.5 units box
region		1 block -.001 50.0920670213607 -.001 28.9206683790474 -.001 16.5 units box
region 		2 block -.001 ${xdim} -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 ${ydim} 16.5 36.5808 units box
region 		2 block -.001 50.0920670213607 -.001 28.9206683790474 16.5 36.5808 units box
region 		3 block -.001 ${xdim} -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 ${ydim} 19.5 36.5808 units box
region 		3 block -.001 50.0920670213607 -.001 28.9206683790474 19.5 36.5808 units box
region		whole block 0 ${xdim} 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 ${ydim} 0 36.5808 units box
region		whole block 0 50.0920670213607 0 28.9206683790474 0 36.5808 units box
#the -.001 in the -x and -y and lower limit of region 1 are only to overcome a simple numerical issue but can be considered 0
create_box 	1 whole
Created orthogonal box = (0 0 0) to (50.092067 28.920668 36.5808)
  1 by 1 by 1 MPI processor grid
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms	1 region 1
Created 1400 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds
lattice 	fcc ${latparam1} orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
lattice 	fcc 4.09000014545435 orient x 1 1 2 orient y -1 1 0 orient z -1 -1 1
Lattice spacing in x,y,z = 6.6789423 5.7841337 7.0840881
create_atoms 	1 region 2
Created 1800 atoms
  using lattice units in orthogonal box = (0 0 -0.00365808) to (50.092067 28.920668 36.584458)
  create_atoms CPU = 0.001 seconds

# --------------------- FORCE FIELDS ---------------------
#Provide potential
pair_style      eam/alloy ### --> TYPE OF POTENTIAL (eam (OR) eam/alloy)
pair_coeff      *  *  CuAg.eam.alloy Ag  ### POTENTIAL FILENAME


# --------------------- SETTINGS ---------------------

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.411 | 5.411 | 5.411 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press          Volume    
         0   0             -8963.0005      0             -8963.0005     -5973.3391      51324.051    
        30   0             -8964.0763      0             -8964.0763     -3443.7334      51324.051    
Loop time of 0.299691 on 1 procs for 30 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -8963.00049826424  -8964.07633391507  -8964.07633391507
  Force two-norm initial, final = 3.47643 4.9599618e-07
  Force max component initial, final = 0.12627393 1.6676942e-08
  Final line search alpha, max atom move = 0.5 8.3384712e-09
  Iterations, force evaluations = 30 60

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.29515    | 0.29515    | 0.29515    |   0.0 | 98.48
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00093617 | 0.00093617 | 0.00093617 |   0.0 |  0.31
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0.00056662 | 0.00056662 | 0.00056662 |   0.0 |  0.19
Other   |            | 0.00304    |            |       |  1.01

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0

compute 	peratom all pe/atom
compute 	eatoms all reduce sum c_peratom
compute 	csym all centro/atom fcc
thermo 		10
thermo_style 	custom step temp pe c_eatoms pxx pyy pzz lx ly lz fnorm
#dump 		1 all custom 1 dump.relax.1.* id type xs ys zs c_peratom c_csym
run 0
WARNING: No fixes with time integration, atoms won't move (../verlet.cpp:60)
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 7.995011
  ghost atom cutoff = 7.995011
  binsize = 3.9975055, bins = 13 8 9
  2 neighbor lists, perpetual/occasional/extra = 1 1 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d
      bin: standard
  (2) compute centro/atom, occasional
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.042 | 5.042 | 5.042 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8964.0763     -8964.0763     -5177.9056     -5177.9056     -0.0070721536   50.092067      28.920668      35.343537      4.9599618e-07
Loop time of 9.25e-07 on 1 procs for 0 steps with 3200 atoms

108.1% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0          | 0          | 0          |   0.0 |  0.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0          | 0          | 0          |   0.0 |  0.00
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 9.25e-07   |            |       |100.00

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197600 ave      197600 max      197600 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197600
Ave neighs/atom = 61.75
Neighbor list builds = 0
Dangerous builds = 0
#this command creates a model of the script before the displacement and minimization occur
variable 	E equal "c_eatoms"
variable 	Eo equal $E
variable 	Eo equal -8964.07633391985
#variable 	E equal "c_eatoms" computes the initial energy of the model before any sliding is done
#E is necessary to store the initial energy in Eo

group 		bot region 1
1400 atoms in group bot
group 		top region 2
1800 atoms in group top
group 		top2 region 3
1400 atoms in group top2

displace_atoms 	top move ${x_displace} 0.0 0.0 units box
displace_atoms 	top move -1.66973556737869 0.0 0.0 units box
Displacing atoms ...

#displace_atoms is the command neccessary to move atoms into the next stacking arrangement (ie: A -> B)

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        30   0             -8962.3211     -8962.3211     -5591.7202     -5591.7202     -1576.99        50.092067      28.920668      35.343537      0.73964576   
        40   0             -8962.4682     -8962.4682     -4916.0068     -4916.0068     -147.92622      50.092067      28.920668      35.343537      0.079250389  
        50   0             -8962.4707     -8962.4707     -4849.2612     -4849.2612      2.0166763      50.092067      28.920668      35.343537      0.00021490913
        60   0             -8962.4707     -8962.4707     -4850.1594     -4850.1594      0.0068087804   50.092067      28.920668      35.343537      8.3903308e-06
        70   0             -8962.4707     -8962.4707     -4850.1627     -4850.1627     -0.0011681215   50.092067      28.920668      35.343537      1.9069354e-07
        76   0             -8962.4707     -8962.4707     -4850.1622     -4850.1622      1.4367245e-06  50.092067      28.920668      35.343537      8.8399799e-09
Loop time of 0.473499 on 1 procs for 46 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.32106258411  -8962.47074017725   -8962.4707401783
  Force two-norm initial, final = 0.73964576 8.8399799e-09
  Force max component initial, final = 0.026316509 2.9932082e-10
  Final line search alpha, max atom move = 1 2.9932082e-10
  Iterations, force evaluations = 46 92

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.46616    | 0.46616    | 0.46616    |   0.0 | 98.45
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0014256  | 0.0014256  | 0.0014256  |   0.0 |  0.30
Output  | 0.00023379 | 0.00023379 | 0.00023379 |   0.0 |  0.05
Modify  | 0.0008775  | 0.0008775  | 0.0008775  |   0.0 |  0.19
Other   |            | 0.004802   |            |       |  1.01

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

displace_atoms 	all random ${atomjiggle} ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 ${atomjiggle} 87287 units box
displace_atoms 	all random 1e-05 1e-05 1e-05 87287 units box
Displacing atoms ...
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
        76   0             -8962.4707     -8962.4707     -4855.1497     -4855.1298     -0.00096622144  50.092067      28.920668      35.307298      0.0018569171 
        80   0             -8962.4707     -8962.4707     -4855.1555     -4855.1356     -0.011779125    50.092067      28.920668      35.307298      6.5723427e-05
        90   0             -8962.4707     -8962.4707     -4855.1531     -4855.1332     -0.0063900344   50.092067      28.920668      35.307298      5.3695965e-06
       100   0             -8962.4707     -8962.4707     -4855.1507     -4855.1309     -0.0011512521   50.092067      28.920668      35.307298      5.7223554e-07
       110   0             -8962.4707     -8962.4707     -4855.1503     -4855.1304     -0.00012465594  50.092067      28.920668      35.307298      9.0409633e-08
       119   0             -8962.4707     -8962.4707     -4855.1502     -4855.1304     -6.5769993e-06  50.092067      28.920668      35.307298      8.8373301e-09
Loop time of 0.460298 on 1 procs for 43 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8962.47073941504  -8962.47073971322  -8962.47073971329
  Force two-norm initial, final = 0.0018569171 8.8373301e-09
  Force max component initial, final = 9.7625584e-05 5.3059648e-10
  Final line search alpha, max atom move = 1 5.3059648e-10
  Iterations, force evaluations = 43 86

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.4534     | 0.4534     | 0.4534     |   0.0 | 98.50
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0013379  | 0.0013379  | 0.0013379  |   0.0 |  0.29
Output  | 0.00023521 | 0.00023521 | 0.00023521 |   0.0 |  0.05
Modify  | 0.0008062  | 0.0008062  | 0.0008062  |   0.0 |  0.18
Other   |            | 0.004517   |            |       |  0.98

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Ef equal "c_eatoms"
variable 	Efo equal $Ef
variable 	Efo equal -8962.47073971326f
variable	Cf equal 1.60217657e-16
variable 	A equal (${xdim}*${ydim})*1e-20
variable 	A equal (50.0920670213607*${ydim})*1e-20
variable 	A equal (50.0920670213607*28.9206683790474)*1e-20
variable 	SFE equal ((${Ef}-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326-${Eo})*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*${Cf})/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/${A}
variable 	SFE equal ((-8962.47073971326--8964.07633391985)*1.60217657e-16)/1.44869605874579e-17
variable 	Efomj equal ${Ef}*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*${Cf}/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/${A}
variable 	Efomj equal -8962.47073971326*1.60217657e-16/1.44869605874579e-17

####################################
print "Initial energy of atoms = ${Eo} eV"
Initial energy of atoms = -8964.07633391985 eV
print "Initial energy before twinning Efo = ${Ef} $Efomj" # in SFE in mJ/m^2"
Initial energy before twinning Efo = -8962.47073971326 -8962.47073971326fomj

#----------- for twin fault energy -----------------------
variable	Ndiscrt equal 30
variable    	i loop ${Ndiscrt}
variable    	i loop 30
label       	loop

variable 	xt_displace equal -1*(${latparam1}/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*${i}/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*30/${Ndiscrt})
variable 	xt_displace equal -1*(4.09000014545435/sqrt(6)*30/30)
variable 	Bxt_displace equal 1.0+${i}/${Ndiscrt}
variable 	Bxt_displace equal 1.0+30/${Ndiscrt}
variable 	Bxt_displace equal 1.0+30/30

displace_atoms 	top2 move ${xt_displace} 0.0 0.0 units box
displace_atoms 	top2 move -1.66973556737869 0.0 0.0 units box
Displacing atoms ...

fix 		1 all setforce 0 0 NULL
min_style 	cg
minimize 	0.0 1e-8 20000 20000
Per MPI rank memory allocation (min/avg/max) = 6.292 | 6.292 | 6.292 Mbytes
   Step          Temp          PotEng        c_eatoms         Pxx            Pyy            Pzz             Lx             Ly             Lz           Fnorm     
       119   0             -8960.762      -8960.762      -5272.7477     -5272.7159     -1602.3658      50.092067      28.920668      35.307297      0.75198358   
       120   0             -8960.8315     -8960.8315     -5279.5038     -5279.472      -1644.4539      50.092067      28.920668      35.307297      0.4128404    
       130   0             -8960.9141     -8960.9141     -4571.107      -4571.0742     -118.17645      50.092067      28.920668      35.307297      0.06441147   
       140   0             -8960.9158     -8960.9158     -4515.6248     -4515.5919     -0.82649182     50.092067      28.920668      35.307297      0.00018072892
       150   0             -8960.9158     -8960.9158     -4515.2423     -4515.2094      0.008998223    50.092067      28.920668      35.307297      8.4776983e-06
       160   0             -8960.9158     -8960.9158     -4515.2462     -4515.2133     -0.0003095945   50.092067      28.920668      35.307297      3.7977707e-08
       168   0             -8960.9158     -8960.9158     -4515.2461     -4515.2131      5.7958994e-06  50.092067      28.920668      35.307297      7.6253956e-09
Loop time of 0.528531 on 1 procs for 49 steps with 3200 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -8960.76201635601  -8960.91581596771  -8960.91581596775
  Force two-norm initial, final = 0.75198358 7.6253956e-09
  Force max component initial, final = 0.027255767 4.5425802e-10
  Final line search alpha, max atom move = 1 4.5425802e-10
  Iterations, force evaluations = 49 98

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.52067    | 0.52067    | 0.52067    |   0.0 | 98.51
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0015324  | 0.0015324  | 0.0015324  |   0.0 |  0.29
Output  | 0.0002926  | 0.0002926  | 0.0002926  |   0.0 |  0.06
Modify  | 0.00093592 | 0.00093592 | 0.00093592 |   0.0 |  0.18
Other   |            | 0.0051     |            |       |  0.96

Nlocal:           3200 ave        3200 max        3200 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3344 ave        3344 max        3344 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         197400 ave      197400 max      197400 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:            0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 197400
Ave neighs/atom = 61.6875
Neighbor list builds = 0
Dangerous builds = 0

variable 	Eftwn equal "c_eatoms"
variable 	Eftwnmj equal ${Eftwn}*${Cf}/${A}
variable 	Eftwnmj equal -8960.91581596779*${Cf}/${A}
variable 	Eftwnmj equal -8960.91581596779*1.60217657e-16/${A}
variable 	Eftwnmj equal -8960.91581596779*1.60217657e-16/1.44869605874579e-17
variable 	TFEf equal ${Eftwnmj}-${Efomj}
variable 	TFEf equal -99102.7019050192-${Efomj}
variable 	TFEf equal -99102.7019050192--99119.8984893413

print 		"displacement and TFE = ${Bxt_displace} ${TFEf}" # in SFE in mJ/m^2"
displacement and TFE = 2 17.1965843220969

next 		i
jump		TFE_displacement1.lmpin
label 		break
Total wall time: 0:00:59
